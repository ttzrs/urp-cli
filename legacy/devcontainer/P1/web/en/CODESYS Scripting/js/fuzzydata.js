$(document).ready(function () {indexDict['en-US'] = [{ "title" : "CODESYS Scripting ", 
"url" : "_script_start_page.html", 
"breadcrumbs" : "CODESYS Scripting \/ CODESYS Scripting ", 
"snippet" : "CODESYS Scripting allows you to automate commands or complex program operations in CODESYS , which otherwise require manual mouse clicks and text input in the CODESYS user interface. For this purpose, scripts based on (Iron)Python can be started from the CODESYS user interface (command or configured...", 
"body" : "CODESYS Scripting allows you to automate commands or complex program operations in CODESYS , which otherwise require manual mouse clicks and text input in the CODESYS user interface. For this purpose, scripts based on (Iron)Python can be started from the CODESYS user interface (command or configured toolbar) or from the Windows command line. " }, 
{ "title" : "Scripting in CODESYS ", 
"url" : "_script_scripting_with_codesys.html", 
"breadcrumbs" : "CODESYS Scripting \/ Scripting in CODESYS ", 
"snippet" : "Using the scripting functionality in CODESYS , you can automate commands or complex program operations which would otherwise require manual mouse clicks and text input in the CODESYS user interface. For this purpose, scripts based on (Iron)Python can be created and started from the CODESYS user inte...", 
"body" : "Using the scripting functionality in CODESYS , you can automate commands or complex program operations which would otherwise require manual mouse clicks and text input in the CODESYS user interface. For this purpose, scripts based on (Iron)Python can be created and started from the CODESYS user interface (command or configured toolbar) or from the Windows command line. " }, 
{ "title" : "Examples of use cases ", 
"url" : "_script_scripting_with_codesys.html#UUID-77ae130a-b850-0395-99ae-009cc961710d_section-idm4609304796288033359653439539", 
"breadcrumbs" : "CODESYS Scripting \/ Scripting in CODESYS \/ Examples of use cases ", 
"snippet" : "Integration of CODESYS in automatic build server environments Continuous Integration (CI) Continuous Delivery (CD) Continuous Testing Integration with third-party software Code generators Creation of projects that are custom tailored to a specific machine configuration Creation of documentation Upda...", 
"body" : "Integration of CODESYS in automatic build server environments Continuous Integration (CI) Continuous Delivery (CD) Continuous Testing Integration with third-party software Code generators Creation of projects that are custom tailored to a specific machine configuration Creation of documentation Updating of libraries Setting of project information during the release process Automatic testing Mostly in connection with the CODESYS Test Manager Outputting variables via monitoring APIs " }, 
{ "title" : "Script language, Script editor ", 
"url" : "_script_scripting_with_codesys.html#UUID-77ae130a-b850-0395-99ae-009cc961710d_section-idm4585068348627233359656664727", 
"breadcrumbs" : "CODESYS Scripting \/ Scripting in CODESYS \/ Script language, Script editor ", 
"snippet" : "The CODESYS scripting language is modular and based on IronPython. For this purpose, the CODESYS ScriptEngine component combines the IronPython interpreter with the CODESYS development environment. Then you can use the extensive Python framework libraries, which includes file access in networks and ...", 
"body" : "The CODESYS scripting language is modular and based on IronPython. For this purpose, the CODESYS ScriptEngine component combines the IronPython interpreter with the CODESYS development environment. Then you can use the extensive Python framework libraries, which includes file access in networks and much more. CODESYS does not yet include its own Python editor. Create your scripts with any text editor or the Python editor. For more information, see: Creating a Python Script " }, 
{ "title" : "Architecture of the ScriptEngine, Extension possibilities ", 
"url" : "_script_scripting_with_codesys.html#UUID-77ae130a-b850-0395-99ae-009cc961710d_section-idm4609304567108833359657280777", 
"breadcrumbs" : "CODESYS Scripting \/ Scripting in CODESYS \/ Architecture of the ScriptEngine, Extension possibilities ", 
"snippet" : "The (Iron)Python scripting language used in CODESYS allows for access to the CODESYS Scripting APIs to control CODESYS processes. Moreover, it lets users effectively apply both the Python standard library and third-party Python modules, as well as third-party .NET framework libraries and .NET assemb...", 
"body" : "The (Iron)Python scripting language used in CODESYS allows for access to the CODESYS Scripting APIs to control CODESYS processes. Moreover, it lets users effectively apply both the Python standard library and third-party Python modules, as well as third-party .NET framework libraries and .NET assemblies. Users can execute the scripts from menu commands or configured toolbars in the CODESYS interface or from the Windows command line. Add-ons such as the CODESYS Test Manager also provide ways to execute scripts. With the Automation Platform APIs, the ScriptEngine APIs can be extended. Examples for this are CODESYS Test Manager and CODESYS SVN . Both provide their own objects and methods as an extension to the scripting APIs. In addition, the CODESYS Test Manager allows for the execution of scripts in a test case. For more information, see the respective API documentation of the add-ons. Registered Automation Platform users will find more information in the CODESYS Developer Network. For more information see: CODESYS scripting API " }, 
{ "title" : "Execute Script ", 
"url" : "_cds_executing_scripts.html", 
"breadcrumbs" : "CODESYS Scripting \/ Execute Script ", 
"snippet" : "You can execute Python script files (<file name>.py), which contain a sequence of commands for activating CODESYS functionalities, in the following way: In the CODESYS user interface by means of commands in the Tools → Scripting menu From the CODESYS user interface by means of a customized, configur...", 
"body" : "You can execute Python script files (<file name>.py), which contain a sequence of commands for activating CODESYS functionalities, in the following way: In the CODESYS user interface by means of commands in the Tools → Scripting menu From the CODESYS user interface by means of a customized, configured toolbar From the Windows command-line " }, 
{ "title" : "Calling Scripts from Menu Commands ", 
"url" : "_cds_starting_script_via_menu_command.html", 
"breadcrumbs" : "CODESYS Scripting \/ Execute Script \/ Calling Scripts from Menu Commands ", 
"snippet" : "Requirement: A valid Python script file <file name>.py is located in the file system. The CODESYS user interface is open. (optional) To monitor the processing of individual commands used in the script, click Tools → Scripting → Enable Script Tracing . In CODESYS , click Tools → Scripting → Execute S...", 
"body" : "Requirement: A valid Python script file <file name>.py is located in the file system. The CODESYS user interface is open. (optional) To monitor the processing of individual commands used in the script, click Tools → Scripting → Enable Script Tracing . In CODESYS , click Tools → Scripting → Execute Script File . The statements in the script are executed and, if script tracing is activated, listed in the message view. " }, 
{ "title" : "Starting Scripts from the Command Line ", 
"url" : "_cds_starting_script_via_command_line.html", 
"breadcrumbs" : "CODESYS Scripting \/ Execute Script \/ Starting Scripts from the Command Line ", 
"snippet" : "Requirement: A valid Python script file <file name>.py is located in the file system. Create a CMD file with the command start , the CODESYS starts, And with the option --runscript that calls the script file. Further options are possible, for example --noUI , if the CODESYS user interface should not...", 
"body" : "Requirement: A valid Python script file <file name>.py is located in the file system. Create a CMD file with the command start , the CODESYS starts, And with the option --runscript that calls the script file. Further options are possible, for example --noUI , if the CODESYS user interface should not be opened. Open the Windows window Command prompt and start the CMD file. You can pass arguments with additional information to the script. Python scripts can access arguments with the sys.argv[] list. The first element (Index 0) is always the name or path of the Python script that is executed, followed by the \"actual\" parameters. (This is similar to argc \/ argv in C.) In addition, scripts can also access environment variables that are set before  CODESYS  is started with the corresponding Python or .NET APIs. Example You have a CMD file (batch file) argvtestbat.cmd with the following content (all on one line). \"C:\\Program Files (x86)\\CODESYS 3.5.17.0\\CODESYS\\Common\\CODESYS.exe\" --profile=\"CODESYS V3.5 SP17\" --runscript=\"D:\\Dokumente\\Scripting\\ArgvTestScript.py\" --scriptargs:'username password 3.14 \"path=\\\"C:\\temp\\\\\\\"\"' --noUI You have a matching script file ArgvTestScript.py . from __future__ import print_function\n\nimport sys\nprint(\"sys.argv: \",\n len(sys.argv),\n \" elements:\")\n\nfor arg in sys.argv:\n print(\" - \", arg) Now when you execute the CMD file, CODESYS starts and executes the script without opening the CODESYS main window. Then CODESYS is exited: For a complete reference of all possible command line parameters, see the help page for the command-line interface in CODESYS in the section for \" --runscript \". For more information see: Command line interface, option --runscript For information about the Python API, see: https:\/\/docs.python.org\/2\/library\/os.html#process-parameters For information about the .NET API, see: https:\/\/msdn.microsoft.com\/de-de\/library\/77zkk0b6%28v=vs.110%29.aspx " }, 
{ "title" : "Calling Scripts from Toolbar Icons ", 
"url" : "_cds_executing_scripts_toolbar.html", 
"breadcrumbs" : "CODESYS Scripting \/ Execute Script \/ Calling Scripts from Toolbar Icons ", 
"snippet" : "You can provide your own toolbar in the CODESYS user interface with up to 32 icons for calling script files. For this you need an ICO file where the icon is stored, and a PY file where the Python script to be called is stored. The size of the icon should be 16x16 pixels. In the installation director...", 
"body" : "You can provide your own toolbar in the CODESYS user interface with up to 32 icons for calling script files. For this you need an ICO file where the icon is stored, and a PY file where the Python script to be called is stored. The size of the icon should be 16x16 pixels. In the installation directory or in the program files directory under CODESYS , you create a subdirectory named Script Commands . In that directory, you create the config.json configuration file. Specify the call information outline for each icon in the file. Here you can configure a maximum of 16 icons. You can also store the ICO and PY files in the same directory. Location < CODESYS installation directory>\\ CODESYS \\Script Commands Users\\<username>\\AppData\\Local\\ CODESYS \\Script Commands Example Default installation on Windows 10 C:\\Program Files (x86)\\CODESYS 3.5.14.0\\CODESYS\\Script Commands\\\nC:\\Users\\r.smith\\AppData\\Local\\CODESYS\\Script Commands If you store a config.json file with different call information at each of the storage locations, then you can configure up to 32 different icons. " }, 
{ "title" : "Configuration file ", 
"url" : "_cds_executing_scripts_toolbar.html#UUID-d4730f38-792f-45e5-df0f-405de3b2db0d_id_f3e55a0c9ba7f91c0a864630f70b315_id_601c55ce5de6a292c0a864634fa14fa4", 
"breadcrumbs" : "CODESYS Scripting \/ Execute Script \/ Calling Scripts from Toolbar Icons \/ Configuration file ", 
"snippet" : "Outline of the configuration file for 2 icons [ { <icon call information> }, { <last icon call information> } ] Outline of the call information <icon call information> \"Name\": \"<tooltip of the symbol button>\", \"Desc\": \"<description of the symbol button>\", \"Icon\": \"<icon file name>\", \"Path\": \"<path o...", 
"body" : "Outline of the configuration file for 2 icons [\n {\n <icon call information>\n },\n {\n <last icon call information>\n }\n] Outline of the call information <icon call information> \"Name\": \"<tooltip of the symbol button>\",\n\"Desc\": \"<description of the symbol button>\",\n\"Icon\": \"<icon file name>\",\n\"Path\": \"<path of the script file>\" Call information \"Name\" Required Displayed as symbol tooltip Example: \"Name\": \"Pause\" \"Desc\" Optional Comment for the icon Example: \"Desc\": \"Operation pause\" Note: Not yet displayed in the user interface \"Icon\" Required File path: <directory path>\\<icon name>.ico of the icon Example: \"Icon\": \"pause.ico\" Hint: If the file is in the same folder as the config.json file, then the file name is enough. \"Path\" Required Path of the Python script <directory path>\\<script name>.ico Example: \"Path\": \"stop.py\" Hint: If the file is in the same folder as the config.json file, then the file name is enough. \"Params\" Note: These parameters are not currently assessed. Example File: config.json [\n {\n \"Name\": \"Start\",\n \"Desc\": \"Starts processing\",\n \"Icon\": \"start.ico\",\n \"Path\": \"goon.py\"\n },\n {\n \"Name\": \"Pause\",\n \"Desc\": \"Pause operation\",\n \"Icon\": \"pause.ico\",\n \"Path\": \"stop.py\"\n },\n {\n \"Name\": \"Processing\",\n \"Desc\": \"Process again\",\n \"Icon\": \"VarStatSmall.ico\",\n \"Path\": \"process.py\"\n }\n] The following files are located in the Script Commands : config.json\ngoon.py\nstop.py\nprocess.py\nstart.ico\npause.ico\nVarStatSmall.ico " }, 
{ "title" : "Creating script calls for a toolbar button ", 
"url" : "_cds_executing_scripts_toolbar.html#UUID-d4730f38-792f-45e5-df0f-405de3b2db0d_id_f3e55a0c9ba7f91c0a864630f70b315_id_85f8e6225de6a292c0a864634505d8e4", 
"breadcrumbs" : "CODESYS Scripting \/ Execute Script \/ Calling Scripts from Toolbar Icons \/ Creating script calls for a toolbar button ", 
"snippet" : "Create the Script Commands folder in one of the storage locations. C:\\Users\\<username>\\AppData\\Local\\CODESYS Create executable Python files there. Example: File: copy.py print(\"The script COPY.PY is executed\") File: delete.py print(\"The script DELETE.PY is executed\") Create the ICO files for the scr...", 
"body" : "Create the Script Commands folder in one of the storage locations. C:\\Users\\<username>\\AppData\\Local\\CODESYS Create executable Python files there. Example: File: copy.py print(\"The script COPY.PY is executed\") File: delete.py print(\"The script DELETE.PY is executed\") Create the ICO files for the scripts. Example: Copy_before.ico , Copy_below.ico , CopyAll.ico Create a configuration file config.json there. The Users\\<username>\\AppData\\Local\\CODESYS\\Script Commands folder contains the following: Open config.json and add the outlined call information. [\n {\n \"Name\": \"Copy Before\",\n \"Desc\": \"Copy something\",\n \"Icon\": \"Copy_before.ico\",\n \"Path\": \"copy.py\n },\n {\n \"Name\": \"Copy Below\",\n \"Desc\": \"Copy something\",\n \"Icon\": \"Copy_below.ico\",\n \"Path\": \"copy.py\"\n },\n {\n \"Name\": \"Copy All\",\n \"Desc\": \"Copy something\",\n \"Icon\": \"CopyAll.ico\",\n \"Path\": \"copy.py\"\n },\n {\n \"Name\": \"Delete\",\n \"Desc\": \"Delete something\",\n \"Icon\": \"Delete.ico\",\n \"Path\": \"delete.py\"\n }\n] Start CODESYS . The script files, configuration file, and symbol files are read and provided in the Tools → Customize dialog on the Command Icons tab, in ScriptEngine Commands category. Open the Tools → Customize dialog and click the Toolbars tab. Select the empty toolbar there and click the Add Toolbar button. A line editor opens at the empty toolbar. Type in a name (example: User defined toolbar ). The custom toolbar is displayed in the CODESYS window. Add the recently imported commands and close the dialog. Click one of the icons. The following output is displayed in the message view. " }, 
{ "title" : "Restrictions ", 
"url" : "_script_restrictions.html", 
"breadcrumbs" : "CODESYS Scripting \/ Execute Script \/ Restrictions ", 
"snippet" : "...", 
"body" : "" }, 
{ "title" : "Reentrant script executions ", 
"url" : "_script_restrictions.html#UUID-65e6bbcf-fe8b-d8f8-562f-2ca216185111_section-id235160169847221", 
"breadcrumbs" : "CODESYS Scripting \/ Execute Script \/ Restrictions \/ Reentrant script executions ", 
"snippet" : "In CODESYS , it is possible that the execution of an IronPython script implies the execution of another, nested IronPython script. An example of this would be that a script is executed via the Execute Script command and the system.commands interface is used to call the command again with a different...", 
"body" : "In CODESYS , it is possible that the execution of an IronPython script implies the execution of another, nested IronPython script. An example of this would be that a script is executed via the Execute Script command and the system.commands interface is used to call the command again with a different script. Likewise, this kind of script could call the command to create a CODESYS Test Manager script which itself contains scripting test actions. We call these scenarios \"reentrant script execution\". Although these scenarios generally work, they are limited regarding the message memory and display. Each new script execution deletes all messages from the Scripting message category. In other words, only the messages from the deepest nested script execution are displayed until it is completed. This also applies if the script is executed with a console message logger ( noUI ). " }, 
{ "title" : "Creating a Python Script ", 
"url" : "_cds_creating_scripts.html", 
"breadcrumbs" : "CODESYS Scripting \/ Creating a Python Script ", 
"snippet" : "Python is a dynamic language. You can start in a simple linear programming style (\"batch files\") and later add the necessary and more powerful means, such as conditions, loops, functions, exceptions, classes, and modules. The focus of the language is on easy and expressive code. Python is more typic...", 
"body" : "Python is a dynamic language. You can start in a simple linear programming style (\"batch files\") and later add the necessary and more powerful means, such as conditions, loops, functions, exceptions, classes, and modules. The focus of the language is on easy and expressive code. Python is more typical at runtime and uses an automatic garbage collector to protect the programmer from accidental damage to the entire system. IronPython is an implementation of Python for .NET and allows for full access to the .NET framework and classes. The implementation of the IronPython interpreter is based on Python Version 2.7. There are a variety of free manuals and help pages on the Internet. See the following links for an introduction and detailed introduction about IronPython. http:\/\/forum.codesys.com\/viewforum.php : \"Script language Python...\" area in the CODESYS forum Especially for CODESYS -specific questions Also includes some examples https:\/\/docs.python.org\/2\/tutorial\/index.html: : Python tutorial in the official Python documentation http:\/\/docs.python.org\/release\/2.7\/ : Official documentation for Python 2.7 http:\/\/wiki.python.org\/moin\/BeginnersGuide : Useful manuals for learning IronPython http:\/\/wiki.python.org\/moin\/GermanLanguage : Collection of links for German help pages http:\/\/stackoverflow.com\/ : General community for programming For general question about (Iron)Python, not CODESYS -specific http:\/\/ironpython.net\/ : IronPython homepage http:\/\/ironpython.net\/support\/ : Mailing list, FAQ, etc. https:\/\/gitter.im\/IronLanguages\/ironpython: : Chat channel for IronPython developers Version incompatibility to Python V3.x The Python programming language will soon be available in the new version V3.x. Some of the older program modules have been removed. CODESYS GmbH is planning an update to this new version. Scripting developers should take this into consideration and design their scripts accordingly, for example by using the expression from __future__ import print_function . You can find more information about this topic at http:\/\/wiki.python.org\/moin\/Python2orPython3 and http:\/\/docs.python.org\/release\/3.1.2\/whatsnew\/3.0.html " }, 
{ "title" : "Getting Started with Python for CODESYS ", 
"url" : "_cds_python_first_steps.html", 
"breadcrumbs" : "CODESYS Scripting \/ Creating a Python Script \/ Getting Started with Python for CODESYS ", 
"snippet" : "See below for an simple application of a Python script in CODESYS : In any text editor, create a text file hello.py with the following contents: print(\"Hello, automation!\") Start CODESYS and click Tools → Scripting → Execute Script File . Select the file hello.py in the file system. See the result i...", 
"body" : "See below for an simple application of a Python script in CODESYS : In any text editor, create a text file hello.py with the following contents: print(\"Hello, automation!\") Start CODESYS and click Tools → Scripting → Execute Script File . Select the file hello.py in the file system. See the result in the message view: For more detailed examples of Python scripts for different use cases with CODESYS , see the following help pages. " }, 
{ "title" : "Tips for Python Programmers about .NET API Documentation ", 
"url" : "_cds_scripting_dotnet_api_docu.html", 
"breadcrumbs" : "CODESYS Scripting \/ Creating a Python Script \/ Tips for Python Programmers about .NET API Documentation ", 
"snippet" : "The current prerelease of the script interface documentation has been generated automatically from the underlying .NET and C# sources. Therefore, the documentation includes some expressions that are not familiar to Python programmers. The following overview provides some tips about how these express...", 
"body" : "The current prerelease of the script interface documentation has been generated automatically from the underlying .NET and C# sources. Therefore, the documentation includes some expressions that are not familiar to Python programmers. The following overview provides some tips about how these expressions can be understood from the Python perspective. An interface is the contract that tells an instance of a class that implements the interface which members (methods, properties) it has to prepare. In IronPython, you can implement one or more .NET interfaces in one class by inheriting from a superclass. If a method is needed for the interface but is not available in the class definition, then an exception is thrown. (The DeviceImportFromSvn.py example shows a class that implements the ImportReporter interface.) Each parameter and each method in .NET is strictly typed. The type of parameter is separated by one space character before the parameter name, and the type of return value from a method by one space character before the method name. You can use instances from subclasses when you define a class (or interface). A method without a return value is marked void . You can overload methods. As a result, multiple methods with the same name can exist in one class. However, the number or the types of parameters have to be different. IronPython automatically takes care of the most appropriate method overloading being called. The data type int corresponds to an integer from -2,147,483,648 to 2,147,483,647. The data type bool corresponds to the Python type bool ( True and False ). The data type string corresponds to the Python types str or unicode , which are identical in IronPython. The IDictionary<object, object> data type corresponds to an ordinary Python dictionary. IronPython automatically converts between Python and .NET data types. When a T type is inherited from IBaseObject<T> , it means that this type can be extended by other plug-ins for additional members. The actual use of this extended type as a parameter or return value is marked by IExtendedObject<T> . The IEnumerable<T> interface to a T type means that you can use every Python sequence (generators, lists, tuples, etc.) which returns T type values (or a subclass). Returns the sequence of incompatible objects, and throws an exception at runtime. The IList<T> interface to a T type identifies a typified list which guarantees to include only elements of type T (or a subclass). An exception is thrown at runtime when any attempt is made to add an incompatible object. The params T[] name id for a parameter of type T corresponds to the Python mechanism *name for variable argument lists. In Python, enumerations ( enum ) do not exist as language constructs. Its purpose is to define an exact number of constant values for a specific purpose, for example the days of the week. Access to .NET enumerations from IronPython works by using \"Name.Member\", for example via OnlineChangeOption.Try . There are also different approaches to emulate enums in Python. For example, see: http:\/\/pypi.python.org\/pypi\/enum\/ The syntax T name { get; set; } defines a property with name as the name and T as the type. If set; is missing, then the property is read-only. In Python, the respective construct is @property decorator. " }, 
{ "title" : "Basic Syntax of Python (with Examples) ", 
"url" : "_cds_python_basics.html", 
"breadcrumbs" : "CODESYS Scripting \/ Creating a Python Script \/ Basic Syntax of Python (with Examples) ", 
"snippet" : "Python is similar to the languages of the \"C family\", but there are some significant differences and unique properties. The most obvious syntactic difference between Python and language such as C and ST is that the Python parser recognizes block structures by their indentation. There is no BEGIN\/END...", 
"body" : "Python is similar to the languages of the \"C family\", but there are some significant differences and unique properties. The most obvious syntactic difference between Python and language such as C and ST is that the Python parser recognizes block structures by their indentation. There is no BEGIN\/END or braces {} to identify the blocks of IF\/ELSE conditions, FOR and WHILE loops, or functions. Comments start with # and extend to the end of the line. In the first and second line of the source code, you can set a special marker to declare the encoding of the file. We recommend that you use UTF-8 as the encoding if ASCII characters are not required. For debugging purposes, you use print for easy output. With the % operator, you achieve functionality similar to the C function printf() . The output is displayed in the message view of CODESYS . Example: print # encoding:utf-8\n\n# defining a function with the parameter i\ndef do_something(i):\n # if branch\n if i>0:\n print(\"The value is: %i\" % i)\n sum += i\n print(\"The new sum is: %i\" % sum)\n\n # else if (optional, there can be none or several elif branches)\n elif i=0:\n print(\"The sum did not change: %i\" % sum)\n\n # and the final else branch (also optional).\n else:\n handle_error()\n\n# an endless while loop\nwhile True:\n print(\"I got stuck forever!\") Everything that belongs to the same block has to be indented the same distance. The size of the indentation is irrelevant. Elements such as brackets and braces have a higher priority than indentations. Therefore, the following code segment is completely correct, even if it is written in a \"poor programming style\": Example: Indentation # warning: bad style below. Kids, don't try this at home!\nif foo >= bar:\n print(\"foobar\")\nelse:\n print(\n \"barfoo\"\n) To avoid ambiguity, you should not mix tabs and spaces in a file. At this time, mixing tabs and spaces gilt in Python 3 qualifies as a syntax error. The official Python Style Guide recommends indentation of four spaces and includes some examples of good and poor style. The Python tutorial provides a summary of coding style. Python is \"case-sensitive\", similar to C and in contrast to ST. Keywords, such as def , if , else , and while , have to be lowercase (in contrast to the ST rule: keywords are uppercase). Two identifiers, such as \"i\" and \"I\", also identify two different variables. The following keywords are reserved in Python and not permitted for use as identifiers for variables, functions, etc.: and | as | assert | break | class | continue | def | del | elif | else | except | exec | finally | for | from | global | if | import | in | is | lambda | not | or | pass | print | raise | return | try | while | with | yield . Python 3 defined four other keywords: False | None | True | nonlocal . While the first three are really new, the first three were already predefined constants in Python 2 and should not be used for any other purposes. For more information, see: Python Style Guide and Python Tutorial Dictionary Python also has a hash table type ( also \"hashmap\"). In contrast to the list, it can be indexed with any elements, for example strings. Its constructor is dict() and its literals are declared with braces {} . The sample script dictionaries.py creates the output displayed below. In the last line, the script is terminated with a \"KeyError\" exception: Example: dictionaries.py from __future__ import print_function\nprint(\"Testing dictionaries\")\n\n# Declare a dictionary with three entries, the third being a list\nd = {1: \"a\", 2: \"b\", \"my list\": [1, 2, 3]}\nprint(d)\n\n# print the value of the key 1\nprint(d[1])\n\n# remove the value with the key \"my list\"\ndel d[\"my list\"]\n\n# Add a value 4 with the key 3\nd[3] = 4\nprint(d)\n\n# The \"get\" method returns the second argument if the key cannot be found.\nprint(d.get(1, 42))\nprint(d.get(23, 42))\n\n# print all keys in the dictionary\nfor key in d:\n print(key)\n\n# index access for unknown keys will throw a \"KeyError\" exception!\nprint(d[23]) Resulting output: And then in the last line, the script terminates: Click the Details button to view the stack trace. Here you determine line number 27 and the unknown key 23 . " }, 
{ "title" : "Variables and data types ", 
"url" : "_cds_python_basics.html#UUID-79bbdd07-a0e2-5462-c006-9a8d8e57d7a4_id_a804f43d109a2a7c0a864630646739a_id_09876db5d11f819ac0a86463753788a7", 
"breadcrumbs" : "CODESYS Scripting \/ Creating a Python Script \/ Basic Syntax of Python (with Examples) \/ Variables and data types ", 
"snippet" : "Python is a powerful, dynamically typed language -- all type information is evaluated at runtime. Variables hold references to objects, and the object knows its type, not the variable. When a programmer attempts to execute an operation that is not possible (for example, adding an integer and a strin...", 
"body" : "Python is a powerful, dynamically typed language -- all type information is evaluated at runtime. Variables hold references to objects, and the object knows its type, not the variable. When a programmer attempts to execute an operation that is not possible (for example, adding an integer and a string), Python throws an exception at runtime. Consequently, there are no declarations of variables and their types. In Python, variables are created only to assign values to them. This is completely different in C and ST where types are strong and static. Every variable is declared with a type, and at compile time the compiler checks that the type and operators are permitted. See the following examples for handling variables: Example: Variables # assign the integer 1 to the variable i (also \"creates\" the variable\")\ni = 1\n\n# assign the string \"foobar\" to the variable s\ns = \"foobar\"\n\n# Add 5 to the integer i - this is equivalent to i = i + 5\ni += 5\n# i now holds the integer 6.\n\n# Try to add i and s - this will throw an exception when executed\n# TypeError: unsupported operand type(s) for +: 'int' and 'str'\nresult = i + s\n\n# variables can also be \"undeclared\" by deleting them.\n# Further access to the variable i will throw a NameError exception,\n# as the variable does not exist any more.\ndel i\n\ni += 5 # now throws an exception: NameError: name 'i' is not defined All existing variables reference one value only. There is not any unassigned or uninitialized variables in Python. To express the absence of a value, Python provides a special object: None . In C or ST, you would use a null pointer. Its only purpose is to express \"no value here\", although None is actually an existing instance of the class NoneType . " }, 
{ "title" : "Numeric types and floating points ", 
"url" : "_cds_python_basics.html#UUID-79bbdd07-a0e2-5462-c006-9a8d8e57d7a4_id_a804f43d109a2a7c0a864630646739a_id_bee8f824d11f819ac0a8646326bc8327", 
"breadcrumbs" : "CODESYS Scripting \/ Creating a Python Script \/ Basic Syntax of Python (with Examples) \/ Numeric types and floating points ", 
"snippet" : "In contrast to the dozens of integer types in IEC or C, there is only one integer type in Python. Integer types in Python do not have a fixed size. Instead, they grow as needed and are limited only by available memory. Example: Integers.py from __future__ import print_function i = 1 print(i) j = 0x1...", 
"body" : "In contrast to the dozens of integer types in IEC or C, there is only one integer type in Python. Integer types in Python do not have a fixed size. Instead, they grow as needed and are limited only by available memory. Example: Integers.py from __future__ import print_function\n\ni = 1\nprint(i)\n\nj = 0x1234 # hex number, is 16#1234 in IEC and 4660 in decimal\nk = 0o123 # octal number, is 8#123 in IEC and 83 decimal\nl = 0b101010 # binary number, is 2#101010 in IEC and 42 in decimal\nprint(j, k, l)\n\nm = (2 + 3)*10 # k is 50 now\nprint(m)\n\nn = 10 ** 100 # 10 to the power of 100\nprint(n) Resulting output: There is also only one floating-point type in Python which is similar to the IEC data type LREAL . It provides 64-bit IEEE floating point arithmetic. The syntax is like C-based languages for the most part: Example: Floating-point types # A simple float...\na = 123.456\n\n# A float containing the integral value 2\nb = 2.\n\n# Leading zeroes can be left off\nc = .3 # same as 0.3\n\n# Exponential \/ scientific representation\nd = -123e-5 Two special cases are True and False , two constants that define the Boolean truth values. They behave similar to the integer values 0 and 1 , except when they are converted into strings and return their names. Example: Booleans.py # booleans behave like integers, except when converted to strings.\n# The built-in function \"type\" can be used to query the type of a value.\nprint(\"True: \", True, type(True))\nprint(\"False: \", False, type(False))\nprint(\"1: \", 1, type(1))\nprint(\"False + 0: \", False + 0, type(False + 0))\nprint(\"True * 5: \", True * 5, type(True * 5)) Resulting output: " }, 
{ "title" : "Strings ", 
"url" : "_cds_python_basics.html#UUID-79bbdd07-a0e2-5462-c006-9a8d8e57d7a4_id_a804f43d109a2a7c0a864630646739a_id_e6c6288bd11f819ac0a864637420628d", 
"breadcrumbs" : "CODESYS Scripting \/ Creating a Python Script \/ Basic Syntax of Python (with Examples) \/ Strings ", 
"snippet" : "In IronPython, strings are always in Unicode and any length. It does not make any difference if they are enclosed in ' or \" . Strings can also have triple quotation marks \"\"\" or ''' , which allows for multiline string literals. Similar to C, special characters can be excluded by means of backslash c...", 
"body" : "In IronPython, strings are always in Unicode and any length. It does not make any difference if they are enclosed in ' or \" . Strings can also have triple quotation marks \"\"\" or ''' , which allows for multiline string literals. Similar to C, special characters can be excluded by means of backslash characters. As a comparison, the dollar sign ( $ ) is used in IEC for this purpose. There are also raw strings that have other rules for the backslash. This is practical when the string should have literal backslashes. Example: Windows file paths or regular expressions. Example: Strings.py # encoding:utf-8\nfrom __future__ import print_function\n\na = \"a simple string\"\nb = 'another string'\nc = \"strings may contain 'quotes' of the other type.\"\nd = \"multiple string literals\" ' are concatenated ' '''by the parser'''\ne = \"Escaping: quotes: \\\" \\' backslash: \\\\ newline: \\r\\n ascii code: \\x40\"\nf = \"\"\"triple-quoted strings may contain newlines, \"single\"\n'quotes' and '''multiquotes''' of the other type\"\"\"\ng = \"Üňíçǿđȩ is also possible: 北京, Москва, Αθήνα, القاهرة\"\nh = r\"c:\\raw\\strings\\retain\\backslashes.txt\"\n\n# we iterate over a sequence of all the variables defined above:\nfor i in (a,b,c,d,e,f,g,h):\n print(i) # prints the contents of the variable Resulting output: Python does not have characters types. Characters are expressed by the use of strings with a length of 1. In this way, iteration via a string, or indexing in a string, returns a single-string. " }, 
{ "title" : "Lists and tuples (data sets) ", 
"url" : "_cds_python_basics.html#UUID-79bbdd07-a0e2-5462-c006-9a8d8e57d7a4_id_a804f43d109a2a7c0a864630646739a_id_fbd5e6dfd11f819ac0a8646362c2834f", 
"breadcrumbs" : "CODESYS Scripting \/ Creating a Python Script \/ Basic Syntax of Python (with Examples) \/ Lists and tuples (data sets) ", 
"snippet" : "Lists and tuples basically correspond to arrays in C and IEC, but there are some noticeable differences: The index access is always checked. Accessing a list or a tuple with an invalid index throws an exception. Both lists and tuples can contain elements of different types (also other lists and tupl...", 
"body" : "Lists and tuples basically correspond to arrays in C and IEC, but there are some noticeable differences: The index access is always checked. Accessing a list or a tuple with an invalid index throws an exception. Both lists and tuples can contain elements of different types (also other lists and tuples). In contrast in C and IEC, arrays can contain only elements of a single type. Lists are dynamic, and elements can be added, removed, or replaced at any time. Tuples are not changeable: Once a tuple is created, it cannot be modified anymore. Lists are created with the list() constructor. As an alternative, you can use brackets [] . Tuples are created with the tuple() constructor or parentheses () . Example: list_tuples.py from __future__ import print_function\nprint(\"Testing tuples and lists\")\n\n# We define a tuple with the numbers from 1 to 10:\nt = (1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\nprint(\"Tuple:\", t)\n\n# We can access the 6th element of the tuple.\n# As in C, index counting starts with 0.\nprint(\"Element 5:\", t[5])\n\n# Subscription is more powerful using the range syntax:\nprint(\"Range[2:5]:\", t[2:5]) # lower bound is inclusive, upper bound is exclusive.\nprint(\"Range[2::2]:\", t[2::2]) # start with 3rd element, and print every 2nd element.\nprint(\"Range[-3:-1]:\", t[-3:-1]) # Start with the 3rd last element, end just before the last element (upper bound is exclusive)\nprint(\"Range[::-1]:\", t[::-1]) # negative step with - print backwards\n\n# lists are similar to tuples...\nl = [11, 12, 13, \"8\", t] # contains mixed types: 3 integers, a string, and the tuple defined above.\nprint(\"List:\", l)\n\n# ... but elements can be added or removed dynamically.\nl.append(9) # Add a 9 to the list.\nprint(\"List with 9:\", l)\nprint(\"List Range[3:6:2]:\", l[3:6:2]) # print the 4th and 6th element.\n\ndel l[1] # remove the element at index 1, the 12.\nprint(\"Removed[1]:\", l)\ndel l[1:3] # Remove the elements at index 1 and 2, the 13 and the '8'.\nprint(\"Removed[1:3]:\", l) Resulting output: " }, 
{ "title" : "Python Control Structures (with Examples) ", 
"url" : "_cds_python_control_structures.html", 
"breadcrumbs" : "CODESYS Scripting \/ Creating a Python Script \/ Python Control Structures (with Examples) ", 
"snippet" : "Modules and standard libraries In IEC, you can import libraries for reuse by other written code. As a pendant, there is the possibility in Python of importing modules. The Python standard library contains many modules for different purposes, such as: String processing Date and time handling Collecti...", 
"body" : "Modules and standard libraries In IEC, you can import libraries for reuse by other written code. As a pendant, there is the possibility in Python of importing modules. The Python standard library contains many modules for different purposes, such as: String processing Date and time handling Collections Threading Mathematical functions File handling Persistence Compression and archiving Database access Encryption services Network and Internet access Sending of emails To create your own modules, write a Python file that defines the functions and classes that you want to provide. Save this file to the same directory as our sample script. If you name the file mymodule.py , then you can import it with import mymodule . Here is an example of importing and using the cosine function and the pi constant from the math module: Example: Import mathematical function from math import cos, pi\n\nprint(pi) # prints 3.14159265359\n\nprint(cos(pi)) # prints -1.0 The following contains more examples that access information about the operating system, the Python version, and the interpreter: More import examples import os\nprint(os.environ[\"OS\"])\n\nfrom sys import platform, version, executable\nprint(platform)\nprint(version)\nprint(executable) There is a special module __future__ for activating new language features. Above all, it is used when Python developers introduce new functionalities that are backward compatible. These kinds of functionalities have to be activated with special \" __future__ imports\". One example that we use in most of our sample scripts here is the activation of the new power syntax of print as a function instead of a statement. Example: \"__future__\" # make print() a function instead of a statement\nfrom __future__ import print_function The Python documentation provides a complete list of all __future__ imports . In addition to the normal Python modules, IronPython code can also access .NET assemblies as if they were Python modules. This opens the access to the .NET framework class library and third-party libraries. Here is an example how to open a dialog by means of the Windows Forms library: Example: Opening a .NET dialog import clr\nclr.AddReference(\"System.Windows.Forms\")\nfrom System.Windows.Forms import MessageBox\n\nMessageBox.Show(\"Hello\") " }, 
{ "title" : "Loops ", 
"url" : "_cds_python_control_structures.html#UUID-41bf35cd-84fc-9964-0f0b-7fb9353165c8_id_b63866f1d12074a2c0a864632ac8f157_id_4f851aacd12e135fc0a8646365f686f8", 
"breadcrumbs" : "CODESYS Scripting \/ Creating a Python Script \/ Python Control Structures (with Examples) \/ Loops ", 
"snippet" : "As opposed to C and ST, for loops in Python do not count loop variables, but iterate over a sequence. This kind of sequence can be a \"dictionary\", a list, a tuple, the characters in a string, or lines in a file. The following example shows some for loops: Example: loops.py from __future__ import pri...", 
"body" : "As opposed to C and ST, for loops in Python do not count loop variables, but iterate over a sequence. This kind of sequence can be a \"dictionary\", a list, a tuple, the characters in a string, or lines in a file. The following example shows some for loops: Example: loops.py from __future__ import print_function\n\nprint(\"Enumerating over a simple list:\")\nfor i in (1,2,3,4):\n print(i, end=\", \") # end= replaces the newline with \", \"\nprint() # but we still need a newline at the end of this case.\n\nprint(\"Enumerating over the characters in a string:\")\nfor i in \"CODESYS\": # characters are representet as strings of length 1.\n print(i, end=\", \")\nprint()\n\nprint(\"Enumerating over the integers 1 to 4:\")\nfor i in range(1, 5): # upper bound is exclusive.\n print(i, end=\", \")\nprint()\n\nprint(\"Enumerating using xrange:\")\nfor i in xrange(5): # xrange is similar to range, but needs less memory for large ranges.\n print(i, end=\", \")\nprint()\n\nprint(\"Enumerating including the item number:\")\nfor i, v in enumerate(\"CODESYS\"):\n print(i, v) Resulting output: If you require an index or number in addition to the item, then you should use enumerate as shown in the last case of the sample script. The following code is considered as poor style: Example: Poor style text = \"CODESYS\"\n\nfor i in range(len(text)): # BAD STYLE!\n v = text[i] # DON'T TRY THIS AT HOME!\n print(i, v) Besides for loops, Python also has while loops which are very similar to those in C and ST: Example of \"while\" loop i = 0\nwhile i < 3;\n print(i)\n i += 1 Note: This example is not very practical. You would more likely use a for loop with a range. " }, 
{ "title" : "IF \/ ELSE ", 
"url" : "_cds_python_control_structures.html#UUID-41bf35cd-84fc-9964-0f0b-7fb9353165c8_id_b63866f1d12074a2c0a864632ac8f157_id_b0e45e92d12e135fc0a8646304f7c02b", 
"breadcrumbs" : "CODESYS Scripting \/ Creating a Python Script \/ Python Control Structures (with Examples) \/ IF \/ ELSE ", 
"snippet" : "The if\/else construct is similar to those in other programming languages. Here is a short example: Example: \"if_else.py\" from __future__ import print_function i = int(system.ui.query_string(\"Please enter an integral number...\")) if i < 0: print(\"Your number was negative.\") elif i > 0: print(\"Your nu...", 
"body" : "The if\/else construct is similar to those in other programming languages. Here is a short example: Example: \"if_else.py\" from __future__ import print_function\ni = int(system.ui.query_string(\"Please enter an integral number...\"))\nif i < 0:\n print(\"Your number was negative.\")\nelif i > 0:\n print(\"Your numer was positive.\")\nelse:\n print(\"It seems your number was zero.\") The else branch is optional and there can be zero, one, or many elif branches. " }, 
{ "title" : "Functions, classes, and methods ", 
"url" : "_cds_python_control_structures.html#UUID-41bf35cd-84fc-9964-0f0b-7fb9353165c8_id_b63866f1d12074a2c0a864632ac8f157_id_0db30903d12e135fc0a8646353ed05ef", 
"breadcrumbs" : "CODESYS Scripting \/ Creating a Python Script \/ Python Control Structures (with Examples) \/ Functions, classes, and methods ", 
"snippet" : "Python allows for defining functions and classes with methods. A class with methods is basically similar to a function block in ST, or classes in languages such as C++, Java, or C#. However, Python does not support interfaces. For detailed information, see the Python documentation for defining Funct...", 
"body" : "Python allows for defining functions and classes with methods. A class with methods is basically similar to a function block in ST, or classes in languages such as C++, Java, or C#. However, Python does not support interfaces. For detailed information, see the Python documentation for defining Functions and Classes . Examples: Functions, classes, and methods #defining a function with name sum and two parameters a and b:\ndef sum(a, b):\n return a + b # we return the sum of a and b.\n\n# we can now call the function defined above:\nprint(sum(5,7))\n\n# Now we define a class Foo:\nclass Foo:\n # The class gets a method \"bar\".\n # Note: for methods, the first parameter is always \"self\" and\n # points to the current instance. This is similar to \"this\" in\n # ST and other languages.\n def bar(self, a, b):\n print(\"bar(%s,%s)\" % (a,b))\n\n# We create an instance of the class:\nf = Foo()\n\n# We call the method bar on the instance.\nf.bar(\"some\", \"params\") " }, 
{ "title" : "Comparison of IronPython and cPython ", 
"url" : "_cds_ironpython_versus_cpython.html", 
"breadcrumbs" : "CODESYS Scripting \/ Creating a Python Script \/ Comparison of IronPython and cPython ", 
"snippet" : "There are some small differences and Incompatibilities between IronPython and \"standard\" Python (\"cPython\"). Some are direct errors in IronPython and should be removed in future versions. However, others are considered \"implementation details\" and will remain. Some of them are very challenging topic...", 
"body" : "There are some small differences and Incompatibilities between IronPython and \"standard\" Python (\"cPython\"). Some are direct errors in IronPython and should be removed in future versions. However, others are considered \"implementation details\" and will remain. Some of them are very challenging topics. The difference that is most obvious for users is the handling of strings. Original cPython has two different string types for \"byte strings\" and \"Unicode strings\". This concept is similar to the data types STRING and WSTRING in IEC. IronPython simply uses .NET strings that are always Unicode-capable and use UTF-16 internally. However, IronPython implements a trick to hide the difference to cPython from the programmer. (Interesting: For the new Python version 3, the developers have completely reworked their string handling. The result was a model which is much closer to IronPython. Unicode strings are always used after that and there is a separate data type for handling raw bytes) Python modules that are written in C cannot be imported into IronPython because cPython uses internal data structures that are completely different from IronPython. Most of the standard library modules were reimplemented in IronPython. However, some modules (such as the TK interface) are not available as long as they are not ported to IronPython explicitly. On the other hand, IronPython provides access to .NET assemblies including the .NET framework (as shown above), which more than compensates for this feature. While cPython uses reference counting and a deterministic garbage collector for cleaning up cyclic garbage, IronPython relies on the non-deterministic .NET garbage collector. In most cases, this difference does not matter. But when you open files or other resources from the Python standard library or the .NET framework, you should make sure to close them later. It is best to use the with statement with the Python context manager or .NET IDisposable instances. For more information, see: Content Managers and .NET IDisposable " }, 
{ "title" : "Using Scripts to Access CODESYS Functionalities ", 
"url" : "_cds_access_cds_func_in_python_scripts.html", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities ", 
"snippet" : "All objects and command which CODESYS provides for scripting are also available in the \" scriptengine \" Python module. Whenever a script is started, an implicit <code>from scriptengine import *<\/code> results. This allows for easy access to CODESYS . However, if your script imports modules that requ...", 
"body" : "All objects and command which CODESYS provides for scripting are also available in the \" scriptengine \" Python module. Whenever a script is started, an implicit <code>from scriptengine import *<\/code> results. This allows for easy access to CODESYS . However, if your script imports modules that require access CODESYS APIs, then these modules have to import the module scriptengine themselves. In the following table, you will find the main objects (categories) that can be used in Python scripts as entry points. For comprehensive documentation about entry points, see the API reference documentation for the CODESYS ScriptEngine: CODESYS Scripting API . Objects Description system Access to general CODESYS functionalities Examples: Exiting CODESYS Handling the general user interface Access to the message memory (including compiler messages) Control of delay and progress bars projects Access to the CODESYS project as an object tree that combines the three navigator views (devices, POUs, modules) in one project tree Also allows for the loading, creating, saving, and closing of projects For most objects in a project, there are special methods with detailed functionality, for example compiling, access to ST POUs, export, import, device configuration, etc. online Access to online functionalities Examples: Log in to devices and applications Management of access data (user name, password) Performance of network scans Gateway management librarymanager Allows the management of library repositories and viewing, installation, and removal of libraries device_repository Handling of device repositories; import and export of device descriptions modulerepository Management of CODESYS Application Composer modules and CODESYS Application Composer repositories See the following specific sample scripts for ways to access CODESYS functionalities. For detailed information, see the API reference documentation for the CODESYS ScriptEngine: CODESYS Scripting API . " }, 
{ "title" : "Example: Printing the device tree of the current project ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-1ff21fc5-3512-c23c-3684-17e0341b37b6", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Example: Printing the device tree of the current project ", 
"snippet" : "The script PrintDeviceTree.py is an example for navigating in a project. It creates the output of a hierarchical display of all devices in the open project. Load a project that contains some device objects and execute the script. Example: PrintDeviceTree.py # encoding:utf-8 # We enable the new pytho...", 
"body" : "The script PrintDeviceTree.py is an example for navigating in a project. It creates the output of a hierarchical display of all devices in the open project. Load a project that contains some device objects and execute the script. Example: PrintDeviceTree.py # encoding:utf-8\n# We enable the new python 3 print syntax\nfrom __future__ import print_function\n\n# Prints out all devices in the currently open project.\n\nprint(\"--- Printing the devices of the project: ---\")\n\n# Define the printing function. This function starts with the\n# so called \"docstring\" which is the recommended way to document\n# functions in python.\ndef print_tree(treeobj, depth=0):\n \"\"\" Print a device and all its children\n\n Arguments:\n treeobj -- the object to print\n depth -- The current depth within the tree (default 0).\n\n The argument 'depth' is used by recursive call and\n should not be supplied by the user.\n \"\"\"\n\n # if the current object is a device, we print the name and device identification.\n if treeobj.is_device:\n name = treeobj.get_name(False)\n deviceid = treeobj.get_device_identification()\n print(\"{0}- {1} {2}\".format(\"--\"*depth, name, deviceid))\n\n # we recursively call the print_tree function for the child objects.\n for child in treeobj.get_children(False):\n print_tree(child, depth+1)\n\n# We iterate over all top level objects and call the print_tree function for them.\nfor obj in projects.primary.get_children():\n print_tree(obj)\n\nprint(\"--- Script finished. ---\") The device tree (from the \"Devices\" view) is displayed in the message view and all non-device objects are left out: " }, 
{ "title" : "Example: Reading of variables ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-f04658fd-8f44-9612-db9e-0d0ba4adef9f", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Example: Reading of variables ", 
"snippet" : "The script ReadVariable.py logs in to the device and starts the application if necessary. Then the value of the variable PLC_PRG.iVar1 is read and output. To try the script, you need to modify the project path and variable names. Example: ReadVariable.py # encoding:utf-8 from __future__ import print...", 
"body" : "The script ReadVariable.py logs in to the device and starts the application if necessary. Then the value of the variable PLC_PRG.iVar1 is read and output. To try the script, you need to modify the project path and variable names. Example: ReadVariable.py # encoding:utf-8\nfrom __future__ import print_function\n\n# close open project if necessary:\nif projects.primary:\n projects.primary.close()\n\n# opens project\nproj = projects.open(r\"D:\\data\\projects\\Ampel.project\")\n\n# set \"Ampel.project\" to active application\napp = proj.active_application\nonlineapp = online.create_online_application(app)\n\n# login to device\nonlineapp.login(OnlineChangeOption.Try, True)\n\n# set status of application to \"run\", if not in \"run\"\nif not onlineapp.application_state == ApplicationState.run:\n onlineapp.start()\n\n# wait 1 second\nsystem.delay(1000)\n\n# read value of iVar1\nvalue = onlineapp.read_value(\"PLC_PRG.iVar1\")\n\n# display value in message view or command line\nprint(value)\n\n# log out from device and close \"Ampel.project\"\nonlineapp.logout()\nproj.close() In the extension of the script ReadVariable.py , the script MailVariables.py loads variables and expressions from a recipe file and reads their current values from the controller. Then these values are written back to the same file. In addition, it uses the Python SMTP library to send an email with an attachment containing a list of all variables. To use the script, you need to modify the paths, email address, and the name of the SMTP server to your environment. Example: MailVariables.py # encoding:utf-8\nfrom __future__ import print_function\n\n# Close current project if necessary and open \"ScriptTest.project\"\nif not projects.primary == None:\n projects.primary.close()\nproject = projects.open(\"D:\\\\Data\\\\projects\\\\scriptTest.project\")\n\n# retrieve active application\napplication = project.active_application\n\n# create online application\nonline_application = online.create_online_application(application)\n\n# login to application.\nonline_application.login(OnlineChangeOption.Try, True)\n\n# start PLC if necessary\nif not online_application.application_state == ApplicationState.run:\n online_application.start()\n\n# wait 2 seconds\nsystem.delay(2000)\n\n# open recipe file to read values.\nrecipe_input_file = open(\"D:\\\\Data\\\\projects\\\\RecipeInput.txt\", \"r\")\n\nwatch_expressions = []\n\nfor watch_expression in recipe_input_file:\n watch_expressions.append(watch_expression.strip())\n\nprint watch_expressions\n\n# read values from the controllerd\nwatch_values = online_application.read_values(watch_expressions)\n\nprint watch_values\n\n# open output file to write values\nrecipe_output_file = open(\"D:\\\\Data\\\\projects\\\\RecipeOutput.txt\", \"w\")\nfor i in range(len(watch_expressions)):\n recipe_output_file.write(watch_expressions[i])\n recipe_output_file.write(\" = \")\n recipe_output_file.write(watch_values[i])\n recipe_output_file.write(\"\\n\")\n\n# Close files\nrecipe_input_file.close()\nrecipe_output_file.close()\n\n# send Email\n# import respective libraries\nimport smtplib\nfrom email.mime.text import MIMEText\n\n#open output file\nrecipe_output_file = open(\"D:\\\\Data\\\\projects\\\\RecipeOutput.txt\", \"r\")\nmail = MIMEText(recipe_output_file.read())\nrecipe_output_file.close()\n\n#email address sender and recipient\nfromm = \"info@example.com\"\nto = \"info@example.com\"\n\n# set sender and recipient\nmail[\"Subject\"] = \"Attention value has changed\"\nmail[\"From\"] = fromm\nmail[\"To\"] = to\n\n# send email\nsmtp = smtplib.SMTP(\"name of smtp server\")\nsmtp.sendmail(fromm, [to], mail.as_string())\nsmtp.quit()\n\n# logout and close application\nonline_application.logout()\nproject.close() " }, 
{ "title" : "Example: Creating and editing of POUs ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-f84d1054-0503-e110-f60f-1bba49668bfc", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Example: Creating and editing of POUs ", 
"snippet" : "The script CreateDut.py creates the objects MyStruct , MyAlias , and MyUnion in the CODESYS project. The folder DataTypes already has to be present. Example: CreateDut.py # encoding:utf-8 from __future__ import print_function STRUCT_CONTENT = \"\"\"\\ a : BOOL; b : BIT; c : BIT; \"\"\" UNION_WHOLE = \"\"\"\\ T...", 
"body" : "The script CreateDut.py creates the objects MyStruct , MyAlias , and MyUnion in the CODESYS project. The folder DataTypes already has to be present. Example: CreateDut.py # encoding:utf-8\nfrom __future__ import print_function\n\nSTRUCT_CONTENT = \"\"\"\\\n a : BOOL;\n b : BIT;\n c : BIT;\n\"\"\"\n\nUNION_WHOLE = \"\"\"\\\nTYPE MyUnion :\nUNION\n Zahl : INT;\n Prozent : MyAlias;\n Bits : MyStruct;\nEND_UNION\nEND_TYPE\n\"\"\"\n\nproj = projects.primary\n\nfolder = proj.find('DataTypes', recursive = True)[0]\n\n# Create a struct DUT and insert the list of variables just into the right\n# place in line two, row 0 (line numbering starts with line 0)\nstruktur = folder.create_dut('MyStruct') # DutType.Structure is the default\nstruktur.textual_declaration.insert(2, 0, STRUCT_CONTENT)\n\n# Alias types get their \"content\" via the base type, which will just end up\n# as one line in the declaration part:\n# TYPE MyAlias : INT (0..100); END_TYPE\nbereich = folder.create_dut('MyAlias', DutType.Alias, \"INT (0..100)\")\n\n# Instead of injecting the variables into the existing declaration,\n# one can also just replace the complete declaration part, including the\n# boilerplate code.\nunion = folder.create_dut('MyUnion', DutType.Union)\nunion.textual_declaration.replace(UNION_WHOLE) " }, 
{ "title" : "Example: User interface \/ Interaction with the user ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-81a59971-ce41-8511-1635-9da2963bf86c", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Example: User interface \/ Interaction with the user ", 
"snippet" : "In some cases, scripts have to interact with the user. We provide some simple APIs for the most common interactions. The sample script System_UI_Test.py shows all of the possible functions in this regard. Example: System_UI_Test.py # encoding:utf-8 from __future__ import print_function \"\"\"Performs s...", 
"body" : "In some cases, scripts have to interact with the user. We provide some simple APIs for the most common interactions. The sample script System_UI_Test.py shows all of the possible functions in this regard. Example: System_UI_Test.py # encoding:utf-8\nfrom __future__ import print_function\n\n\"\"\"Performs some tests on the messagestore and UI.\"\"\"\n\nprint(\"Some Error, Warning and Information popups:\")\nsystem.ui.error(\"Fatal error: Everything is OK. :-)\")\nsystem.ui.warning(\"Your bank account is surprisingly low\")\nsystem.ui.info(\"Just for your information: 42\")\n\nprint(\"Now, we ask the user something.\")\nres = system.ui.prompt(\"Do you like this?\", PromptChoice.YesNo, PromptResult.Yes);\nprint(\"The user selected '%s'\" % res)\n\nprint(\"Now, the user can choose between custom options:\")\nres = system.ui.choose(\"Please choose:\", (\"First\", 2, 7.5, \"Something else\"))\nprint(\"The user selected option '%s'\" % str(res)) # res is a tuple\n\nprint(\"Now, the user can choose several options:\")\nres = system.ui.select_many(\"Please select one or more options\", PromptChoice.OKCancel, PromptResult.OK, (\"La Premiere\", \"The Second\", \"Das Dritte\"))\nprint(\"The returned result is: '%s'\" % str(res)) # res is a tuple\n\nprint(\"Now, the user can select files and directories\")\nres = system.ui.open_file_dialog(\"Choose multiple files:\", filter=\"Text files (*.txt)|*.txt|Image Files(*.BMP;*.JPG;*.GIF)|*.BMP;*.JPG;*.GIF|All files (*.*)|*.*\", filter_index = 0, multiselect=True)\nprint(\"The user did choose: '%s'\" % str(res)) # res is a tuple as multiselect is true.\n\nres = system.ui.save_file_dialog(\"Choose a file to save:\", filter=\"Text files (*.txt)|*.txt|Image Files(*.BMP;*.JPG;*.GIF)|*.BMP;*.JPG;*.GIF|All files (*.*)|*.*\", filter_index = 0)\nprint(\"The user did choose: '%s'\" % res)\n\nres = system.ui.browse_directory_dialog(\"Choose a directory\", path=\"C:\\\\\")\nprint(\"The user did choose: '%s'\" % res)\n\nprint(\"Now we query a single line string\")\nres = system.ui.query_string(\"What's your name?\")\nprint(\"Nice to meet you, dear %s.\" % res)\n\nprint(\"Now we query a multi line string\")\nres = system.ui.query_string(\"Please tell me a nice story about your life!\", multi_line=True)\nif (res):\n print(\"Huh, that has been a long text, at least %s characters!\" % len(res))\nelse:\n print(\"Hey, don't be lazy!\")\n " }, 
{ "title" : "Example: Manipulating the Project Information object ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-4eec8bcb-93f3-8f78-fc08-e99f12b81f53", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Example: Manipulating the Project Information object ", 
"snippet" : "In the script ProjectInfoExample.py , we set some information in the Project Information object. The most important information items, such as Title and Version , have explicit properties. However, you can read and write any other information fields by means of the dictionary syntax. For example, th...", 
"body" : "In the script ProjectInfoExample.py , we set some information in the Project Information object. The most important information items, such as Title and Version , have explicit properties. However, you can read and write any other information fields by means of the dictionary syntax. For example, those that are recommended for the properties of a library project. The example below may seem somewhat unrealistic, but similar code is used in build servers that create, test, and possibly release automatic library projects and other projects. The ScriptEngine is one of the key elements for creating CI (Continuous Integration) and CD (Continuous Delivery) systems. Example: ProjectInfoExample.py # encoding:utf-8\nfrom __future__ import print_function\n\nproj = projects.load(\"D:\\Some.library\")\n\ninfo = proj.get_project_info()\n\n# Set some values\ninfo.company = \"Test Library Ltd\"\ninfo.title = \"Script Test Project\"\ninfo.version = (0, 8, 15, 4711)\ninfo.default_namespace = \"testlibrary\"\ninfo.author = \"Python von Scriptinger\"\n\n# some values recommended in the library toolchain\ninfo.values[\"DefaultNamespace\"] = \"testlibrary\"\ninfo.values[\"Placeholder\"] = \"testlibrary\"\ninfo.values[\"DocFormat\"] = \"reStructuredText\"\n\n# now we set a custom \/ vendor specific value.\ninfo.values[\"SpecialDeviceId\"] = \"PLC0815_4711\"\n\n# Enable generation of Accessor functions, so the IEC\n# application can display the version in an info screen.\ninfo.change_accessor_generation(True)\n\n# And set the library to released\ninfo.released = True;\n\nproj.save() " }, 
{ "title" : "Example: Calling external commands and importing PLCopenXML files ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-8c75d2d2-82fd-9c02-b253-f1707f231222", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Example: Calling external commands and importing PLCopenXML files ", 
"snippet" : "The sample script DeviceImportFromSVN.py gets a PLCopenXML file from an external program (in this case a SVN client) and imports it into a new created CODESYS project. To use the script, you need to modify the paths to your environment. Example: DeviceImportFromSVN.py # encoding:utf-8 # Imports a De...", 
"body" : "The sample script DeviceImportFromSVN.py gets a PLCopenXML file from an external program (in this case a SVN client) and imports it into a new created CODESYS project. To use the script, you need to modify the paths to your environment. Example: DeviceImportFromSVN.py # encoding:utf-8\n# Imports a Device in PLCopenXML from Subversion via command line svn client.\n\n# We enable the new python 3 print syntax\nfrom __future__ import print_function\n\nimport sys, os\n\n# some variable definitions:\nSVNEXE = r\"C:\\Program Files\\Subversion\\bin\\svn.exe\"\nXMLURL = \"file:\/\/\/D:\/testrepo\/testfolder\/TestExport.xml\"\nPROJECT = r\"D:\\test.project\"\n\n# clean up any open project:\nif projects.primary:\n projects.primary.close()\n\n# Fetch the plcopenxml data from subversion.\n# We'll catch the output of the program into the xmldata variable.\n# The 'with' construct automatically closes the open pipe for us.\nwith os.popen('\"' + SVNEXE + '\" cat ' + XMLURL, 'r') as pipe:\n xmldata = pipe.read()\n\n# create a new project:\nproj = projects.create(PROJECT)\n\n# import the data into the project.\nproj.import_xml(xmldata, False)\n\n# and finally save. :-)\nproj.save()\n\nprint(\"--- Script finished. ---\") " }, 
{ "title" : "Examples: Project archiving ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-e9f294e4-f90f-8738-d08a-2671dd2f7140", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples: Project archiving ", 
"snippet" : "The functions open_archive() and save_archive() are scripting functions for extracting a project archive or saving a project as a project archive. For both functions, ArchiveCategories can be specified. For this, open_archive() accepts the parameter categories_to_extract . save_archive() accepts the...", 
"body" : "The functions open_archive() and save_archive() are scripting functions for extracting a project archive or saving a project as a project archive. For both functions, ArchiveCategories can be specified. For this, open_archive() accepts the parameter categories_to_extract . save_archive() accepts the parameter additional_categories . ArchiveCategories are project archive categories which are extracted with the project archive in the case of open_archive() or archived with the project archive in the case of save_archive() . " }, 
{ "title" : "Examples: open_archive() ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-e9f294e4-f90f-8738-d08a-2671dd2f7140_section-id235151955509895", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples: Project archiving \/ Examples: open_archive() ", 
"snippet" : "Various examples of open_archive() with the parameter categories_to_extract are presented below: Default behavior : categories_to_extract=None If categories_to_extract are not explicitly specified, then the parameter is set to None . All categories are pulled and extracted from the project archive. ...", 
"body" : "Various examples of open_archive() with the parameter categories_to_extract are presented below: Default behavior : categories_to_extract=None If categories_to_extract are not explicitly specified, then the parameter is set to None . All categories are pulled and extracted from the project archive. Example # Default\nprojects.open_archive(stArchiveFile=r\"D:\\Tests\\Test.projectarchive\", stProjectPath=r\"D:\\Tests\", bOverwrite=True) Empty list : categories_to_extract=[] If the parameter categories_to_extract is explicitly specified with an empty list, then no categories are pulled from the project archive. Example # Passing empty list\nprojects.open_archive(stArchiveFile=r\"D:\\Tests\\Test.projectarchive\", stProjectPath=r\"D:\\Tests\", bOverwrite=True, categories_to_extract=[]) Multiple categories Multiple categories can be specified in the parameter categories_to_extract . Only the specified categories are also extracted. Example # Multiple categories\nprojects.open_archive(stArchiveFile=r\"D:\\Tests\\Test.projectarchive\", stProjectPath=r\"D:\\Tests\", bOverwrite=True, categories_to_extract=[ArchiveCategories.libraries, ArchiveCategories.devices]) Possible errors If categories are specified in categories_to_extract which do not exist in the current CODESYS installation, then an error message is displayed. The project archive cannot be extracted until the missing category is installed or the category is removed from the parameter in the script. " }, 
{ "title" : "Examples: save_archive() ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-e9f294e4-f90f-8738-d08a-2671dd2f7140_section-id235151982136617", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples: Project archiving \/ Examples: save_archive() ", 
"snippet" : "Various examples of save_archive() with the parameter additional_categories are presented below: Default behavior If additional_categories are not explicitly set, then the default categories of the CODESYS interface are also archived. No categories : additional_categories=None If additional_categori...", 
"body" : "Various examples of save_archive() with the parameter additional_categories are presented below: Default behavior If additional_categories are not explicitly set, then the default categories of the CODESYS interface are also archived. No categories : additional_categories=None If additional_categories is explicitly set to None in the script, then no categories will be archived. Multiple categories Multiple categories can be specified in the parameter additional_categories . Only the specified categories will be included in the archive. Example # Muliple categories\nprojects.save_archive(path=r\"D:\\Tests\", comment=\"A new project\", additional_files=[], additional_categories=[ArchiveCategories.libraries, ArchiveCategories.devices]) " }, 
{ "title" : "Advanced example: Calling a library from SVN and installing it in CODESYS ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-f8dc791e-79b1-01d1-38ab-1ff26c838733", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Advanced example: Calling a library from SVN and installing it in CODESYS ", 
"snippet" : "The following sample script can perform the calling and installing of a library as part of a CT (Continuous Testing) environment so that they can be tested. In addition to standard- CODESYS , the CODESYS SVN add-on also has to be installed with a valid license. Example import tempfile if projects.pr...", 
"body" : "The following sample script can perform the calling and installing of a library as part of a CT (Continuous Testing) environment so that they can be tested. In addition to standard- CODESYS , the CODESYS SVN add-on also has to be installed with a valid license. Example import tempfile\n\nif projects.primary:\n projects.primary.close()\n\ntempdir = tempfile.mkdtemp()\nURL = \"svn:\/\/localhost\/testrepo\/trunk\/SvnTestLibrary\/\"\n\nproj = svn.checkout(URL, tempdir, \"testlibrary\", as_library=True)\nproj.save()\n\nrepo = librarymanager.repositories[0]\nlibrarymanager.install_library(proj.path, repo, True)\n\nproj.close() " }, 
{ "title" : "Examples and Best Practices for the CODESYS Trace Scripting API ", 
"url" : "_script_examples_for_scripting_api_of_trace.html", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API ", 
"snippet" : "CODESYS Scripting from CODESYS Trace The following examples are intended as a supplement to the automatically generated API documentation from CODESYS Scripting to CODESYS Trace ....", 
"body" : "CODESYS Scripting from CODESYS Trace The following examples are intended as a supplement to the automatically generated API documentation from CODESYS Scripting to CODESYS Trace . " }, 
{ "title" : "Creating a Trace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-385ab78d-d675-9432-2788-f934a017beb2", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Creating a Trace ", 
"snippet" : "You can use the CODESYS Trace Scripting API to create a new Trace. myApplication = projects.primary.find(\"Device\", \"PLC Logic\", \"Application\")[0] traceObject = trace.create(myApplication, \"MyTraceName\") A task named Task must already exist here. If it does not exist, then this assignment throws a Va...", 
"body" : "You can use the CODESYS Trace Scripting API to create a new Trace. myApplication = projects.primary.find(\"Device\", \"PLC Logic\", \"Application\")[0]\ntraceObject = trace.create(myApplication, \"MyTraceName\")\n A task named Task must already exist here. If it does not exist, then this assignment throws a ValueError . traceObject.task_name = \"Task\" In the script, you can specify in which task the newly created trace should be executed. myApplication = projects.primary.find(\"Device\", \"PLC Logic\", \"Application\")[0]\ntraceObjectWithTaskSet = trace.create(myApplication, \"NameOfMySecondTrace\", \"MainTask\")\nassert traceObjectWithTaskSet.task_name == \"MainTask\" " }, 
{ "title" : "Finding and Verifying an Existing Trace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-e069c436-9cb4-91cd-eb89-25d271ebfc04", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Finding and Verifying an Existing Trace ", 
"snippet" : "To find an existing trace, you can use the project.find method. For all other objects of the IScriptObject type, .is_trace_object equals FALSE . foundObjects = projects.primary.find(\"Device\", \"PLC Logic\", \"Application\", \"MyTraceObject\") expectedTraceObject = foundObjects[0] assert expectedTraceObjec...", 
"body" : "To find an existing trace, you can use the project.find method. For all other objects of the IScriptObject type, .is_trace_object equals FALSE . foundObjects = projects.primary.find(\"Device\", \"PLC Logic\", \"Application\", \"MyTraceObject\")\nexpectedTraceObject = foundObjects[0]\nassert expectedTraceObject.is_trace_object, \"Could not find trace object with the expected name\"\n " }, 
{ "title" : "Adding and Modifying Trace Variables ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-1eb4a7bf-03b6-63ce-4945-37dec8f18c74", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Adding and Modifying Trace Variables ", 
"snippet" : "The add_variable() method is a simple method to add a new ScriptTraceVariable and set its properties during creation. myTrace = projects.primary.find(\"Device\", \"PLC Logic\", \"Application\", \"MyTraceObject\")[0] addedVariable = myTrace.add_trace_variable(variableName=\"PLC_PRG.a1\", graphColor= 0xff000000...", 
"body" : "The add_variable() method is a simple method to add a new ScriptTraceVariable and set its properties during creation. myTrace = projects.primary.find(\"Device\", \"PLC Logic\", \"Application\", \"MyTraceObject\")[0]\n\naddedVariable = myTrace.add_trace_variable(variableName=\"PLC_PRG.a1\",\n graphColor= 0xff000000,\n graphType=GraphType.LINES,\n activateMaxWarning=True,\n maxWarningArea=9.0,\n maxColor= 0xffff0000)\naddedVariable.enabled = False\n\nfor i in range(2,11):\n newVariable = myTrace.variable_list.add()\n newVariable.variable_name = \"PLC_PRG.a\"+str(i)\n newVariable.graph_type = GraphType.LINES_CROSSES\n\nassert len(myTrace.variable_list) == 10 " }, 
{ "title" : "Modifying the ScriptTrace Variable List ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-27bea738-93cd-84ac-0396-64f739218a46", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Modifying the ScriptTrace Variable List ", 
"snippet" : "...", 
"body" : "" }, 
{ "title" : "Removing a specific ScriptTrace variable ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-27bea738-93cd-84ac-0396-64f739218a46_id_KopievonBeispieleSnippetsBestPractices-RemovingaspecificScriptTraceVariable", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Modifying the ScriptTrace Variable List \/ Removing a specific ScriptTrace variable ", 
"snippet" : "In the following code snippet, a variable with the specified name is first found and then removed from the ScriptTraceVariableList . def remove_variable_by_name(traceObject, variableName): index_to_remove = -1 for variable in traceObject.variable_list: if variable.variable_name == variableName: inde...", 
"body" : "In the following code snippet, a variable with the specified name is first found and then removed from the ScriptTraceVariableList . def remove_variable_by_name(traceObject, variableName):\n index_to_remove = -1\n for variable in traceObject.variable_list:\n if variable.variable_name == variableName:\n index_to_remove = traceObject.variable_list.index_of(variable)\n break\n if index_to_remove != -1:\n traceObject.variable_list.remove(index_to_remove) " }, 
{ "title" : "Modifying the Recording Settings ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-94cde555-71d6-476d-5232-f6ab24e51f0d", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Modifying the Recording Settings ", 
"snippet" : "...", 
"body" : "" }, 
{ "title" : "Setting the resolution (ms\/µs) of the trace recording ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-94cde555-71d6-476d-5232-f6ab24e51f0d_id_KopievonBeispieleSnippetsBestPractices-Settingtheresolutionmssofthetracerecording", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Modifying the Recording Settings \/ Setting the resolution (ms\/µs) of the trace recording ", 
"snippet" : "The following code snippet is based on the \" Creating a Trace\" snippet. traceObject.resolution = Resolution.MicroSeconds Use Resolution.MilliSeconds if you want recording based on milliseconds....", 
"body" : "The following code snippet is based on the \" Creating a Trace\" snippet. traceObject.resolution = Resolution.MicroSeconds\n Use Resolution.MilliSeconds if you want recording based on milliseconds. " }, 
{ "title" : "Setting the recording condition ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-94cde555-71d6-476d-5232-f6ab24e51f0d_id_KopievonBeispieleSnippetsBestPractices-Settingtherecordcondition", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Modifying the Recording Settings \/ Setting the recording condition ", 
"snippet" : "The following code snippet is based on the \" Creating a Trace\" snippet. traceObject.record_condition = \"PLC_PRG.bDoRecord\"...", 
"body" : "The following code snippet is based on the \" Creating a Trace\" snippet. traceObject.record_condition = \"PLC_PRG.bDoRecord\"\n " }, 
{ "title" : "Setting a comment ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-94cde555-71d6-476d-5232-f6ab24e51f0d_id_KopievonBeispieleSnippetsBestPractices-Settingthecomment", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Modifying the Recording Settings \/ Setting a comment ", 
"snippet" : "The following code snippet is based on the \" Creating a Trace\" snippet. traceObject.comment = \"This trace records the ...\"...", 
"body" : "The following code snippet is based on the \" Creating a Trace\" snippet. traceObject.comment = \"This trace records the ...\"\n " }, 
{ "title" : "Setting the AutoStart option ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-94cde555-71d6-476d-5232-f6ab24e51f0d_id_KopievonBeispieleSnippetsBestPractices-SettingtheAutoStartoption", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Modifying the Recording Settings \/ Setting the AutoStart option ", 
"snippet" : "The following code snippet is based on the \" Creating a Trace\" snippet. traceObject.auto_start = True...", 
"body" : "The following code snippet is based on the \" Creating a Trace\" snippet. traceObject.auto_start = True\n " }, 
{ "title" : "Setting the option to record only in every n-th cycle ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-94cde555-71d6-476d-5232-f6ab24e51f0d_id_KopievonBeispieleSnippetsBestPractices-SettingtheoptiontorecordonlyeveryNthcycle", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Modifying the Recording Settings \/ Setting the option to record only in every n-th cycle ", 
"snippet" : "The following code snippet is based on the \" Creating a Trace\" snippet. traceObject.every_n_cycles = 10...", 
"body" : "The following code snippet is based on the \" Creating a Trace\" snippet. traceObject.every_n_cycles = 10\n " }, 
{ "title" : "Diagrams and Their Variables ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-04c1b9a8-bb14-fbfd-3805-9711ebba973f", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Diagrams and Their Variables ", 
"snippet" : "...", 
"body" : "" }, 
{ "title" : "Creating one ScriptTrace diagram with all ScriptTrace variables ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-04c1b9a8-bb14-fbfd-3805-9711ebba973f_id_KopievonBeispieleSnippetsBestPractices-CreateoneScriptTraceDiagramwithallScriptTraceVariable", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Diagrams and Their Variables \/ Creating one ScriptTrace diagram with all ScriptTrace variables ", 
"snippet" : "The following script is an example for creating a simple diagram where all variables are used. First, a ScriptTrace object and some ScriptTrace variables are created. traceObject = projects.primary.find(\"Device\",\"PLC Logic\",\"Application\",\"Trace\")[0] assert traceObject.is_trace_object for i in range(...", 
"body" : "The following script is an example for creating a simple diagram where all variables are used. First, a ScriptTrace object and some ScriptTrace variables are created. traceObject = projects.primary.find(\"Device\",\"PLC Logic\",\"Application\",\"Trace\")[0]\nassert traceObject.is_trace_object\nfor i in range(5):\n traceObject.add_trace_variable(variableName=\"PLC_PRG.a\"+str(i))\n Next, a ScriptTrace diagram is created and then all ScriptTrace variables are added. traceDiagram = traceObject.diagrams.add()\nfor traceVar in traceObject.variable_list:\n traceDiagram.add_diagram_variable(traceVar) " }, 
{ "title" : "Creating one ScriptTrace diagram per ScriptTrace variable ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-04c1b9a8-bb14-fbfd-3805-9711ebba973f_id_KopievonBeispieleSnippetsBestPractices-CreateoneScriptTraceDiagramperScriptTraceVariable", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Diagrams and Their Variables \/ Creating one ScriptTrace diagram per ScriptTrace variable ", 
"snippet" : "The following Python method takes one ScriptTrace object and adds a diagram per ScriptTrace variable. def one_diagram_per_variable(traceObject): assert traceObject.is_trace_object for traceVar in traceObject.variable_list: diagram = traceObject.diagrams.add(traceVar) diagram.name = traceVar.variable...", 
"body" : "The following Python method takes one ScriptTrace object and adds a diagram per ScriptTrace variable. def one_diagram_per_variable(traceObject):\n assert traceObject.is_trace_object\n for traceVar in traceObject.variable_list:\n diagram = traceObject.diagrams.add(traceVar)\n diagram.name = traceVar.variable_name\n " }, 
{ "title" : "Copying the Settings of a ScriptTrace Diagram ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-40f0cc7b-3dd9-5210-2c81-06f898579f41", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Copying the Settings of a ScriptTrace Diagram ", 
"snippet" : "The following script shows how to modify and copy the settings of a ScriptTrace diagram. traceObject = projects.primary.find(\"Device\",\"PLC Logic\",\"Application\",\"Trace\")[0] assert traceObject.is_trace_object # apply settings for the first diagram traceObject.diagrams[0].y_axis.mode = AxisScaleMode.Fi...", 
"body" : "The following script shows how to modify and copy the settings of a ScriptTrace diagram. \ntraceObject = projects.primary.find(\"Device\",\"PLC Logic\",\"Application\",\"Trace\")[0]\nassert traceObject.is_trace_object\n\n# apply settings for the first diagram\ntraceObject.diagrams[0].y_axis.mode = AxisScaleMode.FixedLength\ntraceObject.diagrams[0].y_axis.range = 10.0\ntraceObject.diagrams[0].y_axis.color = 0xffee0000\ntraceObject.diagrams[0].y_axis.draw_grid = True\ntraceObject.diagrams[0].y_axis.grid_color = 0xffee0000\ntraceObject.diagrams[0].tickmark_fixed_spacing = True\ntraceObject.diagrams[0].tickmark_fixed_distance = 5.0\ntraceObject.diagrams[0].tickmark_fixed_subdivisions = 4\n\n# copy the settings from the first diagrams to all other diagrams\nfor i in range(1,len(traceObject.diagrams))\n traceObject.diagrams[i].y_axis.copy_from(traceObject.diagrams[0])\n " }, 
{ "title" : "Online Handling of Trace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-7cdc3fea-17fb-1c0d-4407-f1812b4b2bd0", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Online Handling of Trace ", 
"snippet" : "...", 
"body" : "" }, 
{ "title" : "Downloading and starting Trace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-7cdc3fea-17fb-1c0d-4407-f1812b4b2bd0_id_KopievonBeispieleSnippetsBestPractices-Downloadandstarttrace", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Online Handling of Trace \/ Downloading and starting Trace ", 
"snippet" : "The following code snippet finds the Trace trace of the Application application, downloads it, and starts it. proj = projects.open(r\"<Path to the project file>\") app = proj.find(\"Device\", \"PLC Logic\", \"Application\")[0] with online.create_online_application(app) as onlineapp: traceObject = proj.find(...", 
"body" : "The following code snippet finds the Trace trace of the Application application, downloads it, and starts it. proj = projects.open(r\"<Path to the project file>\")\napp = proj.find(\"Device\", \"PLC Logic\", \"Application\")[0]\nwith online.create_online_application(app) as onlineapp:\n traceObject = proj.find(\"Device\", \"PLC Logic\", \"Application\", \"Trace\")[0]\n onlineapp.login(OnlineChangeOption.Never, True)\n onlineapp.start()\n editor = traceObject.open_editor()\n editor.download()\n editor.start() " }, 
{ "title" : "Saving the trace to a file ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-7cdc3fea-17fb-1c0d-4407-f1812b4b2bd0_id_KopievonBeispieleSnippetsBestPractices-Savingtracetoafile", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Online Handling of Trace \/ Saving the trace to a file ", 
"snippet" : "The following code snippet is based on the \" Downloading and starting Trace\" snippet. A trace must be stopped before it can be saved. This can be done either by reaching the trigger condition or by an explicit call of stop() . It is assumed that a trace is already running. editor.stop() editor.save(...", 
"body" : "The following code snippet is based on the \" Downloading and starting Trace\" snippet. A trace must be stopped before it can be saved. This can be done either by reaching the trigger condition or by an explicit call of stop() . It is assumed that a trace is already running. editor.stop()\neditor.save(r\"<File path to csv file>\") " }, 
{ "title" : "Querying various information about the trace recording ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-7cdc3fea-17fb-1c0d-4407-f1812b4b2bd0_id_KopievonBeispieleSnippetsBestPractices-Querymiscellaneousinformationabouttracerecording", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Online Handling of Trace \/ Querying various information about the trace recording ", 
"snippet" : "The following code snippet is based on the \" Downloading and starting Trace\" snippet. It is assumed that a trace is already running. print(\"Packet State: {}\".format(editor.get_packet_state())) print(\"Trace started at {} (absolute timestamp)\".format(editor.get_trace_start_timetamp()))...", 
"body" : "The following code snippet is based on the \" Downloading and starting Trace\" snippet. It is assumed that a trace is already running. print(\"Packet State: {}\".format(editor.get_packet_state()))\nprint(\"Trace started at {} (absolute timestamp)\".format(editor.get_trace_start_timetamp())) " }, 
{ "title" : "Trigger Handling ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-c2b239af-af15-efed-b932-7a7dde57e5a0", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Trigger Handling ", 
"snippet" : "...", 
"body" : "" }, 
{ "title" : "Configuring a Boolean trigger ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-c2b239af-af15-efed-b932-7a7dde57e5a0_id_KopievonBeispieleSnippetsBestPractices-ConfigureaBOOLtrigger", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Trigger Handling \/ Configuring a Boolean trigger ", 
"snippet" : "traceObject = proj.find(\"Device\", \"PLC Logic\", \"Application\", \"Trace\")[0] traceObject.trigger_variable = \"PLC_PRG.bVar\" traceObject.trigger_edge = TriggerEdge.Positive traceObject.post_trigger_samples = 20 The trigger level is required only for numeric trigger variables. However, it is good coding s...", 
"body" : "traceObject = proj.find(\"Device\", \"PLC Logic\", \"Application\", \"Trace\")[0]\ntraceObject.trigger_variable = \"PLC_PRG.bVar\"\ntraceObject.trigger_edge = TriggerEdge.Positive\ntraceObject.post_trigger_samples = 20\n The trigger level is required only for numeric trigger variables. However, it is good coding style to explicitly set the trigger to None . traceObject.trigger_level = None " }, 
{ "title" : "Configuring a numeric trigger ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-c2b239af-af15-efed-b932-7a7dde57e5a0_id_KopievonBeispieleSnippetsBestPractices-Configureanumerictrigger", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Trigger Handling \/ Configuring a numeric trigger ", 
"snippet" : "traceObject = proj.find(\"Device\", \"PLC Logic\", \"Application\", \"Trace\")[0] traceObject.trigger_variable = \"PLC_PRG.iTemperature\" traceObject.trigger_edge = TriggerEdge.Positive traceObject.post_trigger_samples = 20 If the trigger variable is of type REAL or LREAL , then the trigger level can also be ...", 
"body" : "traceObject = proj.find(\"Device\", \"PLC Logic\", \"Application\", \"Trace\")[0]\ntraceObject.trigger_variable = \"PLC_PRG.iTemperature\"\ntraceObject.trigger_edge = TriggerEdge.Positive\ntraceObject.post_trigger_samples = 20 If the trigger variable is of type REAL or LREAL , then the trigger level can also be specified as a floating-point number (for example, 80.5 ). traceObject.trigger_level = 80 " }, 
{ "title" : "Waiting for the trigger and saving recorded data ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-c2b239af-af15-efed-b932-7a7dde57e5a0_id_KopievonBeispieleSnippetsBestPractices-Waitingfortriggerandsaverecordeddata", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Trigger Handling \/ Waiting for the trigger and saving recorded data ", 
"snippet" : "The following code snippet is based on the \" Downloading and starting Trace\" snippet and \"Configuring a * trigger\". triggerstate = editor.get_trigger_state() while triggerstate != TriggerState.TriggerReached: system.delay(200) triggerstate = editor.get_trigger_state() editor.save(r\"<File path to csv...", 
"body" : "The following code snippet is based on the \" Downloading and starting Trace\" snippet and \"Configuring a * trigger\". triggerstate = editor.get_trigger_state()\nwhile triggerstate != TriggerState.TriggerReached:\n system.delay(200)\n triggerstate = editor.get_trigger_state()\n\neditor.save(r\"<File path to csv file>\") " }, 
{ "title" : "Querying timestamp information after reaching the trigger ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-c2b239af-af15-efed-b932-7a7dde57e5a0_id_KopievonBeispieleSnippetsBestPractices-Querytimestampinformationaftertriggerhasbeenreached", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Trigger Handling \/ Querying timestamp information after reaching the trigger ", 
"snippet" : "The following code snippet is based on the \" Downloading and starting Trace\" snippet and \"Configuring a * trigger\". print(\"Trigger reached at {} (absolute timestamp)\".format(editor.get_trigger_timetamp())) print(\"Trigger reached at {}\".format(editor.get_trigger_startdate())) print(\"Trace was running...", 
"body" : "The following code snippet is based on the \" Downloading and starting Trace\" snippet and \"Configuring a * trigger\". print(\"Trigger reached at {} (absolute timestamp)\".format(editor.get_trigger_timetamp()))\nprint(\"Trigger reached at {}\".format(editor.get_trigger_startdate()))\nprint(\"Trace was running {}ms until trigger has been reached\".format(editor.get_trigger_timetamp() - editor.get_trace_start_timetamp())) " }, 
{ "title" : "Resuming trace recording after reaching the trigger ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-c2b239af-af15-efed-b932-7a7dde57e5a0_id_KopievonBeispieleSnippetsBestPractices-Resumetracerecordingaftertriggerhasbeenreached", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Trigger Handling \/ Resuming trace recording after reaching the trigger ", 
"snippet" : "The following code snippet is based on the \" Downloading and starting Trace\" snippet and \"Configuring a * trigger\". editor.reset_trigger()...", 
"body" : "The following code snippet is based on the \" Downloading and starting Trace\" snippet and \"Configuring a * trigger\". editor.reset_trigger() " }, 
{ "title" : "Device Trace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-a57fe435-d021-bbe6-c14a-db27f97a934d", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Device Trace ", 
"snippet" : "...", 
"body" : "" }, 
{ "title" : "Creating a DeviceTrace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-a57fe435-d021-bbe6-c14a-db27f97a934d_id_KopievonBeispieleSnippetsBestPractices-CreateaDeviceTrace", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Device Trace \/ Creating a DeviceTrace ", 
"snippet" : "myDevice = projects.primary.find(\"Device\")[0] devicetrace = trace.create(myDevice, \"DeviceTrace\")...", 
"body" : "myDevice = projects.primary.find(\"Device\")[0]\ndevicetrace = trace.create(myDevice, \"DeviceTrace\") " }, 
{ "title" : "Querying the current trace recordings on the device ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-a57fe435-d021-bbe6-c14a-db27f97a934d_id_KopievonBeispieleSnippetsBestPractices-Querycurrenttracerecordingsonthedevice", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Device Trace \/ Querying the current trace recordings on the device ", 
"snippet" : "The following code snippet is based on the \" Creating a DeviceTrace\" snippet. traceObject = projects.primary.find(\"Device\", \"DeviceTrace\")[0] For application traces, the result of get_online_traces contains only traces of the application. # traceObject = projects.primary.find(\"Device\", \"PLC Logic\", ...", 
"body" : "The following code snippet is based on the \" Creating a DeviceTrace\" snippet. traceObject = projects.primary.find(\"Device\", \"DeviceTrace\")[0]\n For application traces, the result of get_online_traces contains only traces of the application. # traceObject = projects.primary.find(\"Device\", \"PLC Logic\", \"Application\", \"Trace\")[0]\neditor = traceObject.open_editor()\nfor tracepacket in editor.get_online_traces():\n print(tracepacket) " }, 
{ "title" : "Uploading an existing trace as DeviceTrace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-a57fe435-d021-bbe6-c14a-db27f97a934d_id_KopievonBeispieleSnippetsBestPractices-UploadexistingtracetoDeviceTrace", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Examples and Best Practices for the CODESYS Trace Scripting API \/ Device Trace \/ Uploading an existing trace as DeviceTrace ", 
"snippet" : "The following code snippet is based on the \" Creating a DeviceTrace\" snippet. traceObject = projects.primary.find(\"Device\", \"DeviceTrace\")[0] editor = traceObject.open_editor() editor.upload_to_device_trace(\"CpuCoreLoad\")...", 
"body" : "The following code snippet is based on the \" Creating a DeviceTrace\" snippet. traceObject = projects.primary.find(\"Device\", \"DeviceTrace\")[0]\neditor = traceObject.open_editor()\neditor.upload_to_device_trace(\"CpuCoreLoad\") " }, 
{ "title" : "Message handling with CODESYS Scripting Scripting ", 
"url" : "_script_message_handling_with_scripting.html", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Message handling with CODESYS Scripting Scripting ", 
"snippet" : "Requirements : CODESYS V3.5 SP17 or newer with installed CODESYS Scripting Version 4.2.0.0 Preparations : Copy the desired code example to a file and save it as a Python script under any name. To execute the saved Python script, follow these steps: Start CODESYS . Click the Tools → Scripting → Execu...", 
"body" : "Requirements : CODESYS V3.5 SP17 or newer with installed CODESYS Scripting Version 4.2.0.0 Preparations : Copy the desired code example to a file and save it as a Python script under any name. To execute the saved Python script, follow these steps: Start CODESYS . Click the Tools → Scripting → Execute Script File menu command. In the Select Script File dialog, select the Python script which should be executed. All outputs are displayed in the Messages view in the Scripting category. Terminology Message Service : Functionality of the Automation Platform to display different prompts which can then be processed automatically if necessary Message Key : Unique identifier for a prompt which has been generated via the message service. Not every prompt has a message key. Message keys of prompts are normally hidden, but they can be displayed using the property system.log_prompt_details (see below: Property: ). " }, 
{ "title" : "Property: system.script_prompt_handling ", 
"url" : "_script_message_handling_with_scripting.html#UUID-87499b2f-e086-5a74-affa-0d9fb0b6a357_section-id235153315777883", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Message handling with CODESYS Scripting Scripting \/ Property: system.script_prompt_handling ", 
"snippet" : "You can use the property system.script_prompt_handling to specify if and how message service prompts are processed automatically. Example 1 The values ScriptPromptHandling.LogPrompts and ScriptPromptHandling.ForwardUnknownPrompts are assigned. The value ScriptPromptHandling.ForwardUnknownPrompts spe...", 
"body" : "You can use the property system.script_prompt_handling to specify if and how message service prompts are processed automatically. Example 1 The values ScriptPromptHandling.LogPrompts and ScriptPromptHandling.ForwardUnknownPrompts are assigned. The value ScriptPromptHandling.ForwardUnknownPrompts specifies that all prompts without a matching entry in system.prompt_answers are forwarded to the underlying message service. The value ScriptPromptHandling.LogPrompts specifies that, for all prompts with an entry in system.prompt_answers is displayed in the message view, with which values the prompt was confirmed. system.script_prompt_handling = ScriptPromptHandling.LogPrompts | ScriptPromptHandling.ForwardUnknownPrompts Example 2 The values ScriptPromptHandling.LogPrompts and ScriptPromptHandling.AlwaysForwardPrompts are assigned. The value ScriptPromptHandling.AlwaysForwardPrompts specifies that all prompts are forwarded to the underlying message service. Matching entries in \"system.prompt_answers\" are ignored. ScriptPromptHandling.LogPrompts has no effect in this case because ScriptPromptHandling.AlwaysForwardPrompts has the highest priority and overrides all other options. system.script_prompt_handling = ScriptPromptHandling.LogPrompts | ScriptPromptHandling.AlwaysForwardUnknown The following additional conditions apply to all prompts which require an additional user interaction (for example, selecting check boxes) when only ScriptPromptHandling.SuppressPrompts or ScriptPromptHandling.LogPrompt is set: All prompts without a message key are forwarded to the underlying message service. All prompts with a message key require an entry in system.prompt_answers . " }, 
{ "title" : "Property: system.process_script_prompts ", 
"url" : "_script_message_handling_with_scripting.html#UUID-87499b2f-e086-5a74-affa-0d9fb0b6a357_section-id235153379466094", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Message handling with CODESYS Scripting Scripting \/ Property: system.process_script_prompts ", 
"snippet" : "With the system.process_script_prompts property, you can specify whether prompts which are generated via system.ui should also be processed by the message handling of CODESYS Scripting . Example 1 In the following example, the processing of prompts, which are generated via CODESYS Scripting , is ena...", 
"body" : "With the system.process_script_prompts property, you can specify whether prompts which are generated via system.ui should also be processed by the message handling of CODESYS Scripting . Example 1 In the following example, the processing of prompts, which are generated via CODESYS Scripting , is enabled. When this script is executed, the generated info prompt is processed by the message handling of CODESYS Scripting and the result is displayed in the message view. system.process_script_prompts = True\nsystem.script_prompt_handling = ScriptPromptHandling.LogPrompts\nsystem.ui.info(\"my info message\", \"message_key\") Example 2 In the following example, the processing of prompts, which are generated via CODESYS Scripting , is disabled. When this script is executed, an info prompt opens which is not processed by the message handling of CODESYS Scripting . system.process_script_prompts = False\nsystem.script_prompt_handling = ScriptPromptHandling.LogPrompts\nsystem.ui.info(\"my info message\", \"message_key\") " }, 
{ "title" : "Property: system.log_prompt_details ", 
"url" : "_script_message_handling_with_scripting.html#UUID-87499b2f-e086-5a74-affa-0d9fb0b6a357_section-id235153395554342", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Message handling with CODESYS Scripting Scripting \/ Property: system.log_prompt_details ", 
"snippet" : "With the system.log_prompt_details property, you can specify whether all details of a prompt should be displayed in the message view before processing. This is especially useful if the response for a more complex prompt should be stored in system.prompt_answers . Because the message key of a prompt ...", 
"body" : "With the system.log_prompt_details property, you can specify whether all details of a prompt should be displayed in the message view before processing. This is especially useful if the response for a more complex prompt should be stored in system.prompt_answers . Because the message key of a prompt is also output, the method can be used to determine the matching message key for use in system.prompt_answers , for example. Example 1 In the following example, logging for prompt details is enabled . After that, a prompt with additional options is generated. When this script is executed, the prompt appears and all information about this prompt is displayed in the message view. system.log_prompt_details = True\nsystem.process_script_prompts = True\noptions = [\"Option 1\", \"Option 2\", \"Option 3\"]\nsystem.ui.select_many(\"my info message\", PromptChoice.OKCancel, PromptResult.Cancel, options, \"message_key\") Example 2 In the following example, logging for prompt details is disabled . After that, a prompt with additional options is generated. When this script is executed, the prompt appears. No information about the prompt is displayed in the message view. system.log_prompt_details = False\nsystem.process_script_prompts = True\noptions = [\"Option 1\", \"Option 2\", \"Option 3\"]\nsystem.ui.select_many(\"my info message\", PromptChoice.OKCancel, PromptResult.Cancel, options, \"message_key\") " }, 
{ "title" : "Property: system.prompt_answers ", 
"url" : "_script_message_handling_with_scripting.html#UUID-87499b2f-e086-5a74-affa-0d9fb0b6a357_section-id235153404768729", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Message handling with CODESYS Scripting Scripting \/ Property: system.prompt_answers ", 
"snippet" : "With the system.prompt_answers property, you can specify how responses should be made to specific prompts. This is necessary When prompts should not be answered with the set default values For prompts which require additional user interaction (for example, selecting check boxes) Only responses for p...", 
"body" : "With the system.prompt_answers property, you can specify how responses should be made to specific prompts. This is necessary When prompts should not be answered with the set default values For prompts which require additional user interaction (for example, selecting check boxes) Only responses for prompts with a message key can be stored. " }, 
{ "title" : "Prompts without additional selection options ", 
"url" : "_script_message_handling_with_scripting.html#UUID-87499b2f-e086-5a74-affa-0d9fb0b6a357_section-id235153408386325", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Message handling with CODESYS Scripting Scripting \/ Prompts without additional selection options ", 
"snippet" : "In the following example, the way in which the response to prompts with the message_key_1 message key should be done is stored in system.prompt_answers . In this example, all prompts with this message key are answered with OK answered. When this script is executed, two prompts are generated one afte...", 
"body" : "In the following example, the way in which the response to prompts with the message_key_1 message key should be done is stored in system.prompt_answers . In this example, all prompts with this message key are answered with OK answered. When this script is executed, two prompts are generated one after the other. The first prompt with the message_key_1 message key is processed automatically and the result is displayed in the message view. The second prompt with the message_key_2 message key is displayed. system.process_script_prompts = True\nsystem.prompt_answers[\"message_key_1\"] = PromptResult.OK\nsystem.ui.prompt(\"automatically processed prompt\", PromptChoice.OKCancel, PromptResult.Cancel, message_key=\"message_key_1\")\nsystem.ui.prompt(\"shown prompt\", PromptChoice.OKCancel, PromptResult.Cancel, message_key=\"message_key_2\") " }, 
{ "title" : "Prompts with additional single selection ", 
"url" : "_script_message_handling_with_scripting.html#UUID-87499b2f-e086-5a74-affa-0d9fb0b6a357_section-id235153408756057", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Message handling with CODESYS Scripting Scripting \/ Prompts with additional single selection ", 
"snippet" : "For prompts which expect the selection of one option from a list of possible options, the option which should be selected must be stored in system.prompt_answers for the corresponding message key. There are two options for this: Specify the zero-based index of the desired option Store a delegate of ...", 
"body" : "For prompts which expect the selection of one option from a list of possible options, the option which should be selected must be stored in system.prompt_answers for the corresponding message key. There are two options for this: Specify the zero-based index of the desired option Store a delegate of type MultipleChoiceSelector Example 1 In the following example, index is stored in system.prompt_answers , which should be used for all prompts with the message_key_1 message key. system.process_script_prompts = True\noptions = [\"Option 1\", \"Option 2\", \"Option 3\"]\nsystem.prompt_answers[\"message_key_1\"] = 1\nsystem.ui.choose(\"single choice prompt\", options, message_key=\"message_key_1\") Example 2 In the following example, a delegate of type MultipleChoiceSelector is stored in system.prompt_answers which should be used for all prompts with the message_key_1 message key. from System import Array\n\n# filter function\ndef my_filter(choices):\n    return Array.IndexOf(choices, \"Option 2\")\n\nsystem.process_script_prompts = True\noptions = [\"Option 1\", \"Option 2\", \"Option 3\"]\nsystem.prompt_answers[\"message_key_1\"] = MultipleChoiceSelector(my_filter)\nsystem.ui.choose(\"single choice prompt\", options, message_key=\"message_key_1\") " }, 
{ "title" : "Prompts with additional multiselection ", 
"url" : "_script_message_handling_with_scripting.html#UUID-87499b2f-e086-5a74-affa-0d9fb0b6a357_section-id23515340912015", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Message handling with CODESYS Scripting Scripting \/ Prompts with additional multiselection ", 
"snippet" : "For prompts which expect the selection of multiple options from a list of possible options, the options which should be selected and the result that the prompt should respond with must be saved in system.prompt_answers for the corresponding message key. There are two options for this: Specify the ze...", 
"body" : "For prompts which expect the selection of multiple options from a list of possible options, the options which should be selected and the result that the prompt should respond with must be saved in system.prompt_answers for the corresponding message key. There are two options for this: Specify the zero-based index of the desired option Store a delegate of type MultipleChoiceSelector Example In the following example, a tuple is stored in system.prompt_answers which firstly contains the PromptResult to be used and secondly contains a delegate of type PromptChoiceFilter . When the script is executed, the prompt is automatically answered and the result is displayed in the message view. For the individual options, Boolean is used to specify whether they have been selected. # filter function\ndef my_filter(choice):\n    return choice in (\"Option 1\", \"Option 3\")\n\nsystem.process_script_prompts = True\noptions = [\"Option 1\", \"Option 2\", \"Option 3\"]\nsystem.prompt_answers[\"message_key_1\"] = (PromptResult.OK, PromptChoiceFilter(my_filter))\nsystem.ui.select_many(\"select many prompt\", PromptChoice.OKCancel, PromptResult.OK, options, message_key=\"message_key_1\") " }, 
{ "title" : "Prompts with additional, application-specific selection options ", 
"url" : "_script_message_handling_with_scripting.html#UUID-87499b2f-e086-5a74-affa-0d9fb0b6a357_section-id235153409608051", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Message handling with CODESYS Scripting Scripting \/ Prompts with additional, application-specific selection options ", 
"snippet" : "In the following example, a tuple is stored in system.prompt_answers which firstly contains the PromptResult to be used and secondly contains a delegate of type PromptCustomControlValueProvider . Example The following example shows how such a delegate is implemented and stored in system.prompt_answe...", 
"body" : "In the following example, a tuple is stored in system.prompt_answers which firstly contains the PromptResult to be used and secondly contains a delegate of type PromptCustomControlValueProvider . Example The following example shows how such a delegate is implemented and stored in system.prompt_answers . The IDs of the individual sub-controls can be read via system.log_prompt_details . # filter function\ndef my_filter(control_id):\n    if control_id = id_1:\n        return \"value_for_id_1\"\n    if control_id = id_2:\n        return \"value_for_id_2\" \n   return None\n\nsystem.prompt_answers[\"message_key_1\"] = (PromptResult.OK, PromptCustomControlValueProvider(my_filter)) " }, 
{ "title" : "Restrictions ", 
"url" : "_script_restrictions-2000869.html", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Restrictions ", 
"snippet" : "...", 
"body" : "" }, 
{ "title" : "Reentrant script executions ", 
"url" : "_script_restrictions-2000869.html#UUID-2796d574-fbea-140d-c18f-4700f86c503f_section-id235160169847221", 
"breadcrumbs" : "CODESYS Scripting \/ Using Scripts to Access CODESYS Functionalities \/ Restrictions \/ Reentrant script executions ", 
"snippet" : "In CODESYS , it is possible that the execution of an IronPython script implies the execution of another, nested IronPython script. An example of this would be that a script is executed via the Execute Script command and the system.commands interface is used to call the command again with a different...", 
"body" : "In CODESYS , it is possible that the execution of an IronPython script implies the execution of another, nested IronPython script. An example of this would be that a script is executed via the Execute Script command and the system.commands interface is used to call the command again with a different script. Likewise, this kind of script could call the command to create a CODESYS Test Manager script which itself contains scripting test actions. We call these scenarios \"reentrant script execution\". Although these scenarios generally work, they are limited regarding the message memory and display. Each new script execution deletes all messages from the Scripting message category. In other words, only the messages from the deepest nested script execution are displayed until it is completed. This also applies if the script is executed with a console message logger ( noUI ). " }, 
{ "title" : "CODESYS Scripting API ", 
"url" : "_script_api_documentation.html", 
"breadcrumbs" : "CODESYS Scripting \/ CODESYS Scripting API ", 
"snippet" : "CODESYS Scripting API CODESYS Application Composer Scripting API CODESYS Communication Scripting API CODESYS Git Scripting API CODESYS Recipes Scripting API CODESYS SVN Scripting API CODESYS Trace Scripting API CODESYS Visualization Scripting API CODESYS Visualization Support Scripting API CODESYS A...", 
"body" : "CODESYS Scripting API CODESYS Application Composer Scripting API CODESYS Communication Scripting API CODESYS Git Scripting API CODESYS Recipes Scripting API CODESYS SVN Scripting API CODESYS Trace Scripting API CODESYS Visualization Scripting API CODESYS Visualization Support Scripting API CODESYS Automation Server Connector Scripting API " }, 
{ "title" : "Reference: Menu Commands ", 
"url" : "_script_ref_menu_commands.html", 
"breadcrumbs" : "CODESYS Scripting \/ Reference: Menu Commands ", 
"snippet" : "if CODESYS Scripting installed, you will find the menu commands in the menu Tools , submenu Scripting ....", 
"body" : "if CODESYS Scripting installed, you will find the menu commands in the menu Tools , submenu Scripting . " }, 
{ "title" : "Command: Scripting – Execute Script File ", 
"url" : "_cds_cmd_execute_script_file.html", 
"breadcrumbs" : "CODESYS Scripting \/ Reference: Menu Commands \/ Command: Scripting – Execute Script File ", 
"snippet" : "Scripting – Execute Script File Symbol: Function : The command opens a dialog for selecting and then executing the script file ( *.py). Call : Tools menu For more information see: Scripting in...", 
"body" : "Scripting – Execute Script File Symbol: Function : The command opens a dialog for selecting and then executing the script file ( *.py). Call : Tools menu For more information see: Scripting in " }, 
{ "title" : "Command: Scripting – Enable Script Tracing ", 
"url" : "_cds_cmd_activate_script_tracing.html", 
"breadcrumbs" : "CODESYS Scripting \/ Reference: Menu Commands \/ Command: Scripting – Enable Script Tracing ", 
"snippet" : "Scripting – Enable Script Tracing Symbol: Function : The command gets CODESYS to print all commands from the script file to the message view. Use the command to monitor and debug scripts. A blue frame around the symbol indicates that the option is enabled. Call : Tools menu For more information see:...", 
"body" : "Scripting – Enable Script Tracing Symbol: Function : The command gets CODESYS to print all commands from the script file to the message view. Use the command to monitor and debug scripts. A blue frame around the symbol indicates that the option is enabled. Call : Tools menu For more information see: Scripting in " }, 
{ "title" : "Command: Scripting: Scripts ", 
"url" : "_cds_cmd_scripts.html", 
"breadcrumbs" : "CODESYS Scripting \/ Reference: Menu Commands \/ Command: Scripting: Scripts ", 
"snippet" : "Scripting: Scripts Function : The command executes a script which is stored in the ScriptDir folder. Call : Tools menu Requirement : Under C:\\Users\\<user name> \\AppData\\Local\\CODESYS , you have created a subdirectory named ScriptDir . Python scripts are stored in this folder with the .py file extens...", 
"body" : "Scripting: Scripts Function : The command executes a script which is stored in the ScriptDir folder. Call : Tools menu Requirement : Under C:\\Users\\<user name> \\AppData\\Local\\CODESYS , you have created a subdirectory named ScriptDir . Python scripts are stored in this folder with the .py file extension. All scripts which are contained in the ScriptDir folder are executable as menu commands and are sorted alphabetically by file name. The script list is refreshed every 10 seconds. For more information, see the following: Scripting in " }
]
$(document).trigger('search.ready');
});