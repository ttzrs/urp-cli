<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Suche"></meta><meta name="search.results" content="Suchresultat"></meta><meta name="no.search.results" content=""></meta><script type="text/javascript">
var theme = '1';

			
			window.versionsfile = '';


			window.indexDict = new Array();
			window.store = {};
			window.portalLanguage = 'de';
			window.enterKey = 'search';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
			var useanchorlinks = false;
			
					var collapseTocSectionOnLinkTitleClick = false;
				</script><title>Beispiel: AC Module Teaching</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/fuse.min.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="../js/html5.fuse.search.js" type="text/javascript"></script><script src="js/fuzzydata.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/jquery.paligocode.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta name="generator" content="Paligo"></meta><meta name="keywords" content="V1.4.0.0"></meta><link rel="prev" href="_ex_ac_assignments.html#UUID-f57c7667-ee41-b77c-a446-3553e87bc67c_section-idm4631416718558433093815530489" title="Systemvoraussetzungen und Einschränkungen"></link><link rel="next" href="_ex_ac_module_teaching.html#UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4_section-idm4597881866457633093814221779" title="Beschreibung"></link><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script><script type="text/javascript">
			$(document).on('ready ajaxComplete', function() {
				
				hljs.addPlugin(mergeHTMLPlugin);
				hljs.configure({'ignoreUnescapedHTML': true});
				
				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightElement(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script>
<meta name="geo.region" content="Kempten" />
<meta name="geo.country" content="Germany" />
<meta name="geo.placename" content="Memminger Stra&szlig;e 151, 87439 Kempten" />
<meta name="geo.position" content="47.321;10.573" />
<meta name="ICBM" content="47.321;10.573" />
<meta property="og:type" content="article">
<meta property="og:title" content="CODESYS Group">
<meta property="og:image" content="https://www.codesys.com/images/og/CODESYS-default.jpg" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="628" />
<meta name="robots" content="index, follow, noarchive">

<link rel="shortcut icon" href="https://www.codesys.com/favicon.ico" type="image/x-icon; charset=binary">
<link rel="icon" href="https://www.codesys.com/favicon.ico" type="image/x-icon; charset=binary">

<link href="https://www.codesys.com/paligo/cs-el-lib.css" rel="stylesheet">


<script type="importmap">
    { "imports": {
        "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js",
        "vue-i18n": "https://unpkg.com/vue-i18n@11/dist/vue-i18n.esm-browser.js"
        }
    }</script>
<script src="https://www.codesys.com/paligo/cs-el-lib.js" type="module"></script>

</head><body class="theme1 page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div>
<header id="page-header"></header>

<div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=de"><img id="logotype-pageheader" src="../css/image/corporate-logo.svg" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" placeholder="Suche" class="form-control search-field" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><a href="index.html">CODESYS Beispiele</a></li><li class="breadcrumb-link"><a href="_ex_application_composer.html">Beispiele <span class="phrase">CODESYS Application Composer</span></a></li><li class="breadcrumb-node">Beispiel: AC Module Teaching</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="_ex_ac_assignments.html#UUID-f57c7667-ee41-b77c-a446-3553e87bc67c_section-idm4631416718558433093815530489">Zurück</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="_ex_ac_module_teaching.html#UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4_section-idm4597881866457633093814221779">Weiter</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="de" lang="de" dir="ltr" class="section" data-origin-id="UUID-cb5f28cb-9293-45f3-4239-81c965faad6e" data-permalink="_ex_ac_module_teaching.html" data-topic-level="1" data-relative-prefix="" data-time-modified="November 12, 2025" data-publication-date="" id="UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">Beispiel: AC Module Teaching</h1></div></div></div><p id="UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4_para-idm43364998986802"><span class="bold"><strong>Produkt</strong></span>: <span class="phrase">CODESYS Application Composer</span></p><p>Dieses Beispiel zeigt die Erstellung und Verwendung von anlernbaren Modulen am Beispiel einer einfachen Lichtsteuerung.</p><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4_section-idm4597881866457633093814221779"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Beschreibung</h2></div></div></div><p>Der <span class="phrase">CODESYS Application Composer</span> bietet die Möglichkeit zur modularen Konfiguration einer Applikation. Wenn die Struktur einmal im Modulbaum festgelegt ist, wird daraus eine statische IEC-Applikation generiert. Dabei werden die Module direkt mit ihren Submodulen verbunden und können so zur Laufzeit nicht geändert werden.</p><p>Dieses Beispiel zeigt, wie aus einem Pool von losen Modulen eine dynamische Konfiguration zur Laufzeit erzeugt werden kann.</p><p>Zusätzlich wird diese Konfiguration persistent abgespeichert, damit bei jedem neuen Start der Applikation die zuletzt eingestellte Konfiguration geladen wird.</p><p>Sie können die beiliegende Bibliothek ohne Änderungen verwenden, während das Projekt lediglich einen möglichen Anwendungsfall dieser Bibliothek aufzeigt. Alle nötigen Anpassungen wurden im Code durch Kommentare mit dem Stichwort <code class="code">AC_ModuleTeaching</code> markiert.</p></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4_section-idm460728884483523360146534724"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Weitere Informationen</h2></div></div></div><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4_section-idm4622755199388833601466754575"><div class="titlepage"><div><div class="title"><h3 class="title">Architektur</h3></div></div></div><p>Die Idee der anlernbaren Module basiert auf dem Schüler – Schulfach – Lehrer Prinzip.</p><p>Schüler können dabei Fächer erlernen, die ihnen ein Lehrer beibringt. Die Entscheidung, ob ein Schüler ein bestimmtes Fach erlernen kann, obliegt ihm dabei selbst. Eine funktionierende Modulkonfiguration muss daher immer aus einem Lehrer, mindestens einem Schüler und mindestens einem Fach bestehen.</p><p>Betrachtet man die Architektur der Bibliothek <code class="code">AC_ModuleTeaching </code>, ergibt sich folgendes Design:</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:400px;
                            "><tr><td style="padding:0;"><img src="image/uuid-60a4ab41-164b-bc32-d8ba-71cb0060451c.png" style="max-width: 400px; " alt="_example_img_ac_module_teaching1.png"></img></td></tr></table></div><p>Die Funktionsbausteine <code class="code">TeacherModul</code>e, <code class="code">SubjectModule</code> und <code class="code">PupilModule</code> (oder <code class="code">TeacherRegistration</code>) leiten vom Funktionsbaustein <code class="code">AC.Module</code> ab. Dadurch lassen sich diese 3 Modultypen in einem Modulbaum konfigurieren.</p><div class="itemizedlist"><p>Für die Umsetzung anlernbarer Module selbst sind dabei nur zwei Funktionsbausteine relevant:</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">SubjectModule</code> und <code class="code">PupilModule</code>.</p></li><li class="listitem"><p><code class="code">TeacherModule</code> kann ohne Veränderung als Modul im Modulbaum eingehängt werden und bedarf keiner weiteren Konfiguration.</p></li></ul></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4_section-idm4622757203084833601467304247"><div class="titlepage"><div><div class="title"><h3 class="title">Ablauf</h3></div></div></div><p>Die Initialisierungsphase läuft folgendermaßen ab:</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:400px;
                            "><tr><td style="padding:0;"><img src="image/uuid-a6e77053-ef90-2551-dff5-d340a212c901.png" style="max-width: 400px; " alt="_example_img_ac_module_teaching2.png"></img></td></tr></table></div><p><code class="code">Init()</code> wird aus dem Basis-Application-Composer Kontext im ersten SPS-Zyklus aufgerufen.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">TeacherModule</code>: Dieses Modul durchwandert alle Modulinstanzen und meldet sich bei jeder Instanz von <code class="code">SubjectModule</code> und <code class="code">PupilModule</code> an (<code class="code">Register(THIS^)</code>). Damit ist das Grundgerüst errichtet, mit welchem die Module untereinander kommunizieren.</p></li><li class="listitem"><p><code class="code">SubjectModule</code>: Jedes dieser Module vergibt sich eine eindeutige <code class="code">SubjectID</code> (<code class="code">UDINT</code>).</p></li><li class="listitem"><p><code class="code">PupilModule</code>: Jedes Modul muss die <code class="code">SubjectIDs</code>, die es lernen können soll, über <code class="code">AddSubjectID(UDINT</code>) bei sich selbst registrieren.</p></li></ul></div><p>Das Anlernen läuft folgendermaßen ab:</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:400px;
                            "><tr><td style="padding:0;"><img src="image/uuid-d6d1aa15-c154-ed8c-bc6f-a13db0f99983.png" style="max-width: 400px; " alt="_example_img_ac_module_teaching3.png"></img></td></tr></table></div><p>Durch ein beliebiges Event (beispielsweise ein Klick auf die Schaltfläche „Lernen“ in einer Visualisierung), meldet sich eine Instanz von <code class="code">SubjectModule</code> über den Aufruf von <code class="code">ReportTeacher()</code> bei einem <code class="code">TeacherModule</code>. In <code class="code">ReportTeacher()</code> wird implizit <code class="code">Report(THIS^)</code> des <code class="code">TeacherModules</code> aufgerufen. Das <code class="code">TeacherModule</code> gibt mit der Schnittstelle vom <code class="code">SubjectModule</code> über <code class="code">Learn(ISubject)</code> allen Instanzen von <code class="code">PupilModule</code> die Möglichkeit, das <code class="code">SubjectModule</code> zu erlernen. Erlernen eines <code class="code">SubjectModule</code> bedeutet, dass das <code class="code">PupilModule</code> das <code class="code">SubjectModule</code> gegebenenfalls casten und selbst merken muss (beispielsweise durch Abspeichern in einer Member-Variablen).</p></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4_section-idm4607288928361633601467463881"><div class="titlepage"><div><div class="title"><h3 class="title">Anwendung</h3></div></div></div><p>Für eine konkrete Anwendung muss zunächst überlegt werden, wer die Rolle der "Subjects" und wer die Rolle der "Pupils" einnimmt. "Subjects" können beispielsweise durch Sensoren, "Pupils" durch Aktoren vertreten sein. Im Beispiel wird für ein "Subject" ein Lichttaster und für ein "Pupil" ein Licht verwendet. Das Licht kann dabei erlernen auf verschiedene Taster zu hören, oder diese auch wieder zu vergessen.</p><div class="itemizedlist"><p>Bei der Implementierung ist dabei folgendes zu beachten:</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>Light EXTENDS ACMT.Pup</strong></span></p><p><code class="code">Init()</code>: Hinzufügen der erlernbaren <code class="code">SubjectID</code></p><p><code class="code">Learn()</code>: Diese Methode muss überschrieben werden. Zu Beginn ist dann die Basisimplementierung aufzurufen:</p><p><code class="code">IF SUPER^.Learn(itfSubjectToLearn := itfSubjectToLearn) = ACMT.ERROR.NO_ERROR THEN</code></p><p>Wenn das erfolgreich war, kann das Subject erlernt werden. Ansonsten ist das Subject nicht erlernbar und kann ignoriert werden.</p><p><code class="code">END_IF</code></p><p><code class="code">ForgetAll()</code>: Diese Methode sollte ebenfalls überschrieben werden und dabei die lokal gespeicherten Subjects wieder entfernt werden.</p></li><li class="listitem"><p><span class="bold"><strong>SwitchPush EXTENDS ACMT.SubjectModule // indirekt über Vererbungskette SwitchOnOff SwitchBase</strong></span></p><p><code class="code">Init()</code>: Definieren der <code class="code">SubjectID</code></p><p><code class="code">CallPrioMediumStart()</code>: Aufruf von <code class="code">ReportTeacher</code>, wenn der Taster länger als 3s gedrückt wurde.</p></li><li class="listitem"><p><span class="bold"><strong>Persistence Manager</strong></span></p><p>Durch das Hinzufügen des Persistence Managers können die gelernten Subjects speichern werden. Dadurch wird beim Neustart der Applikation der letzte Stand wiederhergestellt.</p></li></ul></div></section></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4_section-idm4631416718558433093815530489"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Systemvoraussetzungen und Einschränkungen</h2></div></div></div><div class="informaltable table-responsive" id="UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4_table-idm4570394677219233093816298134"><table class="informaltable table-bordered"><tbody><tr><td class="td"><p>Programmiersystem</p></td><td class="td"><p><span class="phrase">CODESYS Development System</span> Version 3.5.5.0 oder höher</p></td></tr><tr><td class="td"><p>Laufzeitsystem</p></td><td class="td"><p><span class="phrase">CODESYS Control Win</span> Version 3.5.5.0</p></td></tr><tr><td class="td"><p>Zusatzkomponenten</p></td><td class="td"><p><span class="phrase">CODESYS Application Composer</span></p></td></tr></tbody></table></div><div dir="ltr" class="note notice"><h3 class="title">Hinweis</h3><p><span class="inlinemediaobject"><img src="image/uuid-d6347eb2-f6b3-24e3-d291-552c637e9a6d.png" alt="_example_icon.png"></img></span> <a class="link" href="ap-installer://codesys.com/package/install?id=28382f6b-0389-4119-b87b-68eb48ae7f4d" target="_blank">DOWNLOAD</a> Projekt</p></div></section></section><div class="footer-content"><div class="section-toc section-toc-after"><div class="section-toc-title">In diesem Abschnitt<span class="section-toc-title-delimiter">: </span></div></div><div class="glossary-definitions"></div></div><!-- empty footer removed from here --></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4">Beispiel: AC Module Teaching</a></li><li><a href="#UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4_section-idm4597881866457633093814221779">Beschreibung</a></li><li><a href="#UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4_section-idm460728884483523360146534724">Weitere Informationen</a><ul class="nav"><li><a href="#UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4_section-idm4622755199388833601466754575">Architektur</a></li><li><a href="#UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4_section-idm4622757203084833601467304247">Ablauf</a></li><li><a href="#UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4_section-idm4607288928361633601467463881">Anwendung</a></li></ul></li><li><a href="#UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4_section-idm4631416718558433093815530489">Systemvoraussetzungen und Einschränkungen</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Suchresultat</h2><ul class="searchresults"></ul><p class="noresults"></p></div></article><div class="feedback-panel"><div id="email-feedback" class="no-voting toggle-feedback"><p><a href="mailto:help-feedback@codesys.com?subject=Feedback%20for%20help%20topic%20%22Beispiel:%20AC%20Module%20Teaching%22&amp;body=%0A%09%09%09%09%0A%09%09%09%09%0A%09%09%09%09_______________________%0A%09%09%09%09%0A%09%09%09Please%20add%20your%20feedback%20above%20for%20topic%20%22Beispiel:%20AC%20Module%20Teaching%22%20in%20the%20publication%20%22CODESYS%20Beispiele%22."><i aria-hidden="true" class="fa fa-pencil-square-o feedbackicon"></i>Möchten Sie uns Feedback geben? Klicken Sie hier, um Änderungen vorzuschlagen.</a></p></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="_ex_ac_assignments.html#UUID-f57c7667-ee41-b77c-a446-3553e87bc67c_section-idm4631416718558433093815530489">Zurück</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="_ex_ac_module_teaching.html#UUID-557f8115-cf8a-899f-3a3c-eaaa50b884d4_section-idm4597881866457633093814221779">Weiter</a></li></ul></div>
<footer id="page-footer" class="background-dark-blue"></footer>

</div></div></div></div></body></html>
<!-- last generated: 2025-11-27 08:07:24 -->
