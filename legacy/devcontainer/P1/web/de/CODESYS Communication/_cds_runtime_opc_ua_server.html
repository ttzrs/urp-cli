<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Suche"></meta><meta name="search.results" content="Suchresultat"></meta><meta name="no.search.results" content=""></meta><script type="text/javascript">
var theme = '1';

			
			window.versionsfile = '';


			window.indexDict = new Array();
			window.store = {};
			window.portalLanguage = 'de';
			window.enterKey = 'search';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
			var useanchorlinks = false;
			
					var collapseTocSectionOnLinkTitleClick = false;
				</script><title>OPC UA Server</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/fuse.min.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="../js/html5.fuse.search.js" type="text/javascript"></script><script src="js/fuzzydata.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/jquery.paligocode.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta name="generator" content="Paligo"></meta><meta name="keywords" content="V4.7.0.0"></meta><link rel="prev" href="_cds_struct_opc_ua.html" title="OPC UA"></link><link rel="next" href="_cds_runtime_opc_ua_server.html#UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_id_a1b07e283b6bd4f5c0a864630b9415b9_id_d62e07973be162f4c0a86463255fb688" title="Ein Projekt für den OPC UA-Zugriff erstellen"></link><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script><script type="text/javascript">
			$(document).on('ready ajaxComplete', function() {
				
				hljs.addPlugin(mergeHTMLPlugin);
				hljs.configure({'ignoreUnescapedHTML': true});
				
				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightElement(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script>
<meta name="geo.region" content="Kempten" />
<meta name="geo.country" content="Germany" />
<meta name="geo.placename" content="Memminger Stra&szlig;e 151, 87439 Kempten" />
<meta name="geo.position" content="47.321;10.573" />
<meta name="ICBM" content="47.321;10.573" />
<meta property="og:type" content="article">
<meta property="og:title" content="CODESYS Group">
<meta property="og:image" content="https://www.codesys.com/images/og/CODESYS-default.jpg" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="628" />
<meta name="robots" content="index, follow, noarchive">

<link rel="shortcut icon" href="https://www.codesys.com/favicon.ico" type="image/x-icon; charset=binary">
<link rel="icon" href="https://www.codesys.com/favicon.ico" type="image/x-icon; charset=binary">

<link href="https://www.codesys.com/paligo/cs-el-lib.css" rel="stylesheet">


<script type="importmap">
    { "imports": {
        "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js",
        "vue-i18n": "https://unpkg.com/vue-i18n@11/dist/vue-i18n.esm-browser.js"
        }
    }</script>
<script src="https://www.codesys.com/paligo/cs-el-lib.js" type="module"></script>

</head><body class="theme1 page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div>
<header id="page-header"></header>

<div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=de"><img id="logotype-pageheader" src="../css/image/corporate-logo.svg" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" placeholder="Suche" class="form-control search-field" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><a href="index.html">CODESYS Communication</a></li><li class="breadcrumb-link"><a href="_cds_struct_opc_ua.html">OPC UA</a></li><li class="breadcrumb-node">OPC UA Server</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="_cds_struct_opc_ua.html">Zurück</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="_cds_runtime_opc_ua_server.html#UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_id_a1b07e283b6bd4f5c0a864630b9415b9_id_d62e07973be162f4c0a86463255fb688">Weiter</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="de" lang="de" dir="ltr" class="section" data-origin-id="UUID-0954e32f-6c31-9422-4bd7-30ef89349fd0" data-permalink="_cds_runtime_opc_ua_server.html" data-topic-level="1" data-relative-prefix="" data-time-modified="October 30, 2025" data-publication-date="" id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">OPC UA Server</h1></div></div></div><p>Die Standardinstallation von <span class="phrase">CODESYS Communication</span> beinhaltet einen OPC UA Server. Sie können Ihr Projekt um diesen erweitern, indem Sie zunächst unter der Applikation das Objekt <span class="guilabel">Kommunikationsverwalter</span> und darunter das Objekt <span class="guilabel">OPC UA Server</span> hinzufügen.</p><p>Mithilfe des  OPC UA Server-Objekts können Sie über einen Client eine Verbindung aufbauen und dann auf die Variablenschnittstelle der Steuerung zugreifen. Der OPC UA Server kommuniziert mit angeschlossenen OPC UA Clients über eine separate TCP-Verbindung. Deshalb müssen diese Verbindungen noch einmal gesondert auf ihre Sicherheit hin überprüft werden.</p><p>Der OPC UA Server kann nun durch die Verwendung einer verschlüsselten Kommunikation zum Client und durch eine OPC UA-Benutzerverwaltung abgesichert werden. Die möglichen Einstellungen hierzu finden Sie in den nachfolgenden Abschnitten:</p><div dir="ltr" class="important"><h3 class="title">Wichtig</h3><p>Ab Laufzeitsystemversion <span class="phrase">3.5 SP17</span> muss für den Zugriff auf die <span class="phrase">CODESYS</span>-Laufzeitsysteme standardmäßig eine Gerätebenutzerverwaltung eingerichtet werden. Für den OPC UA Server besteht jedoch die Möglichkeit, weiterhin anonyme Zugänge zu ermöglichen, wenn dies explizit erlaubt wird. Diese Erlaubnis wird erteilt im Dialog <span class="guilabel">Kommunikationsrichtlinie ändern</span> in der Registerkarte <a class="link" href="../CODESYS%20Development%20System/_cds_edt_device_communication_settings.html" target="_blank">Kommunikation</a> des Geräteeditors.</p></div><div class="itemizedlist"><div class="itemizedlist-title"><span class="formal-label"><span class="formal-label-text"></span><span class="formal-label-delimiter">. </span></span><span class="formal-title">Der <span class="phrase">CODESYS OPC UA</span>-Server unterstützt folgende Funktionalitäten:</span></div><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Browsen der Datentypen und Variablen</p></li><li class="listitem"><p>Standard-Lese- und Schreibdienste</p></li><li class="listitem"><p>Benachrichtigung für Wertänderungen: Subscription- und Monitored-Item-Dienste</p></li><li class="listitem"><p>Verschlüsselte Kommunikation nach „OPC UA Standard (Profil: Basic256SHA256)“</p></li><li class="listitem"><p>Abbildung der IEC-Applikation nach „OPC UA Information Model for IEC 61131-3“</p></li><li class="listitem"><p>Unterstütztes Profil: „Micro Embedded Device Server Profile“</p></li><li class="listitem"><p>Anzahl an Sessions</p><p>Monitored-Items und Subscriptions sind standardmäßig nicht begrenzt. Die Anzahl ist abhängig von der Performance der jeweiligen Plattform.</p></li><li class="listitem"><p>Versenden von Events nach OPC UA Standard</p></li><li class="listitem"><p>Kommunikation mit einer Datenquelle OPC UA Client</p><p>Für weitere Informationen siehe: <a class="xref linktype-fork" href="_cds_encrypt_communication_data_sources_opc_ua_client.html" title="Verbindung einer Datenquelle OPC UA Client zu einem OPC UA Server herstellen"><span class="xreftitle">Verbindung einer Datenquelle OPC UA Client zu einem OPC UA Server herstellen</span></a></p></li></ul></div><div dir="ltr" class="tip"><h3 class="title">Tipp</h3><p>In diesem Kapitel wird mehrfach der OPC UA Client UAExpert genannt. UAExpert ist ein Produkt des Anbieters „Unified Automation“.</p><p>Für weitere Informationen siehe: <a class="link" href="https://www.unified-automation.com" target="_blank" rel="noopener">Unified Automation</a></p></div><p>Wenn Sie mit dem Kommunikationsverwalter eine <a class="xref linktype-component" href="_comm_symbol_configuration.html" title="IEC-Symbolgruppenkonfiguration"><span class="xreftitle">IEC-Symbolgruppenkonfiguration</span></a> erstellen, erfolgt der OPC UA-Zugriff automatisch. </p><section dir="ltr" class="section internal" data-origin-id="" data-publication-date="" id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_id_a1b07e283b6bd4f5c0a864630b9415b9_id_d62e07973be162f4c0a86463255fb688"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Ein Projekt für den OPC UA-Zugriff erstellen</h2></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Legen Sie ein neues Projekt mit einer Steuerung <span class="phrase">CODESYS Control Win</span> an.</p></li><li class="step"><p>Deklarieren Sie im Programm <code class="code">PLC_PRG</code> einige Variablen unterschiedlichen Typs.</p></li><li class="step"><p>Fügen Sie ein Objekt <span class="guilabel">Kommunikationsverwalter</span> unterhalb der Applikation ein.</p></li><li class="step"><p>Wenn Sie IEC-Variablen der Applikation über den OPC UA Server mit anderen OPC UA Clients austauschen möchten, fügen Sie unterhalb des Objekts <span class="guilabel">Kommunikationsverwalter</span> ein Objekt <span class="guilabel">OPC UA Server</span> hinzu. </p><p>Die weiteren Schritte hierzu finden Sie unter <a class="xref linktype-component" href="_comm_symbol_configuration.html" title="IEC-Symbolgruppenkonfiguration"><span class="xreftitle">IEC-Symbolgruppenkonfiguration</span></a>. </p></li><li class="step"><p>Wenn Sie Daten eines OPC UA-Informationsmodells veröffentlichen möchten, fügen Sie unterhalb des Objekts <span class="guilabel">Kommnikationsverwalter</span> ein Objekt <span class="guilabel">OPC UA-Informationsmodell</span> hinzu. </p><p>Die weiteren Schritt hierzu finden Sie unter <a class="xref linktype-component" href="_cds_using_opc_ua_information_models.html" title="OPC UA-Informationsmodelle verwenden"><span class="xreftitle">OPC UA-Informationsmodelle verwenden</span></a></p></li></ol></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_section-idm4625920255100833501325377675"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Konfiguration und Inbetriebnahme des OPC UA Servers</h2></div></div></div><p>Der OPC UA Server kann an die Anforderungen unterschiedlicher Umgebungen angepasst werden. Zu diesem Zweck stehen eine Reihe von verschiedenen Security-Einstellungen bereit. Eine Änderung dieser Einstellungen erfordert einen Neustart der SPS. Die Einstellung dieser Werte kann über den <a class="xref linktype-component" href="_comm_dlg_device_security_settings.html" title="Dialog: Gerätesicherheitseinstellungen (OPC UA Server)"><span class="xreftitle">Gerätesicherheitseinstellungen (OPC UA Server)</span></a> der SPS erfolgen.</p><p>Für weitere Informationen siehe: <a class="link" href="../Security/_sec_using_secure_opc_ua_server.html" target="_blank">Sicheren OPC UA Server verwenden</a></p><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_section-idm4654706239163233501629369085"><div class="titlepage"><div><div class="title"><h3 class="title">Konfiguration der OPC UA Zertifikate</h3></div></div></div><div class="procedure" id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_procedure-idm43350163025122"><div class="procedure-title"><span class="formal-label"><span class="formal-label-text">Prozedur</span><span class="formal-label-delimiter">. </span></span><span class="formal-title">Zertifikat für <span class="phrase">CODESYS</span> OPC UA Server erzeugen</span></div><p>Um Daten verschlüsselt und sicher mit dem Client auszutauschen, benötigt der Server ein Zertifikat, das beim ersten Verbindungsaufbau vom Client als „vertrauenswürdig“ eingestuft werden muss.</p><p id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_para-idm41675081512563">Voraussetzung: Der aktive Pfad zur Steuerung ist gesetzt.</p><ol class="procedure" type="1"><li class="step"><p>Installieren Sie das Add-on <span class="phrase">CODESYS Security Agent</span>.</p></li><li class="step"><p>Wählen Sie den Befehl <span class="guimenu">Ansicht → Security-Screen</span>.</p></li><li class="step"><p>Wechseln Sie die zur Registerkarte <span class="guilabel">Geräte</span>.</p></li><li class="step"><p>Selektieren Sie in der linken Ansicht die Steuerung.</p><div class="result"><p>In der rechten Ansicht werden alle Dienste der Steuerung, die ein Zertifikat erfordern, angezeigt.</p></div></li><li class="step"><p>Selektieren Sie den Dienst <span class="guilabel">OPC UA Server</span>.</p></li><li class="step"><p>Erzeugen Sie ein neues Zertifikat für das Gerät. Klicken Sie dazu auf das Icon <span class="inlinemediaobject"><img src="image/uuid-69078c5e-18d5-6a40-5860-d690c5bfb278.png" alt="_cds_img_create_certificate.png"></img></span>.</p><div class="result"><p>Es öffnet sich der Dialog <span class="guilabel">Zertifikatseinstellungen</span>.</p></div></li><li class="step"><p>Definieren Sie die Parameter des Zertifikats und schließen Sie den Dialog mit <span class="guilabel">OK</span>.</p><div class="result"><p>Das Zertifikat wird auf der Steuerung erzeugt.</p><div class="informalfigure"><div class="mediaobject"><img src="image/uuid-22a188d9-7013-e469-7d75-e3ec5dcd8e37.png" style="" alt="_cds_img_own_certificates.png"></img></div></div></div></li><li class="step"><p>Führen Sie einen Neustart des Laufzeitsystems durch.</p></li></ol></div><div class="procedure" id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_procedure-idm43350163107882"><div class="procedure-title"><span class="formal-label"><span class="formal-label-text">Prozedur</span><span class="formal-label-delimiter">. </span></span><span class="formal-title">Konfiguration der vertrauenswürdigen CA für OPC UA Server-Zertifikate</span></div><p>Wenn OPC UA-Client-Zertifikate über eine vertrauenswürdige Zertifizierungsstelle (CA = <code class="code">Certificate Authority</code>) erzeugt werden, muss diese CA als eine vertrauenswürdige CA im OPC UA-Server konfiguriert sein. Um dies zu erreichen, muss die CA unter "Vertrauenswürdige Zertifikate" installiert werden.</p><p>Um Zertifikatssperrlisten (<code class="code">CRL</code>: <code class="code">Certificate Revocation List</code>) der CAs zu installieren, sind folgende Schritte notwendig:</p><ol class="procedure" type="1"><li class="step"><p>Übertragung der <code class="code">CRL</code>s per Filetransfer in das <code class="code">cert/import</code>-Verzeichnis</p></li><li class="step"><p>Ausführung des <a class="link" href="../CODESYS%20Redundancy/_rtsl_redundancy_reference_tab_plc_shell.html" target="_blank">SPS-Shell</a> Kommandos <code class="code">cert-importcrl</code></p></li></ol></div><p id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_para-idm43350163186658">Falls die Client-Zertifikate nicht direkt von der vertrauenswürdigen CA unterschrieben sind, sondern eine längere Kette haben, müssen die Zertifikate der Zwischen-CAs gesondert installiert werden. Sie müssen per Dateiübertragung in das Verzeichnis <code class="code">OPCUAServer/Intermediate</code> gebracht werden. Nach der Übertragung werden diese Zertifikate automatisch durch den OPC UA-Server verwendet.</p><div dir="ltr" class="note" id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_note-idm43350163208506"><h3 class="title">Anmerkung</h3><p>Um auch für das reine Browsen auf dem OPC UA-Server einen verschlüsselten Zugang einzurichten, kann im Dialog <a class="link linktype-component" href="_cds_obj_data_source_communication_opc_ua_server.html" title="Registerkarte: Kommunikation, über OPC UA Server"><span class="guilabel">Kommunikation</span></a> des Datenquellenverwalters ein Zertifikat erstellt werden, das nur für diesen Zweck dient.</p></div></section></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_section-idm4613201564872033501627299166"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Spezifikationskonforme Konfiguration des OPC UA Servers</h2></div></div></div><p id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_para-idm43350162760536">Um den OPC UA Server anhand der OPC UA Spezifikation zu betreiben, sind folgende Einstellungen zwingend notwendig:</p><div class="procedure" id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_procedure-idm43350162772616"><ol class="procedure" type="1"><li class="step"><p>Der Ort <a class="link linktype-component" href="_comm_dlg_device_security_settings.html" title="Dialog: Gerätesicherheitseinstellungen (OPC UA Server)">City</a> muss für das Zertifikat konfiguriert werden.</p></li><li class="step"><p>Ein OPC UA Server Zertifikat muss erzeugt werden</p></li><li class="step"><p>Die CRL Prüfungen <a class="link linktype-component" href="_comm_dlg_device_security_settings.html" title="Dialog: Gerätesicherheitseinstellungen (OPC UA Server)">EnableCRLChecks</a> müssen aktiviert sein.</p></li><li class="step"><p>Der <a class="link linktype-component" href="_comm_dlg_device_security_settings.html" title="Dialog: Gerätesicherheitseinstellungen (OPC UA Server)">CommunicationMode</a> muss auf <code class="code">MIN_SIGNED</code> oder auf <code class="code">SIGNED_AND_ENCRYPTED</code> stehen.</p></li></ol></div></section><section dir="ltr" class="section internal" data-origin-id="" data-publication-date="" id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_id_a1b07e283b6bd4f5c0a864630b9415b9_id_e353911af8be3a32c0a864637f95e749"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Verschlüsselte Verbindung mit dem Client "UaExpert" einrichten</h2></div></div></div><p>Der OPC UA Client "UaExpert“ ist eine frei verfügbare Software, die Sie aus dem Internet herunterladen können. Mit diesem Client können Sie sich mit dem <span class="phrase">CODESYS</span> OPC UA Server verbinden. Die nachfolgende Beschreibung bezieht sich auf dieses Programm. Andere OPC UA Clients funktionieren ähnlich.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Starten Sie das Programm UaExpert.</p></li><li class="step"><p>Wählen Sie den Befehl <span class="guimenu">Server → Add</span>.</p><div class="result"><p>Es öffnet sich der Dialog <span class="guilabel">Add Server</span>.</p></div></li><li class="step"><p>Expandieren Sie in der Baumansicht <span class="guimenu">Local → OPCUAServer@</span>.</p></li><li class="step"><p>Wählen Sie die Verbindungsart <span class="guilabel">Basic256Sha256 - Sign &amp; Encrypt (uatcp-uasc-uabinary)</span> und schließen Sie den Dialog mit <span class="guilabel">OK</span>.</p><div class="result"><p></p><div class="informalfigure"><div class="mediaobject"><img src="image/uuid-218ddb94-fcbd-fd31-4c7c-0b88b0a5c510.png" style="" alt="_cds_img_uaexpert_1.png"></img></div></div></div></li><li class="step"><p>Wählen Sie den Befehl <span class="guimenu">Server → Connect</span>.</p><div class="result"><p>Der Dialog <span class="guilabel">Certificate Validation</span> öffnet sich mit einer Fehlermeldung.</p></div></li><li class="step"><p>Aktivieren Sie die Option <span class="guilabel">Accept the server certificate temporarily for this session</span> und klicken Sie auf <span class="guilabel">Continue</span>.</p></li><li class="step"><p>Klicken Sie in <span class="phrase">CODESYS</span> auf das Symbol <span class="inlinemediaobject"><img src="image/uuid-90be9007-0231-0176-df4d-68e512184e41.png" alt="_cds_img_refresh_list.png"></img></span>.</p><div class="result"><p>Die Ansicht wird aktualisiert.</p></div></li><li class="step"><p>Selektieren Sie den Zertifikatsordner <span class="guilabel">Quarantined Certificates</span>.</p><div class="result"><p>In der rechten Ansicht wird das Client-Zertifikat <span class="guilabel">UaExpert@</span> angezeigt.</p><div class="informalfigure"><div class="mediaobject"><img src="image/uuid-a8b4bc1e-f327-6db2-0067-85de3a4ed8d5.png" style="" alt="_cds_img_quarantined_certificates.png"></img></div></div></div></li><li class="step"><p>Ziehen Sie das Zertifikat mit der Maus in den Zertifikatsordner <span class="guilabel">Trusted Certificates</span>.</p><div class="result"><p>Das Clientzertifikat ist nun vom Server als „vertrauenswürdig“ beurteilt worden.</p></div></li><li class="step"><p>Wählen Sie im Client UaExpert den Befehl <span class="guimenu">Server → Connect</span>.</p><div class="result"><p>Der Dialog <span class="guilabel">Certificate Validation</span> öffnet sich mit einer Fehlermeldung.</p></div></li><li class="step"><p>Aktivieren Sie die Option <span class="guilabel">Accept the server certificate temporarily for this session</span> und klicken Sie auf <span class="guilabel">Continue</span>.</p><div class="result"><p>Die Verbindung ist aufgebaut, in der Ansicht <span class="guilabel">Address Space</span> werden Objekte angezeigt.</p></div></li></ol></div></section><section dir="ltr" class="section internal" data-origin-id="" data-publication-date="" id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_id_a1b07e283b6bd4f5c0a864630b9415b9_id_01d601183be162f4c0a86463638af939"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Benutzerverwaltung unter OPC UA</h2></div></div></div><p>Der <span class="phrase">CODESYS OPC UA</span> Server unterstützt die <span class="phrase">CODESYS</span> Benutzerverwaltung. Die Zugriffsrechte auf den Server stellen Sie über die <a class="link" href="../CODESYS Development System/_cds_edt_device_access_rights.html" target="_blank">Registerkarte: Zugriffsrechte</a> der Steuerung ein. Wählen Sie dazu das Objekt <span class="guilabel">Laufzeitsystemobjekte</span> - <span class="guilabel">RemoteConnections</span> - <span class="guilabel">OPCUAServer</span>.</p><p>Wenn trotz aktiver Benutzerverwaltung ein anonymer Zugang zum OPC UA Server erlaubt ist, dann können Sie auch für diesen Zugang die Zugriffsrechte konfigurieren: Vergeben Sie für die implizit vorhandene Gruppe "Anonymous_OPCUAServer“ entsprechende Rechte. Die Erlaubnis für den anonymen Zugang zum OPC UA Server wird im Dialog <span class="guilabel">Kommunikationsrichtlinie ändern</span> erteilt. Eine Beschreibung dieses Dialog finden Sie auf der Hilfeseite <a class="link" href="../CODESYS Development System/_cds_edt_device_communication_settings.html" target="_blank">Registerkarte Kommunikation</a>.</p><p>Zugriffsrechte können nicht nur auf Dienstebene, sondern auch auf Objektebene geprüft werden. Dadurch kann eine Variable durch einen Benutzer möglicherweise nicht geschrieben werden, obwohl dieser Benutzer grundsätzlich auf den OPC UA Server schreiben darf.</p><div class="informaltable table-responsive"><table class="informaltable table-bordered"><colgroup><col style="width:67%;"></col><col style="width:33%;"></col></colgroup><thead><tr><th class="th"><p>OPC UA-Service</p></th><th class="th"><p>Zugriffsrecht</p></th></tr></thead><tbody><tr><td class="td"><p>AttributeRead</p></td><td class="td"><p><span class="guilabel">Ansehen</span></p></td></tr><tr><td class="td"><p>AttributeWrite</p></td><td class="td"><p><span class="guilabel">Ändern</span></p></td></tr><tr><td class="td"><p>Call</p></td><td class="td"><p><span class="guilabel">Ausführen</span></p></td></tr><tr><td class="td"><p>CreateMonitoredItem</p></td><td class="td"><p><span class="guilabel">Ansehen</span></p></td></tr><tr><td class="td"><p>ModifyMonitoredItem</p></td><td class="td"><p><span class="guilabel">Ansehen</span></p></td></tr><tr><td class="td"><p>SetMonitoringMode</p></td><td class="td"><p><span class="guilabel">Ansehen</span></p></td></tr><tr><td class="td"><p>DeleteMonitoredItem</p></td><td class="td"><p><span class="guilabel">Ansehen</span></p></td></tr><tr><td class="td"><p>CloseSession</p></td><td class="td"><p><span class="guilabel">Ansehen</span></p></td></tr><tr><td class="td"><p>CreateSubscription</p></td><td class="td"><p><span class="guilabel">Ansehen</span></p></td></tr><tr><td class="td"><p>ModifySubscription</p></td><td class="td"><p><span class="guilabel">Ansehen</span></p></td></tr><tr><td class="td"><p>SetPublishingMode</p></td><td class="td"><p><span class="guilabel">Ansehen</span></p></td></tr><tr><td class="td"><p>DeleteSubscriptions</p></td><td class="td"><p><span class="guilabel">Ansehen</span></p></td></tr><tr><td class="td"><p>Publish</p></td><td class="td"><p><span class="guilabel">Ansehen</span></p></td></tr><tr><td class="td"><p>Republish</p></td><td class="td"><p><span class="guilabel">Ansehen</span></p></td></tr><tr><td class="td"><p>Browse</p></td><td class="td"><p><span class="guilabel">Ansehen</span></p></td></tr><tr><td class="td"><p>BrowseNext</p></td><td class="td"><p><span class="guilabel">Ansehen</span></p></td></tr><tr><td class="td"><p>TranslateBrowsePathsToNodeIds</p></td><td class="td"><p><span class="guilabel">Ansehen</span></p></td></tr><tr><td class="td"><p>RegisterNodes</p></td><td class="td"><p><span class="guilabel">Ansehen</span></p></td></tr><tr><td class="td"><p>UnregisterNodes</p></td><td class="td"><p><span class="guilabel">Ansehen</span></p></td></tr></tbody></table></div><p>Für weitere Informationen siehe: <a class="link" href="../CODESYS Development System/_cds_handling_user_management_on_plc.html" target="_blank">Gerätebenutzerverwaltung handhaben</a></p></section><section dir="ltr" class="section internal" data-origin-id="" data-publication-date="" id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_id_a1b07e283b6bd4f5c0a864630b9415b9_id_688473aea10bd825c0a8646353eec700"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Variablen mit dem OPC UA Client ändern</h2></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Expandieren Sie im Client UaExpert in der Ansicht <span class="guilabel">Address Space</span> das Objekt <span class="guimenu">Objects → DeviceSet → |tvOPCUA| → Application → Global Vars → GVL</span>.</p><div class="result"><p>Die Variablen der globalen Variablenliste werden sichtbar.</p></div></li><li class="step"><p>Selektieren Sie die Variablen und ziehen Sie sie mit der Maus in die Ansicht <span class="guilabel">Data Access View</span>.</p><div class="result"><p>Die Variablen und ihre aktuellen Werte werden angezeigt.</p><div class="informalfigure"><div class="mediaobject"><img src="image/uuid-1e9d991d-b7b7-5199-a92e-7c136130947c.png" style="" alt="_cds_img_uaexpert_2.png"></img></div></div></div></li><li class="step"><p>Ändern Sie die Variablenwerte durch einen Doppeklick auf das Feld <span class="guilabel">Value</span>.</p></li></ol></div></section><section dir="ltr" class="section internal" data-origin-id="" data-publication-date="" id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_id_a1b07e283b6bd4f5c0a864630b9415b9_id_7f3f5885c55111e7a625c86d4f4984d8"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Events oder Alarme im <span class="phrase">CODESYS</span>-Projekt verwenden</h2></div></div></div><p>Der <span class="phrase">CODESYS</span> OPC UA Server bietet die Möglichkeit, Standard-OPC UA-Events zu versenden und Alarme in einer vereinfachten Form abzubilden.</p><div dir="ltr" class="caution"><h3 class="title">Achtung</h3><p>Ab <span class="phrase">CODESYS Communication</span> Version 4.6.0.0 und <span class="phrase">CODESYS Development System</span> Version 3.5.21.0 entspricht die Bestätigungsmethode <code class="code">ACK_REP</code> dem OPC UA Standard. </p><p>Alle anderen Bestätigungsmethoden entsprechen nicht den Anforderungen aus der OPC UA Spezifikation.  In diesen Fällen sind insbesondere die Zustandsautomaten unterschiedlich und es können keine Kommentare vergeben werden. Die Abbildung dieser Alarme dient dazu, dass eine grundlegende Interaktion zwischen einem OPC UA Client und der Alarmverwaltung möglich ist.</p></div><div class="procedure" id="id9769"><div class="procedure-title"><span class="formal-label"><span class="formal-label-text">Prozedur</span><span class="formal-label-delimiter">. </span></span><span class="formal-title">Alarme und Events erzeugen</span></div><ol class="procedure" type="1"><li class="step"><p>Legen Sie ein neues Projekt mit einer Steuerung <span class="phrase">CODESYS Control Win</span> an.</p></li><li class="step"><p>Fügen Sie ein Objekt <span class="guilabel">Alarmkonfiguration</span> unterhalb der Applikation ein.</p></li><li class="step" id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_step-idm43350287296856"><p>Fügen Sie im Bibliotheksverwalter die Bibliothek <code class="code">CmpOPCUAProviderAlarmConfiguration</code> ein.</p><p>Ab <span class="phrase">CODESYS Development System</span> Version 3.5.21.0 muss anstelle der Bibliothek <code class="code">CmpOPCUAProviderAlarmConfiguration</code> die Bibliothek <code class="code">CompatibleAlarmManagerToOpcUaConnector</code> eingebunden sein. </p><p>Wenn die Bibliothek eingebunden ist, verbindet sie sich automatisch als Client mit der Alarmkonfiguration und sendet die Events zum OPC UA-Server.</p></li><li class="step" id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_step-idm43350287368658"><p>Fügen Sie ein Objekt <span class="guilabel">Symbolkonfiguration</span> unterhalb der Applikation ein.</p></li><li class="step" id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_step-idm43350287414432"><p>Fügen Sie ein Objekt <span class="guilabel">Visualisierung</span> unterhalb der <span class="guilabel">Applikation</span> ein.</p></li><li class="step"><p>Übertragen Sie das Projekt auf die Steuerung und starten Sie sie.</p></li></ol></div><p>Alarme werden ganz normal verwendet und erzeugt. Hier sind keine besonderen Schritte notwendig.</p><p>Wenn Sie Events erzeugen wollen, sind zusätzlich nachfolgende Schritte notwendig.</p><div class="procedure" id="UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_procedure-idm43350287450900"><ol class="procedure" type="1"><li class="step"><p>Fügen Sie ein Objekt <span class="guilabel">Alarmklasse</span> unterhalb der <span class="guilabel">Alarmkonfiguration</span> ein. Benennen Sie es beispielsweise mit <code class="code">Event</code>.</p><div class="result"><p>Die neue Alarmklasse öffnet im Editor.</p></div></li><li class="step"><p>Wählen Sie die Quittierungsmethode <span class="guilabel">REP</span>.</p></li><li class="step"><p>Fügen Sie ein Objekt <span class="guilabel">Alarmgruppe</span> unterhalb der <span class="guilabel">Alarmkonfiguration</span> ein. Benennen Sie es beispielsweise mit <code class="code">ApplicationEvent</code>.</p><div class="result"><p>Die neue Alarmgruppe öffnet im Editor.</p></div></li><li class="step"><div class="itemizedlist"><div class="itemizedlist-title"><span class="formal-label"><span class="formal-label-text"></span><span class="formal-label-delimiter">. </span></span><span class="formal-title">Ändern Sie folgende Parameter:</span></div><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="guilabel">Überwachungstyp</span>: <span class="guilabel">Ereignis</span></p></li><li class="listitem"><p><span class="guilabel">Klasse</span>: <span class="guilabel">Event</span></p></li><li class="listitem"><p><span class="guilabel">Nachricht</span>: „Message 1“</p></li></ul></div></li><li class="step"><p>Fügen Sie in Programm, beispielsweise in der POU <code class="code">PLC_PRG</code>, einen Programmaufruf zum Auslösen des Ereignisalarms ein.</p><pre class="programlisting iecst" data-language="iecst">AlarmManager.AlarmGlobals.g_AlarmHandler.RaiseEvent(Alm_AlarmConfiguration_Alarmgroup_IDs.ID_ApplicationEvent, Alm_ApplicationEvent_Alarm_IDs.ID_0);</pre></li></ol></div><p>Für Informationen zur Alarmverwaltung und Alarmvisualisierung siehe: <a class="link" href="../CODESYS Visualization/_visu_struct_alarm_management.html" target="_blank">Alarmverwaltung</a> und <a class="link" href="../CODESYS Visualization/_cds_f_visualize_alarms.html" target="_blank">Alarmvisualisierung</a></p></section><section dir="ltr" class="section internal" data-origin-id="" data-publication-date="" id="id9835"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Events mit dem OPC UA Client "UaExpert" beobachten</h2></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Starten Sie das Programm <code class="code">UaExpert</code>.</p></li><li class="step"><p>Wählen Sie den Befehl <span class="guimenu">Server → Add</span>.</p><div class="result"><p>Der Dialog <span class="guilabel">Add Server</span> öffnet sich.</p></div></li><li class="step"><p>Expandieren Sie in der Baumansicht <span class="guimenu">Local → OPCUAServer@</span>.</p></li><li class="step"><p>Wählen Sie die Verbindungsart <span class="guilabel">None</span> und schließen Sie den Dialog mit <span class="guilabel">OK</span>.</p></li><li class="step"><p>Wählen Sie den Befehl <span class="guimenu">Server → Connect</span>.</p><div class="result"><p>In der Ansicht <span class="guilabel">Address Space</span> wird ein Objektbaum angezeigt.</p></div></li><li class="step"><p>Wählen Sie den Befehl <span class="guimenu">Documents → Add</span>.</p><div class="result"><p>Der Dialog <span class="guilabel">Add Document</span> öffnet sich.</p></div></li><li class="step"><p>Wählen Sie den „Document Type“ <span class="guilabel">Event View</span>.</p><div class="result"><p>Die Registerkarte <span class="guilabel">Event-View</span> öffnet sich.</p></div></li><li class="step"><p>Expandieren Sie in der Ansicht <span class="guilabel">Address Space</span> das Objekt <span class="guimenu">Objects → DeviceSet <span class="phrase">CODESYS</span><span class="phrase">CODESYS Control Win</span></span>.</p></li><li class="step"><p>Selektieren Sie im <span class="guilabel">Address Space</span> das Objekt "CODESYS Control Win V3" und ziehen Sie es mit der Maus in die Ansicht <span class="guilabel">Event-View</span>.</p><div class="result"><p>Die Events werden angezeigt.</p><div class="informalfigure"><div class="mediaobject"><img src="image/uuid-bd4c6b90-8fc6-21d6-dac5-d33fb0febea1.png" style="" alt="_cds_img_uaexpert_3.png"></img></div></div></div></li></ol></div></section></section><div class="footer-content"><div class="section-toc section-toc-after"><div class="section-toc-title">In diesem Abschnitt<span class="section-toc-title-delimiter">: </span></div></div><div class="glossary-definitions"></div></div><!-- empty footer removed from here --></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882">OPC UA Server</a></li><li><a href="#UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_id_a1b07e283b6bd4f5c0a864630b9415b9_id_d62e07973be162f4c0a86463255fb688">Ein Projekt für den OPC UA-Zugriff erstellen</a></li><li><a href="#UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_section-idm4625920255100833501325377675">Konfiguration und Inbetriebnahme des OPC UA Servers</a><ul class="nav"><li><a href="#UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_section-idm4654706239163233501629369085">Konfiguration der OPC UA Zertifikate</a></li></ul></li><li><a href="#UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_section-idm4613201564872033501627299166">Spezifikationskonforme Konfiguration des OPC UA Servers</a></li><li><a href="#UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_id_a1b07e283b6bd4f5c0a864630b9415b9_id_e353911af8be3a32c0a864637f95e749">Verschlüsselte Verbindung mit dem Client "UaExpert" einrichten</a></li><li><a href="#UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_id_a1b07e283b6bd4f5c0a864630b9415b9_id_01d601183be162f4c0a86463638af939">Benutzerverwaltung unter OPC UA</a></li><li><a href="#UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_id_a1b07e283b6bd4f5c0a864630b9415b9_id_688473aea10bd825c0a8646353eec700">Variablen mit dem OPC UA Client ändern</a></li><li><a href="#UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_id_a1b07e283b6bd4f5c0a864630b9415b9_id_7f3f5885c55111e7a625c86d4f4984d8">Events oder Alarme im CODESYS-Projekt verwenden</a></li><li><a href="#id9835">Events mit dem OPC UA Client "UaExpert" beobachten</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Suchresultat</h2><ul class="searchresults"></ul><p class="noresults"></p></div></article><div class="feedback-panel"><div id="email-feedback" class="no-voting toggle-feedback"><p><a href="mailto:help-feedback@codesys.com?subject=Feedback%20for%20help%20topic%20%22OPC%20UA%20Server%22&amp;body=%0A%09%09%09%09%0A%09%09%09%09%0A%09%09%09%09_______________________%0A%09%09%09%09%0A%09%09%09Please%20add%20your%20feedback%20above%20for%20topic%20%22OPC%20UA%20Server%22%20in%20the%20publication%20%22CODESYS%20Communication%22."><i aria-hidden="true" class="fa fa-pencil-square-o feedbackicon"></i>Möchten Sie uns Feedback geben? Klicken Sie hier, um Änderungen vorzuschlagen.</a></p></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="_cds_struct_opc_ua.html">Zurück</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="_cds_runtime_opc_ua_server.html#UUID-d1e78f18-4bad-d4ed-92b6-7895687cb882_id_a1b07e283b6bd4f5c0a864630b9415b9_id_d62e07973be162f4c0a86463255fb688">Weiter</a></li></ul></div>
<footer id="page-footer" class="background-dark-blue"></footer>

</div></div></div></div></body></html>
<!-- last generated: 2025-11-06 15:17:56 -->
