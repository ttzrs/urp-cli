$(document).ready(function () {indexDict['fr'] = [{ "title" : "CODESYS Scripting ", 
"url" : "_script_start_page.html", 
"breadcrumbs" : "CODESYS Scripting \/ CODESYS Scripting ", 
"snippet" : "CODESYS Scripting vous permet d'automatiser des commandes ou des opérations de programme complexes dans CODESYS , qui nécessitent sinon des clics de souris manuels et une saisie de texte dans le CODESYS interface utilisateur. A cet effet, des scripts basés sur (Iron)Python peuvent être lancés depuis...", 
"body" : "CODESYS Scripting vous permet d'automatiser des commandes ou des opérations de programme complexes dans CODESYS , qui nécessitent sinon des clics de souris manuels et une saisie de texte dans le CODESYS interface utilisateur. A cet effet, des scripts basés sur (Iron)Python peuvent être lancés depuis le CODESYS l'interface utilisateur (commande ou barre d'outils configurée) ou depuis la ligne de commande Windows. " }, 
{ "title" : "Script dans CODESYS ", 
"url" : "_script_scripting_with_codesys.html", 
"breadcrumbs" : "CODESYS Scripting \/ Script dans CODESYS ", 
"snippet" : "Utilisation de la fonctionnalité de script dans CODESYS , vous pouvez automatiser des commandes ou des opérations de programme complexes qui, autrement, nécessiteraient des clics de souris manuels et la saisie de texte dans le CODESYS interface utilisateur. A cet effet, des scripts basés sur (Iron)P...", 
"body" : "Utilisation de la fonctionnalité de script dans CODESYS , vous pouvez automatiser des commandes ou des opérations de programme complexes qui, autrement, nécessiteraient des clics de souris manuels et la saisie de texte dans le CODESYS interface utilisateur. A cet effet, des scripts basés sur (Iron)Python peuvent être créés et lancés à partir du CODESYS l'interface utilisateur (commande ou barre d'outils configurée) ou depuis la ligne de commande Windows. " }, 
{ "title" : "Exemples de cas d'utilisation ", 
"url" : "_script_scripting_with_codesys.html#UUID-77ae130a-b850-0395-99ae-009cc961710d_section-idm4609304796288033359653439539", 
"breadcrumbs" : "CODESYS Scripting \/ Script dans CODESYS \/ Exemples de cas d'utilisation ", 
"snippet" : "L'intégration de CODESYS dans les environnements de serveur de génération automatique Intégration Continue (IC) Livraison continue (CD) Tests continus Intégration avec des logiciels tiers Générateurs de codes Création de projets personnalisés adaptés à une configuration de machine spécifique Créatio...", 
"body" : "L'intégration de CODESYS dans les environnements de serveur de génération automatique Intégration Continue (IC) Livraison continue (CD) Tests continus Intégration avec des logiciels tiers Générateurs de codes Création de projets personnalisés adaptés à une configuration de machine spécifique Création de documents Mise à jour des bibliothèques Définition des informations sur le projet pendant le processus de publication Test automatique Principalement en lien avec la CODESYS Test Manager Génération de variables via des API de surveillance " }, 
{ "title" : "Langage de script, éditeur de script ", 
"url" : "_script_scripting_with_codesys.html#UUID-77ae130a-b850-0395-99ae-009cc961710d_section-idm4585068348627233359656664727", 
"breadcrumbs" : "CODESYS Scripting \/ Script dans CODESYS \/ Langage de script, éditeur de script ", 
"snippet" : "La CODESYS Le langage de script est modulaire et basé sur IronPython. A cet effet, le CODESYS ScriptEngine combine l'interpréteur IronPython avec le CODESYS environnement de développement. Ensuite, vous pouvez utiliser les vastes bibliothèques de framework Python, qui incluent l'accès aux fichiers d...", 
"body" : "La CODESYS Le langage de script est modulaire et basé sur IronPython. A cet effet, le CODESYS ScriptEngine combine l'interpréteur IronPython avec le CODESYS environnement de développement. Ensuite, vous pouvez utiliser les vastes bibliothèques de framework Python, qui incluent l'accès aux fichiers dans les réseaux et bien plus encore. CODESYS n'inclut pas encore son propre éditeur Python. Créez vos scripts avec n'importe quel éditeur de texte ou l'éditeur Python. Pour plus d'informations, consultez : Création d'un script Python " }, 
{ "title" : "Architecture du ScriptEngine, Possibilités d'extension ", 
"url" : "_script_scripting_with_codesys.html#UUID-77ae130a-b850-0395-99ae-009cc961710d_section-idm4609304567108833359657280777", 
"breadcrumbs" : "CODESYS Scripting \/ Script dans CODESYS \/ Architecture du ScriptEngine, Possibilités d'extension ", 
"snippet" : "Le langage de script (Iron)Python utilisé dans CODESYS permet d'accéder à la CODESYS Scripting API à contrôler CODESYS processus. De plus, il permet aux utilisateurs d'appliquer efficacement à la fois la bibliothèque standard Python et les modules Python tiers, ainsi que les bibliothèques de framewo...", 
"body" : "Le langage de script (Iron)Python utilisé dans CODESYS permet d'accéder à la CODESYS Scripting API à contrôler CODESYS processus. De plus, il permet aux utilisateurs d'appliquer efficacement à la fois la bibliothèque standard Python et les modules Python tiers, ainsi que les bibliothèques de framework .NET et les assemblages .NET tiers. Les utilisateurs peuvent exécuter les scripts à partir des commandes de menu ou des barres d'outils configurées dans le CODESYS interface ou depuis la ligne de commande Windows. Des modules complémentaires tels que le CODESYS Test Manager fournissent également des moyens d'exécuter des scripts. Avec les API Automation Platform, le ScriptEngine Les API peuvent être étendues. Des exemples pour cela sont CODESYS Test Manager et CODESYS SVN . Les deux fournissent leurs propres objets et méthodes en tant qu'extension des API de script. De plus, le CODESYS Test Manager permet l'exécution de scripts dans un cas de test. Pour plus d'informations, consultez la documentation API respective des modules complémentaires. Les utilisateurs enregistrés de la plate-forme d'automatisation trouveront plus d'informations dans le CODESYS Réseau de développeurs. Pour plus d'informations, voir : API de script CODESYS " }, 
{ "title" : "Exécuter le script ", 
"url" : "_cds_executing_scripts.html", 
"breadcrumbs" : "CODESYS Scripting \/ Exécuter le script ", 
"snippet" : "Vous pouvez exécuter des fichiers de script Python (<nom de fichier>.py), qui contiennent une séquence de commandes pour activer CODESYS fonctionnalités, de la manière suivante : Dans le CODESYS l'interface utilisateur au moyen de commandes dans le Outils → Script menu Du CODESYS interface utilisate...", 
"body" : "Vous pouvez exécuter des fichiers de script Python (<nom de fichier>.py), qui contiennent une séquence de commandes pour activer CODESYS fonctionnalités, de la manière suivante : Dans le CODESYS l'interface utilisateur au moyen de commandes dans le Outils → Script menu Du CODESYS interface utilisateur au moyen d'une barre d'outils personnalisée et configurée Depuis la ligne de commande Windows " }, 
{ "title" : "Appel de scripts à partir des commandes de menu ", 
"url" : "_cds_starting_script_via_menu_command.html", 
"breadcrumbs" : "CODESYS Scripting \/ Exécuter le script \/ Appel de scripts à partir des commandes de menu ", 
"snippet" : "Exigence : un fichier de script Python valide <file name>.py se trouve dans le système de fichiers. La CODESYS l'interface utilisateur est ouverte. (facultatif) Pour surveiller le traitement des commandes individuelles utilisées dans le script, cliquez sur Outils → Scripts → Activer le suivi des scr...", 
"body" : "Exigence : un fichier de script Python valide <file name>.py se trouve dans le système de fichiers. La CODESYS l'interface utilisateur est ouverte. (facultatif) Pour surveiller le traitement des commandes individuelles utilisées dans le script, cliquez sur Outils → Scripts → Activer le suivi des scripts . Dans CODESYS , Cliquez sur Outils → Scripts → Exécuter le fichier de script . Les instructions du script sont exécutées et, si le suivi du script est activé, répertoriées dans la vue des messages. " }, 
{ "title" : "Lancer des scripts à partir de la ligne de commande ", 
"url" : "_cds_starting_script_via_command_line.html", 
"breadcrumbs" : "CODESYS Scripting \/ Exécuter le script \/ Lancer des scripts à partir de la ligne de commande ", 
"snippet" : "Condition : Un fichier de script Python valide <file name>.py se trouve dans le système de fichiers. Créez un fichier CMD avec la commande start , le CODESYS départs, Et avec l'option --script de lancement qui appelle le fichier de script. D'autres options sont possibles, par exemple --noUI , si la ...", 
"body" : "Condition : Un fichier de script Python valide <file name>.py se trouve dans le système de fichiers. Créez un fichier CMD avec la commande start , le CODESYS départs, Et avec l'option --script de lancement qui appelle le fichier de script. D'autres options sont possibles, par exemple --noUI , si la CODESYS l’interface utilisateur ne doit pas être ouverte. Ouvrez la fenêtre Windows Invite de commande et démarrez le fichier CMD. Vous pouvez transmettre des arguments avec des informations supplémentaires au script. Les scripts Python peuvent accéder aux arguments avec le sys.argv[] liste. Le premier élément (Index 0) est toujours le nom ou le chemin du script Python exécuté, suivi des paramètres \"réels\". (C'est similaire à argc \/ argv en C.) De plus, les scripts peuvent également accéder aux variables d'environnement définies avant CODESYS est démarré avec les API Python ou .NET correspondantes. Exemple Vous disposez d'un fichier CMD (fichier batch) argvtestbat.cmd avec le contenu suivant (le tout sur une seule ligne). \"C:\\Program Files (x86)\\CODESYS 3.5.17.0\\CODESYS\\Common\\CODESYS.exe\" --profile=\"CODESYS V3.5 SP17\" --runscript=\"D:\\Dokumente\\Scripting\\ArgvTestScript.py\" --scriptargs:'username password 3.14 \"path=\\\"C:\\temp\\\\\\\"\"' --noUI Vous avez un fichier de script correspondant ArgvTestScript.py . from __future__ import print_function\n\nimport sys\nprint(\"sys.argv: \",\n len(sys.argv),\n \" elements:\")\n\nfor arg in sys.argv:\n print(\" - \", arg) Maintenant, lorsque vous exécutez le fichier CMD, CODESYS démarre et exécute le script sans ouvrir le CODESYS fenêtre principale. Alors CODESYS est sorti : Pour une référence complète de tous les paramètres de ligne de commande possibles, consultez la page d'aide de l'interface de ligne de commande dans CODESYS dans la section \" --runscript \". Pour plus d'informations, voir : Interface de ligne de commande, option --runscript Pour plus d'informations sur l'API Python, consultez : https:\/\/docs.python.org\/2\/library\/os.html#process-parameters Pour plus d’informations sur l’API .NET, consultez : https:\/\/msdn.microsoft.com\/de-de\/library\/77zkk0b6%28v=vs.110%29.aspx " }, 
{ "title" : "Appel de scripts à partir des icônes de la barre d'outils ", 
"url" : "_cds_executing_scripts_toolbar.html", 
"breadcrumbs" : "CODESYS Scripting \/ Exécuter le script \/ Appel de scripts à partir des icônes de la barre d'outils ", 
"snippet" : "Vous pouvez fournir votre propre barre d'outils dans le CODESYS Interface utilisateur avec jusqu'à 32 icônes pour appeler des fichiers de script. Pour cela, vous avez besoin d'un ICO Un fichier contenant l'icône et un fichier PY contenant le script Python à appeler. La taille de l'icône doit être de...", 
"body" : "Vous pouvez fournir votre propre barre d'outils dans le CODESYS Interface utilisateur avec jusqu'à 32 icônes pour appeler des fichiers de script. Pour cela, vous avez besoin d'un ICO Un fichier contenant l'icône et un fichier PY contenant le script Python à appeler. La taille de l'icône doit être de 16 x 16 pixels. Dans le répertoire d'installation ou dans le répertoire des fichiers du programme sous CODESYS , vous créez un sous-répertoire nommé Script Commands . Dans ce répertoire, vous créez le config.json Fichier de configuration. Spécifiez les informations d'appel pour chaque icône du fichier. Vous pouvez configurer jusqu'à 16 icônes. Vous pouvez également enregistrer les ICO et PY fichiers dans le même répertoire. Emplacement < CODESYS installation directory>\\ CODESYS \\Script Commands Users\\<username>\\AppData\\Local\\ CODESYS \\Script Commands Exemple Installation par défaut sur Windows 10 C:\\Program Files (x86)\\CODESYS 3.5.14.0\\CODESYS\\Script Commands\\\nC:\\Users\\r.smith\\AppData\\Local\\CODESYS\\Script Commands Si vous stockez un config.json fichier avec différentes informations d'appel à chacun des emplacements de stockage, vous pouvez configurer jusqu'à 32 icônes différentes. " }, 
{ "title" : "Fichier de configuration ", 
"url" : "_cds_executing_scripts_toolbar.html#UUID-d4730f38-792f-45e5-df0f-405de3b2db0d_id_f3e55a0c9ba7f91c0a864630f70b315_id_601c55ce5de6a292c0a864634fa14fa4", 
"breadcrumbs" : "CODESYS Scripting \/ Exécuter le script \/ Appel de scripts à partir des icônes de la barre d'outils \/ Fichier de configuration ", 
"snippet" : "Aperçu du fichier de configuration pour 2 icônes [ { <icon call information> }, { <last icon call information> } ] Aperçu des informations d'appel <icon call information> \"Name\": \"<tooltip of the symbol button>\", \"Desc\": \"<description of the symbol button>\", \"Icon\": \"<icon file name>\", \"Path\": \"<pat...", 
"body" : "Aperçu du fichier de configuration pour 2 icônes [\n {\n <icon call information>\n },\n {\n <last icon call information>\n }\n] Aperçu des informations d'appel <icon call information> \"Name\": \"<tooltip of the symbol button>\",\n\"Desc\": \"<description of the symbol button>\",\n\"Icon\": \"<icon file name>\",\n\"Path\": \"<path of the script file>\" Informations d'appel ¤\"\"Name\"\" Obligatoire Affiché sous forme d'info-bulle de symbole Exemple: ¤\"\"Name\": \"Pause\"\" ¤\"\"Desc\"\" Optionnel Commentaire pour l'icône Exemple: ¤\"\"Desc\": \"Operation pause\"\" Remarque : Pas encore affiché dans l'interface utilisateur ¤\"\"Icon\"\" Obligatoire Chemin du fichier: <directory path>\\<icon name>.ico de l'icône Exemple: ¤\"\"Icon\": \"pause.ico\"\" Astuce : Si le fichier se trouve dans le même dossier que le config.json fichier, le nom du fichier suffit. ¤\"\"Path\"\" Obligatoire Chemin du script Python <directory path>\\<script name>.ico Exemple: ¤\"\"Path\": \"stop.py\"\" Astuce : Si le fichier se trouve dans le même dossier que le config.json fichier, le nom du fichier suffit. ¤\"\"Params\"\" Remarque : Ces paramètres ne sont pas évalués actuellement. Exemple Dossier config.json [\n {\n \"Name\": \"Start\",\n \"Desc\": \"Starts processing\",\n \"Icon\": \"start.ico\",\n \"Path\": \"goon.py\"\n },\n {\n \"Name\": \"Pause\",\n \"Desc\": \"Pause operation\",\n \"Icon\": \"pause.ico\",\n \"Path\": \"stop.py\"\n },\n {\n \"Name\": \"Processing\",\n \"Desc\": \"Process again\",\n \"Icon\": \"VarStatSmall.ico\",\n \"Path\": \"process.py\"\n }\n] Les fichiers suivants se trouvent dans le Script Commands : config.json\ngoon.py\nstop.py\nprocess.py\nstart.ico\npause.ico\nVarStatSmall.ico " }, 
{ "title" : "Création d'appels de script pour un bouton de barre d'outils ", 
"url" : "_cds_executing_scripts_toolbar.html#UUID-d4730f38-792f-45e5-df0f-405de3b2db0d_id_f3e55a0c9ba7f91c0a864630f70b315_id_85f8e6225de6a292c0a864634505d8e4", 
"breadcrumbs" : "CODESYS Scripting \/ Exécuter le script \/ Appel de scripts à partir des icônes de la barre d'outils \/ Création d'appels de script pour un bouton de barre d'outils ", 
"snippet" : "Créer le Script Commands dossier dans l'un des emplacements de stockage. C:\\Users\\<username>\\AppData\\Local\\CODESYS Créez-y des fichiers Python exécutables. Exemple: Dossier copy.py print(\"The script COPY.PY is executed\") Dossier delete.py print(\"The script DELETE.PY is executed\") Créer le ICO fichie...", 
"body" : "Créer le Script Commands dossier dans l'un des emplacements de stockage. C:\\Users\\<username>\\AppData\\Local\\CODESYS Créez-y des fichiers Python exécutables. Exemple: Dossier copy.py print(\"The script COPY.PY is executed\") Dossier delete.py print(\"The script DELETE.PY is executed\") Créer le ICO fichiers pour les scripts. Exemple: Copy_before.ico , Copy_below.ico , CopyAll.ico Créer un fichier de configuration config.json là. Le dossier Users\\<username>\\AppData\\Local\\CODESYS\\Script Commands a le contenu suivant : Ouvert config.json et ajoutez les informations d'appel décrites. [\n {\n \"Name\": \"Copy Before\",\n \"Desc\": \"Copy something\",\n \"Icon\": \"Copy_before.ico\",\n \"Path\": \"copy.py\n },\n {\n \"Name\": \"Copy Below\",\n \"Desc\": \"Copy something\",\n \"Icon\": \"Copy_below.ico\",\n \"Path\": \"copy.py\"\n },\n {\n \"Name\": \"Copy All\",\n \"Desc\": \"Copy something\",\n \"Icon\": \"CopyAll.ico\",\n \"Path\": \"copy.py\"\n },\n {\n \"Name\": \"Delete\",\n \"Desc\": \"Delete something\",\n \"Icon\": \"Delete.ico\",\n \"Path\": \"delete.py\"\n }\n] Commencer CODESYS . Les fichiers de script, le fichier de configuration et les fichiers de symboles sont lus et fournis dans le Outils → Personnaliser dialogue sur le Icônes de commande onglet, dans Commandes du moteur de script Catégorie. Ouvrir la boîte de dialogue Outils → Personnaliser et cliquez sur l'onglet barres d'outils . Sélectionnez la barre d'outils vide et cliquez sur le Ajouter une barre d'outils bouton. Un éditeur de ligne s'ouvre dans la barre d'outils vide. Saisissez un nom (exemple : User defined toolbar ). La barre d'outils personnalisée s'affiche dans le CODESYS la fenêtre. Ajoutez les commandes récemment importées et fermez la boîte de dialogue. Cliquez sur l'une des icônes. La sortie suivante s'affiche dans la vue des messages. " }, 
{ "title" : "Restrictions ", 
"url" : "_script_restrictions.html", 
"breadcrumbs" : "CODESYS Scripting \/ Exécuter le script \/ Restrictions ", 
"snippet" : "...", 
"body" : "" }, 
{ "title" : "Exécutions de scripts réentrants ", 
"url" : "_script_restrictions.html#UUID-65e6bbcf-fe8b-d8f8-562f-2ca216185111_section-id235160169847221", 
"breadcrumbs" : "CODESYS Scripting \/ Exécuter le script \/ Restrictions \/ Exécutions de scripts réentrants ", 
"snippet" : "Dans CODESYS , il est possible que l'exécution d'un script IronPython implique l'exécution d'un autre script IronPython imbriqué. Par exemple, un script est exécuté via Exécuter le script commande et le system.commands L'interface permet d'appeler à nouveau la commande avec un script différent. De m...", 
"body" : "Dans CODESYS , il est possible que l'exécution d'un script IronPython implique l'exécution d'un autre script IronPython imbriqué. Par exemple, un script est exécuté via Exécuter le script commande et le system.commands L'interface permet d'appeler à nouveau la commande avec un script différent. De même, ce type de script pourrait appeler la commande pour créer un CODESYS Test Manager Un script contenant lui-même des actions de test de script. Ces scénarios sont appelés « exécution de script réentrante ». Bien que ces scénarios fonctionnent généralement, ils sont limités en termes de mémoire et d'affichage des messages. Chaque nouvelle exécution de script supprime tous les messages du Script catégorie de message. Autrement dit, seuls les messages de l'exécution du script imbriqué le plus profond sont affichés jusqu'à sa fin. Ceci s'applique également si le script est exécuté avec un enregistreur de messages de console ( noUI ). " }, 
{ "title" : "Création d'un script Python ", 
"url" : "_cds_creating_scripts.html", 
"breadcrumbs" : "CODESYS Scripting \/ Création d'un script Python ", 
"snippet" : "Python est un langage dynamique. Vous pouvez commencer dans un style de programmation linéaire simple (\"fichiers batch\") et ajouter ultérieurement les moyens nécessaires et plus puissants, tels que des conditions, des boucles, des fonctions, des exceptions, des classes et des modules. Le langage se ...", 
"body" : "Python est un langage dynamique. Vous pouvez commencer dans un style de programmation linéaire simple (\"fichiers batch\") et ajouter ultérieurement les moyens nécessaires et plus puissants, tels que des conditions, des boucles, des fonctions, des exceptions, des classes et des modules. Le langage se concentre sur un code simple et expressif. Python est plus typique à l'exécution et utilise un ramasse-miettes automatique pour protéger le programmeur des dommages accidentels à l'ensemble du système. IronPython est une implémentation de Python pour .NET et permet un accès complet au framework et aux classes .NET. L'implémentation de l'interpréteur IronPython est basée sur Python version 2.7. Il existe une variété de manuels gratuits et de pages d'aide sur Internet. Voir les liens suivants pour une introduction et une introduction détaillée sur IronPython. http:\/\/forum.codesys.com\/viewforum.php : zone \"Langage de script Python...\" dans la CODESYS forum En particulier pour CODESYS -questions spécifiques Comprend également quelques exemples https:\/\/docs.python.org\/2\/tutorial\/index.html : : Tutoriel Python dans la documentation officielle de Python http:\/\/docs.python.org\/release\/2.7\/ : Documentation officielle de Python 2.7 http:\/\/wiki.python.org\/moin\/BeginnersGuide : Manuels utiles pour apprendre IronPython http:\/\/wiki.python.org\/moin\/GermanLanguage : Collection de liens pour les pages d'aide en allemand http:\/\/stackoverflow.com\/ : Communauté générale pour la programmation Pour une question générale sur (Iron)Python, pas CODESYS -spécifique http:\/\/ironpython.net\/ : Page d'accueil d'IronPython http:\/\/ironpython.net\/support\/ : Liste de diffusion, FAQ, etc. https:\/\/gitter.im\/IronLanguages\/ironpython : : canal de discussion pour les développeurs IronPython Incompatibilité de version avec Python V3.x Le langage de programmation Python sera bientôt disponible dans la nouvelle version V3.x. Certains des anciens modules du programme ont été supprimés. CODESYS GmbH prévoit une mise à jour vers cette nouvelle version. Les développeurs de scripts doivent en tenir compte et concevoir leurs scripts en conséquence, par exemple en utilisant l'expression from __future__ import print_function . Vous pouvez trouver plus d'informations sur ce sujet sur http:\/\/wiki.python.org\/moin\/Python2orPython3 et http:\/\/docs.python.org\/release\/3.1.2\/whatsnew\/3.0.html " }, 
{ "title" : "Premiers pas avec Python pour CODESYS ", 
"url" : "_cds_python_first_steps.html", 
"breadcrumbs" : "CODESYS Scripting \/ Création d'un script Python \/ Premiers pas avec Python pour CODESYS ", 
"snippet" : "Voir ci-dessous pour une application simple d'un script Python dans CODESYS : Dans n'importe quel éditeur de texte, créez un fichier texte hello.py avec le contenu suivant : print(\"Hello, automation!\") Commencer CODESYS et cliquez Outils → Scripts → Exécuter le fichier de script . Sélectionnez le fi...", 
"body" : "Voir ci-dessous pour une application simple d'un script Python dans CODESYS : Dans n'importe quel éditeur de texte, créez un fichier texte hello.py avec le contenu suivant : print(\"Hello, automation!\") Commencer CODESYS et cliquez Outils → Scripts → Exécuter le fichier de script . Sélectionnez le fichier hello.py dans le système de fichiers. Voir le résultat dans la vue des messages : Pour des exemples plus détaillés de scripts Python pour différents cas d'utilisation avec CODESYS , consultez les pages d'aide suivantes. " }, 
{ "title" : "Conseils pour les programmeurs Python sur la documentation de l'API .NET ", 
"url" : "_cds_scripting_dotnet_api_docu.html", 
"breadcrumbs" : "CODESYS Scripting \/ Création d'un script Python \/ Conseils pour les programmeurs Python sur la documentation de l'API .NET ", 
"snippet" : "La version préliminaire actuelle de la documentation de l'interface de script a été générée automatiquement à partir des sources .NET et C# sous-jacentes. Par conséquent, la documentation inclut certaines expressions qui ne sont pas familières aux programmeurs Python. La présentation suivante fourni...", 
"body" : "La version préliminaire actuelle de la documentation de l'interface de script a été générée automatiquement à partir des sources .NET et C# sous-jacentes. Par conséquent, la documentation inclut certaines expressions qui ne sont pas familières aux programmeurs Python. La présentation suivante fournit quelques conseils sur la façon dont ces expressions peuvent être comprises du point de vue Python. Une interface est le contrat qui indique à une instance d'une classe qui implémente l'interface quels membres (méthodes, propriétés) elle doit préparer. Dans IronPython, vous pouvez implémenter une ou plusieurs interfaces .NET dans une classe en héritant d'une superclasse. Si une méthode est nécessaire pour l'interface mais n'est pas disponible dans la définition de classe, une exception est levée. (La DeviceImportFromSvn.py exemple montre une classe qui implémente le ImportReporter interface.) Chaque paramètre et chaque méthode dans .NET est strictement typé. Le type de paramètre est séparé par un espace avant le nom du paramètre et le type de valeur de retour d'une méthode par un espace avant le nom de la méthode. Vous pouvez utiliser des instances de sous-classes lorsque vous définissez une classe (ou une interface). Une méthode sans valeur de retour est marquée void . Vous pouvez surcharger les méthodes. Par conséquent, plusieurs méthodes portant le même nom peuvent exister dans une même classe. Cependant, le nombre ou les types de paramètres doivent être différents. IronPython prend automatiquement en charge l'appel de la surcharge de méthode la plus appropriée. Le type de données int correspond à un nombre entier de -2 147 483 648 à 2 147 483 647. Le type de données bool correspond au type Python bool ( True et False ). Le type de données string correspond aux types Python str ou unicode , qui sont identiques dans IronPython. La IDictionary<object, object> Le type de données correspond à un dictionnaire Python ordinaire. IronPython convertit automatiquement entre les types de données Python et .NET. Lorsqu'un T le type est hérité de IBaseObject<T> , cela signifie que ce type peut être étendu par d'autres plug-ins pour des membres supplémentaires. L'utilisation réelle de ce type étendu en tant que paramètre ou valeur de retour est marquée par IExtendedObject<T> . La IEnumerable<T> interface avec un T type signifie que vous pouvez utiliser chaque séquence Python (générateurs, listes, tuples, etc.) qui renvoie T valeurs de type (ou une sous-classe). Renvoie la séquence d'objets incompatibles et lève une exception lors de l'exécution. La IList<T> interface avec un T type identifie une liste typée qui garantit de n'inclure que des éléments de type T (ou une sous-classe). Une exception est levée lors de l'exécution lors d'une tentative d'ajout d'un objet incompatible. La params T[] name id pour un paramètre de type T correspond au mécanisme Python *name pour les listes d'arguments variables. En Python, les énumérations ( enum ) n'existent pas en tant que constructions de langage. Son but est de définir un nombre exact de valeurs constantes dans un but précis, par exemple les jours de la semaine. L'accès aux énumérations .NET depuis IronPython fonctionne en utilisant \"Name.Member\", par exemple via OnlineChangeOption.Try . Il existe également différentes approches pour émuler les énumérations en Python. Par exemple, voir : http:\/\/pypi.python.org\/pypi\/enum\/ La syntaxe T name { get; set; } définit une propriété avec name comme nom et T comme type. Si set; est manquant, la propriété est en lecture seule. En Python, la construction respective est @property décorateur. " }, 
{ "title" : "Syntaxe de base de Python (avec exemples) ", 
"url" : "_cds_python_basics.html", 
"breadcrumbs" : "CODESYS Scripting \/ Création d'un script Python \/ Syntaxe de base de Python (avec exemples) ", 
"snippet" : "Python est similaire aux langages de la \"famille C\", mais il existe des différences significatives et des propriétés uniques. La différence syntaxique la plus évidente entre Python et des langages tels que C et ST est que l'analyseur Python reconnaît les structures de blocs par leur indentation. Il ...", 
"body" : "Python est similaire aux langages de la \"famille C\", mais il existe des différences significatives et des propriétés uniques. La différence syntaxique la plus évidente entre Python et des langages tels que C et ST est que l'analyseur Python reconnaît les structures de blocs par leur indentation. Il n'y a pas BEGIN\/END ou bretelles {} pour identifier les blocs de IF\/ELSE les conditions, FOR et WHILE boucles ou fonctions. Les commentaires commencent par # et s'étendre jusqu'à la fin de la ligne. Dans la première et la deuxième ligne du code source, vous pouvez définir un marqueur spécial pour déclarer l'encodage du fichier. Nous vous recommandons d'utiliser UTF-8 comme encodage si les caractères ASCII ne sont pas requis. À des fins de débogage, vous utilisez print pour une sortie facile. Avec le % opérateur, vous obtenez une fonctionnalité similaire à la fonction C printf() . La sortie est affichée dans la vue des messages de CODESYS . Exemple: print # encoding:utf-8\n\n# defining a function with the parameter i\ndef do_something(i):\n # if branch\n if i>0:\n print(\"The value is: %i\" % i)\n sum += i\n print(\"The new sum is: %i\" % sum)\n\n # else if (optional, there can be none or several elif branches)\n elif i=0:\n print(\"The sum did not change: %i\" % sum)\n\n # and the final else branch (also optional).\n else:\n handle_error()\n\n# an endless while loop\nwhile True:\n print(\"I got stuck forever!\") Tout ce qui appartient au même bloc doit être en retrait de la même distance. La taille de l'indentation n'a pas d'importance. Les éléments tels que les crochets et les accolades ont une priorité plus élevée que les indentations. Par conséquent, le segment de code suivant est tout à fait correct, même s'il est écrit dans un \"style de programmation médiocre\": Exemple : Indentation # warning: bad style below. Kids, don't try this at home!\nif foo >= bar:\n print(\"foobar\")\nelse:\n print(\n \"barfoo\"\n) Pour éviter toute ambiguïté, vous ne devez pas mélanger les tabulations et les espaces dans un fichier. À l'heure actuelle, mélanger des tabulations et des espaces dorés dans Python 3 est considéré comme une erreur de syntaxe. Le guide de style Python officiel recommande une indentation de quatre espaces et inclut quelques exemples de style bon et mauvais. Le didacticiel Python fournit un résumé du style de codage. Python est \"sensible à la casse\", similaire à C et contrairement à ST. Mots-clés, tels que def , if , else , et while , doivent être en minuscules (contrairement à la règle ST : les mots clés sont en majuscules). Deux identifiants, tels que \"i\" et \"I\", identifient également deux variables différentes. Les mots-clés suivants sont réservés en Python et ne peuvent pas être utilisés comme identificateurs de variables, fonctions, etc. : and | as | assert | break | class | continue | def | del | elif | else | except | exec | finally | for | from | global | if | import | in | is | lambda | not | or | pass | print | raise | return | try | while | with | yield . Python 3 a défini quatre autres mots-clés : False | None | True | nonlocal . Alors que les trois premiers sont vraiment nouveaux, les trois premiers étaient déjà des constantes prédéfinies dans Python 2 et ne doivent pas être utilisés à d'autres fins. Pour plus d'informations, consultez : Guide de style Python et Tutoriel Python Dictionnaire Python a également un type de table de hachage (également \"hashmap\"). Contrairement à la liste, elle peut être indexée avec n'importe quel élément, par exemple des chaînes. Son constructeur est dict() et ses littéraux sont déclarés avec des accolades {} . L'exemple de scénario dictionaries.py crée la sortie affichée ci-dessous. Dans la dernière ligne, le script se termine par une exception \"KeyError\": Exemple: dictionaries.py from __future__ import print_function\nprint(\"Testing dictionaries\")\n\n# Declare a dictionary with three entries, the third being a list\nd = {1: \"a\", 2: \"b\", \"my list\": [1, 2, 3]}\nprint(d)\n\n# print the value of the key 1\nprint(d[1])\n\n# remove the value with the key \"my list\"\ndel d[\"my list\"]\n\n# Add a value 4 with the key 3\nd[3] = 4\nprint(d)\n\n# The \"get\" method returns the second argument if the key cannot be found.\nprint(d.get(1, 42))\nprint(d.get(23, 42))\n\n# print all keys in the dictionary\nfor key in d:\n print(key)\n\n# index access for unknown keys will throw a \"KeyError\" exception!\nprint(d[23]) Sortie résultante : Et puis dans la dernière ligne, le script se termine : Clique le Détails bouton pour afficher la trace de la pile. Ici, vous déterminez le numéro de ligne 27 et la clé inconnue 23 . " }, 
{ "title" : "Variables et types de données ", 
"url" : "_cds_python_basics.html#UUID-79bbdd07-a0e2-5462-c006-9a8d8e57d7a4_id_a804f43d109a2a7c0a864630646739a_id_09876db5d11f819ac0a86463753788a7", 
"breadcrumbs" : "CODESYS Scripting \/ Création d'un script Python \/ Syntaxe de base de Python (avec exemples) \/ Variables et types de données ", 
"snippet" : "Python est un langage puissant à typage dynamique -- toutes les informations de type sont évaluées au moment de l'exécution. Les variables contiennent des références à des objets, et l'objet connaît son type, pas la variable. Lorsqu'un programmeur tente d'exécuter une opération qui n'est pas possibl...", 
"body" : "Python est un langage puissant à typage dynamique -- toutes les informations de type sont évaluées au moment de l'exécution. Les variables contiennent des références à des objets, et l'objet connaît son type, pas la variable. Lorsqu'un programmeur tente d'exécuter une opération qui n'est pas possible (par exemple, ajouter un entier et une chaîne), Python lève une exception lors de l'exécution. Par conséquent, il n'y a pas de déclarations de variables et de leurs types. En Python, les variables sont créées uniquement pour leur attribuer des valeurs. C'est complètement différent en C et ST où les types sont forts et statiques. Chaque variable est déclarée avec un type, et au moment de la compilation, le compilateur vérifie que le type et les opérateurs sont autorisés. Consultez les exemples suivants pour gérer les variables : Exemple : Variables # assign the integer 1 to the variable i (also \"creates\" the variable\")\ni = 1\n\n# assign the string \"foobar\" to the variable s\ns = \"foobar\"\n\n# Add 5 to the integer i - this is equivalent to i = i + 5\ni += 5\n# i now holds the integer 6.\n\n# Try to add i and s - this will throw an exception when executed\n# TypeError: unsupported operand type(s) for +: 'int' and 'str'\nresult = i + s\n\n# variables can also be \"undeclared\" by deleting them.\n# Further access to the variable i will throw a NameError exception,\n# as the variable does not exist any more.\ndel i\n\ni += 5 # now throws an exception: NameError: name 'i' is not defined Toutes les variables existantes font référence à une seule valeur. Il n'y a pas de variables non affectées ou non initialisées en Python. Pour exprimer l'absence de valeur, Python fournit un objet spécial : None . En C ou ST, vous utiliseriez un pointeur nul. Son seul but est d'exprimer \"aucune valeur ici\", bien que None est en fait une instance existante de la classe NoneType . " }, 
{ "title" : "Types numériques et virgules flottantes ", 
"url" : "_cds_python_basics.html#UUID-79bbdd07-a0e2-5462-c006-9a8d8e57d7a4_id_a804f43d109a2a7c0a864630646739a_id_bee8f824d11f819ac0a8646326bc8327", 
"breadcrumbs" : "CODESYS Scripting \/ Création d'un script Python \/ Syntaxe de base de Python (avec exemples) \/ Types numériques et virgules flottantes ", 
"snippet" : "Contrairement aux dizaines de types entiers dans IEC ou C, il n'y a qu'un seul type entier en Python. Les types entiers en Python n'ont pas de taille fixe. Au lieu de cela, ils grandissent selon les besoins et ne sont limités que par la mémoire disponible. Exemple: Integers.py from __future__ import...", 
"body" : "Contrairement aux dizaines de types entiers dans IEC ou C, il n'y a qu'un seul type entier en Python. Les types entiers en Python n'ont pas de taille fixe. Au lieu de cela, ils grandissent selon les besoins et ne sont limités que par la mémoire disponible. Exemple: Integers.py from __future__ import print_function\n\ni = 1\nprint(i)\n\nj = 0x1234 # hex number, is 16#1234 in IEC and 4660 in decimal\nk = 0o123 # octal number, is 8#123 in IEC and 83 decimal\nl = 0b101010 # binary number, is 2#101010 in IEC and 42 in decimal\nprint(j, k, l)\n\nm = (2 + 3)*10 # k is 50 now\nprint(m)\n\nn = 10 ** 100 # 10 to the power of 100\nprint(n) Sortie résultante : Il n'y a également qu'un seul type à virgule flottante en Python qui est similaire au type de données IEC LREAL . Il fournit une arithmétique à virgule flottante IEEE 64 bits. La syntaxe est similaire aux langages basés sur C pour la plupart : Exemple : Types à virgule flottante # A simple float...\na = 123.456\n\n# A float containing the integral value 2\nb = 2.\n\n# Leading zeroes can be left off\nc = .3 # same as 0.3\n\n# Exponential \/ scientific representation\nd = -123e-5 Deux cas particuliers sont True et False , deux constantes qui définissent les valeurs de vérité booléennes. Ils se comportent de la même manière que les valeurs entières 0 et 1 , sauf lorsqu'ils sont convertis en chaînes et renvoient leurs noms. Exemple: Booleans.py # booleans behave like integers, except when converted to strings.\n# The built-in function \"type\" can be used to query the type of a value.\nprint(\"True: \", True, type(True))\nprint(\"False: \", False, type(False))\nprint(\"1: \", 1, type(1))\nprint(\"False + 0: \", False + 0, type(False + 0))\nprint(\"True * 5: \", True * 5, type(True * 5)) Sortie résultante : " }, 
{ "title" : "Cordes ", 
"url" : "_cds_python_basics.html#UUID-79bbdd07-a0e2-5462-c006-9a8d8e57d7a4_id_a804f43d109a2a7c0a864630646739a_id_e6c6288bd11f819ac0a864637420628d", 
"breadcrumbs" : "CODESYS Scripting \/ Création d'un script Python \/ Syntaxe de base de Python (avec exemples) \/ Cordes ", 
"snippet" : "Dans IronPython, les chaînes sont toujours en Unicode et de n'importe quelle longueur. Cela ne fait aucune différence s'ils sont enfermés dans ' ou \" . Les chaînes peuvent également avoir des guillemets triples \"\"\" ou ''' , qui autorise les littéraux de chaîne multilignes. Semblable à C, les caractè...", 
"body" : "Dans IronPython, les chaînes sont toujours en Unicode et de n'importe quelle longueur. Cela ne fait aucune différence s'ils sont enfermés dans ' ou \" . Les chaînes peuvent également avoir des guillemets triples \"\"\" ou ''' , qui autorise les littéraux de chaîne multilignes. Semblable à C, les caractères spéciaux peuvent être exclus au moyen de caractères de barre oblique inverse. A titre de comparaison, le signe dollar ( $ ) est utilisé dans la CEI à cette fin. Il existe également des chaînes brutes qui ont d'autres règles pour la barre oblique inverse. Ceci est pratique lorsque la chaîne doit avoir des barres obliques inverses littérales. Exemple : chemins de fichiers Windows ou expressions régulières. Exemple: Strings.py # encoding:utf-8\nfrom __future__ import print_function\n\na = \"a simple string\"\nb = 'another string'\nc = \"strings may contain 'quotes' of the other type.\"\nd = \"multiple string literals\" ' are concatenated ' '''by the parser'''\ne = \"Escaping: quotes: \\\" \\' backslash: \\\\ newline: \\r\\n ascii code: \\x40\"\nf = \"\"\"triple-quoted strings may contain newlines, \"single\"\n'quotes' and '''multiquotes''' of the other type\"\"\"\ng = \"Üňíçǿđȩ is also possible: 北京, Москва, Αθήνα, القاهرة\"\nh = r\"c:\\raw\\strings\\retain\\backslashes.txt\"\n\n# we iterate over a sequence of all the variables defined above:\nfor i in (a,b,c,d,e,f,g,h):\n print(i) # prints the contents of the variable Sortie résultante : Python n'a pas de types de caractères. Les caractères sont exprimés par l'utilisation de chaînes d'une longueur de 1. De cette manière, l'itération via une chaîne, ou l'indexation dans une chaîne, renvoie une chaîne unique. " }, 
{ "title" : "Listes et tuples (ensembles de données) ", 
"url" : "_cds_python_basics.html#UUID-79bbdd07-a0e2-5462-c006-9a8d8e57d7a4_id_a804f43d109a2a7c0a864630646739a_id_fbd5e6dfd11f819ac0a8646362c2834f", 
"breadcrumbs" : "CODESYS Scripting \/ Création d'un script Python \/ Syntaxe de base de Python (avec exemples) \/ Listes et tuples (ensembles de données) ", 
"snippet" : "Les listes et les tuples correspondent essentiellement aux tableaux en C et CEI, mais il existe quelques différences notables : L'accès à l'index est toujours vérifié. L'accès à une liste ou à un tuple avec un index invalide lève une exception. Les listes et les tuples peuvent contenir des éléments ...", 
"body" : "Les listes et les tuples correspondent essentiellement aux tableaux en C et CEI, mais il existe quelques différences notables : L'accès à l'index est toujours vérifié. L'accès à une liste ou à un tuple avec un index invalide lève une exception. Les listes et les tuples peuvent contenir des éléments de différents types (également d'autres listes et tuples). Contrairement au C et à l'IEC, les tableaux ne peuvent contenir que des éléments d'un seul type. Les listes sont dynamiques et des éléments peuvent être ajoutés, supprimés ou remplacés à tout moment. Les tuples ne sont pas modifiables : une fois qu'un tuple est créé, il ne peut plus être modifié. Les listes sont créées avec le list() constructeur. Comme alternative, vous pouvez utiliser des parenthèses [] . Les tuples sont créés avec le tuple() constructeur ou parenthèses () . Exemple: list_tuples.py from __future__ import print_function\nprint(\"Testing tuples and lists\")\n\n# We define a tuple with the numbers from 1 to 10:\nt = (1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\nprint(\"Tuple:\", t)\n\n# We can access the 6th element of the tuple.\n# As in C, index counting starts with 0.\nprint(\"Element 5:\", t[5])\n\n# Subscription is more powerful using the range syntax:\nprint(\"Range[2:5]:\", t[2:5]) # lower bound is inclusive, upper bound is exclusive.\nprint(\"Range[2::2]:\", t[2::2]) # start with 3rd element, and print every 2nd element.\nprint(\"Range[-3:-1]:\", t[-3:-1]) # Start with the 3rd last element, end just before the last element (upper bound is exclusive)\nprint(\"Range[::-1]:\", t[::-1]) # negative step with - print backwards\n\n# lists are similar to tuples...\nl = [11, 12, 13, \"8\", t] # contains mixed types: 3 integers, a string, and the tuple defined above.\nprint(\"List:\", l)\n\n# ... but elements can be added or removed dynamically.\nl.append(9) # Add a 9 to the list.\nprint(\"List with 9:\", l)\nprint(\"List Range[3:6:2]:\", l[3:6:2]) # print the 4th and 6th element.\n\ndel l[1] # remove the element at index 1, the 12.\nprint(\"Removed[1]:\", l)\ndel l[1:3] # Remove the elements at index 1 and 2, the 13 and the '8'.\nprint(\"Removed[1:3]:\", l) Sortie résultante : " }, 
{ "title" : "Structures de contrôle Python (avec exemples) ", 
"url" : "_cds_python_control_structures.html", 
"breadcrumbs" : "CODESYS Scripting \/ Création d'un script Python \/ Structures de contrôle Python (avec exemples) ", 
"snippet" : "Modules et bibliothèques standards Dans IEC, vous pouvez importer des bibliothèques pour les réutiliser par d'autres codes écrits. En pendant, il y a la possibilité en Python d'importer des modules. La Bibliothèque standard Python contient de nombreux modules à des fins différentes, telles que : Tra...", 
"body" : "Modules et bibliothèques standards Dans IEC, vous pouvez importer des bibliothèques pour les réutiliser par d'autres codes écrits. En pendant, il y a la possibilité en Python d'importer des modules. La Bibliothèque standard Python contient de nombreux modules à des fins différentes, telles que : Traitement des chaînes Gestion de la date et de l'heure Collections Enfilage Fonctions mathématiques La gestion des fichiers Persistance Compression et archivage Accès à la base de données Services de chiffrement Accès réseau et Internet Envoi d'e-mails Pour créer vos propres modules, écrivez un fichier Python qui définit les fonctions et les classes que vous souhaitez fournir. Enregistrez ce fichier dans le même répertoire que notre exemple de script. Si vous nommez le fichier mymodule.py , alors vous pouvez l'importer avec import mymodule . Voici un exemple d'importation et d'utilisation de la fonction cosinus et de la constante pi de la math module: Exemple : Importer une fonction mathématique from math import cos, pi\n\nprint(pi) # prints 3.14159265359\n\nprint(cos(pi)) # prints -1.0 Ce qui suit contient d'autres exemples qui accèdent aux informations sur le système d'exploitation, la version de Python et l'interpréteur : Plus d'exemples d'importation import os\nprint(os.environ[\"OS\"])\n\nfrom sys import platform, version, executable\nprint(platform)\nprint(version)\nprint(executable) Il y a un module spécial __future__ pour activer de nouvelles fonctionnalités linguistiques. Surtout, il est utilisé lorsque les développeurs Python introduisent de nouvelles fonctionnalités rétrocompatibles. Ces types de fonctionnalités doivent être activés avec des \" __future__ importations\". Un exemple que nous utilisons dans la plupart de nos exemples de scripts ici est l'activation de la nouvelle syntaxe de puissance de print comme une fonction au lieu d'une instruction. Exemple : \"__futur__\" # make print() a function instead of a statement\nfrom __future__ import print_function La documentation Python fournit une liste de tous __future__ importations . En plus des modules Python normaux, le code IronPython peut également accéder aux assemblages .NET comme s'il s'agissait de modules Python. Cela ouvre l'accès au bibliothèque de classes de framework .NET et des bibliothèques tierces. Voici un exemple d'ouverture d'une boîte de dialogue à l'aide de la Windows Forms bibliothèque: Exemple : Ouverture d'une boîte de dialogue .NET import clr\nclr.AddReference(\"System.Windows.Forms\")\nfrom System.Windows.Forms import MessageBox\n\nMessageBox.Show(\"Hello\") " }, 
{ "title" : "Boucles ", 
"url" : "_cds_python_control_structures.html#UUID-41bf35cd-84fc-9964-0f0b-7fb9353165c8_id_b63866f1d12074a2c0a864632ac8f157_id_4f851aacd12e135fc0a8646365f686f8", 
"breadcrumbs" : "CODESYS Scripting \/ Création d'un script Python \/ Structures de contrôle Python (avec exemples) \/ Boucles ", 
"snippet" : "Contrairement à C et ST, for les boucles en Python ne comptent pas les variables de boucle, mais itèrent sur une séquence. Ce type de séquence peut être un \"dictionnaire\", une liste, un tuple, les caractères d'une chaîne ou les lignes d'un fichier. L'exemple suivant montre quelques for boucles: Exem...", 
"body" : "Contrairement à C et ST, for les boucles en Python ne comptent pas les variables de boucle, mais itèrent sur une séquence. Ce type de séquence peut être un \"dictionnaire\", une liste, un tuple, les caractères d'une chaîne ou les lignes d'un fichier. L'exemple suivant montre quelques for boucles: Exemple : loops.py from __future__ import print_function\n\nprint(\"Enumerating over a simple list:\")\nfor i in (1,2,3,4):\n print(i, end=\", \") # end= replaces the newline with \", \"\nprint() # but we still need a newline at the end of this case.\n\nprint(\"Enumerating over the characters in a string:\")\nfor i in \"CODESYS\": # characters are representet as strings of length 1.\n print(i, end=\", \")\nprint()\n\nprint(\"Enumerating over the integers 1 to 4:\")\nfor i in range(1, 5): # upper bound is exclusive.\n print(i, end=\", \")\nprint()\n\nprint(\"Enumerating using xrange:\")\nfor i in xrange(5): # xrange is similar to range, but needs less memory for large ranges.\n print(i, end=\", \")\nprint()\n\nprint(\"Enumerating including the item number:\")\nfor i, v in enumerate(\"CODESYS\"):\n print(i, v) Sortie résultante : Si vous avez besoin d'un index ou d'un numéro en plus de l'article, vous devez utiliser enumerate comme indiqué dans le dernier cas de l'exemple de script. Le code suivant est considéré comme de mauvais style : Exemple : Mauvais style text = \"CODESYS\"\n\nfor i in range(len(text)): # BAD STYLE!\n v = text[i] # DON'T TRY THIS AT HOME!\n print(i, v) Outre for boucles, Python a aussi while boucles qui sont très similaires à celles en C et ST : Exemple de boucle \"while\" i = 0\nwhile i < 3;\n print(i)\n i += 1 Remarque : Cet exemple n'est pas très pratique. Vous utiliseriez plus probablement un for boucle avec une plage. " }, 
{ "title" : "SINON ", 
"url" : "_cds_python_control_structures.html#UUID-41bf35cd-84fc-9964-0f0b-7fb9353165c8_id_b63866f1d12074a2c0a864632ac8f157_id_b0e45e92d12e135fc0a8646304f7c02b", 
"breadcrumbs" : "CODESYS Scripting \/ Création d'un script Python \/ Structures de contrôle Python (avec exemples) \/ SINON ", 
"snippet" : "La if\/else La construction est similaire à celles des autres langages de programmation. Voici un court exemple : Exemple : \"if_else.py\" from __future__ import print_function i = int(system.ui.query_string(\"Please enter an integral number...\")) if i < 0: print(\"Your number was negative.\") elif i > 0:...", 
"body" : "La if\/else La construction est similaire à celles des autres langages de programmation. Voici un court exemple : Exemple : \"if_else.py\" from __future__ import print_function\ni = int(system.ui.query_string(\"Please enter an integral number...\"))\nif i < 0:\n print(\"Your number was negative.\")\nelif i > 0:\n print(\"Your numer was positive.\")\nelse:\n print(\"It seems your number was zero.\") La else branch est facultatif et il peut y avoir zéro, un ou plusieurs elif branches. " }, 
{ "title" : "Fonctions, classes et méthodes ", 
"url" : "_cds_python_control_structures.html#UUID-41bf35cd-84fc-9964-0f0b-7fb9353165c8_id_b63866f1d12074a2c0a864632ac8f157_id_0db30903d12e135fc0a8646353ed05ef", 
"breadcrumbs" : "CODESYS Scripting \/ Création d'un script Python \/ Structures de contrôle Python (avec exemples) \/ Fonctions, classes et méthodes ", 
"snippet" : "Python permet de définir des fonctions et des classes avec des méthodes. Une classe avec des méthodes est fondamentalement similaire à un bloc fonctionnel dans ST ou à des classes dans des langages tels que C++, Java ou C#. Cependant, Python ne prend pas en charge les interfaces. Pour des informatio...", 
"body" : "Python permet de définir des fonctions et des classes avec des méthodes. Une classe avec des méthodes est fondamentalement similaire à un bloc fonctionnel dans ST ou à des classes dans des langages tels que C++, Java ou C#. Cependant, Python ne prend pas en charge les interfaces. Pour des informations détaillées, consultez la documentation Python pour définir Les fonctions et Des classes . Exemples : fonctions, classes et méthodes #defining a function with name sum and two parameters a and b:\ndef sum(a, b):\n return a + b # we return the sum of a and b.\n\n# we can now call the function defined above:\nprint(sum(5,7))\n\n# Now we define a class Foo:\nclass Foo:\n # The class gets a method \"bar\".\n # Note: for methods, the first parameter is always \"self\" and\n # points to the current instance. This is similar to \"this\" in\n # ST and other languages.\n def bar(self, a, b):\n print(\"bar(%s,%s)\" % (a,b))\n\n# We create an instance of the class:\nf = Foo()\n\n# We call the method bar on the instance.\nf.bar(\"some\", \"params\") " }, 
{ "title" : "Comparaison entre IronPython et cPython ", 
"url" : "_cds_ironpython_versus_cpython.html", 
"breadcrumbs" : "CODESYS Scripting \/ Création d'un script Python \/ Comparaison entre IronPython et cPython ", 
"snippet" : "Il existe quelques petites différences et incompatibilités entre IronPython et Python \"standard\" (\"cPython\"). Certaines sont des erreurs directes dans IronPython et devraient être supprimées dans les futures versions. Cependant, d'autres sont considérés comme des \"détails de mise en œuvre\" et rester...", 
"body" : "Il existe quelques petites différences et incompatibilités entre IronPython et Python \"standard\" (\"cPython\"). Certaines sont des erreurs directes dans IronPython et devraient être supprimées dans les futures versions. Cependant, d'autres sont considérés comme des \"détails de mise en œuvre\" et resteront. Certains d'entre eux sont des sujets très difficiles. La différence la plus évidente pour les utilisateurs est la gestion des chaînes. Le cPython d'origine a deux types de chaînes différents pour les \"chaînes d'octets\" et les \"chaînes Unicode\". Ce concept est similaire aux types de données STRING et WSTRING dans CEI. IronPython utilise simplement des chaînes .NET qui sont toujours compatibles Unicode et utilisent UTF-16 en interne. Cependant, IronPython implémente une astuce pour masquer la différence avec cPython au programmeur. (Intéressant : pour la nouvelle version 3 de Python, les développeurs ont complètement retravaillé leur gestion des chaînes. Le résultat était un modèle beaucoup plus proche d'IronPython. Les chaînes Unicode sont toujours utilisées après cela et il existe un type de données distinct pour la gestion des octets bruts) Les modules Python écrits en C ne peuvent pas être importés dans IronPython car cPython utilise des structures de données internes complètement différentes d'IronPython. La plupart des modules de bibliothèque standard ont été réimplémentés dans IronPython. Cependant, certains modules (tels que l'interface TK) ne sont pas disponibles tant qu'ils ne sont pas explicitement portés sur IronPython. D'autre part, IronPython permet d'accéder aux assemblages .NET, y compris le framework .NET (comme indiqué ci-dessus), ce qui compense largement cette fonctionnalité. Alors que cPython utilise le comptage de références et un ramasse-miettes déterministe pour nettoyer les déchets cycliques, IronPython s'appuie sur le ramasse-miettes .NET non déterministe. Dans la plupart des cas, cette différence n'a pas d'importance. Mais lorsque vous ouvrez des fichiers ou d'autres ressources à partir de la bibliothèque standard Python ou du framework .NET, vous devez vous assurer de les fermer ultérieurement. Il est préférable d'utiliser le with instruction avec le gestionnaire de contexte Python ou .NET IDisposable instances. Pour plus d'informations, consultez : Gestionnaires de contenu et .NET IDisposable " }, 
{ "title" : "Utilisation de scripts pour accéder CODESYS Fonctionnalités ", 
"url" : "_cds_access_cds_func_in_python_scripts.html", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités ", 
"snippet" : "Tous les objets et commandes qui CODESYS des services de scripts sont également disponibles dans le \" scriptengine \" Module Python. Chaque fois qu'un script est démarré, un <code>from scriptengine import *<\/code> résultats. Cela permet un accès facile aux CODESYS . Cependant, si votre script importe...", 
"body" : "Tous les objets et commandes qui CODESYS des services de scripts sont également disponibles dans le \" scriptengine \" Module Python. Chaque fois qu'un script est démarré, un <code>from scriptengine import *<\/code> résultats. Cela permet un accès facile aux CODESYS . Cependant, si votre script importe des modules qui nécessitent un accès CODESYS API, ces modules doivent alors importer le module scriptengine eux-mêmes. Le tableau suivant présente les principaux objets (catégories) pouvant servir de points d'entrée dans les scripts Python. Pour une documentation complète sur les points d'entrée, consultez la documentation de référence de l'API. CODESYS Moteur de script : API de script CODESYS . Objets Description system Accès au général CODESYS fonctionnalités Exemples: Sortie CODESYS Gestion de l'interface utilisateur générale Accès à la mémoire des messages (y compris les messages du compilateur) Contrôle des barres de retard et de progression projects Accès à la CODESYS projet sous forme d'arborescence d'objets qui combine les trois vues du navigateur (périphériques, POU, modules) dans une arborescence de projet Permet également le chargement, la création, l'enregistrement et la fermeture de projets Pour la plupart des objets d'un projet, il existe des méthodes spéciales avec des fonctionnalités détaillées, par exemple la compilation, l'accès aux POU ST, l'exportation, l'importation, la configuration des appareils, etc. online Accès aux fonctionnalités en ligne Exemples: Connectez-vous aux appareils et aux applications Gestion des données d'accès (nom d'utilisateur, mot de passe) Performances des analyses de réseau Gestion de la passerelle librarymanager Permet la gestion des référentiels de bibliothèques et la visualisation, l'installation et la suppression des bibliothèques device_repository Gestion des référentiels d'appareils ; importation et exportation des descriptions d'appareils modulerepository Gestion de CODESYS Application Composer modules et CODESYS Application Composer dépôts Consultez les exemples de scripts spécifiques suivants pour connaître les moyens d'y accéder CODESYS fonctionnalités. Pour des informations détaillées, consultez la documentation de référence de l'API CODESYS Moteur de script : API de script CODESYS . " }, 
{ "title" : "Exemple : Impression de l'arborescence des périphériques du projet en cours ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-1ff21fc5-3512-c23c-3684-17e0341b37b6", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemple : Impression de l'arborescence des périphériques du projet en cours ", 
"snippet" : "Le scénario PrintDeviceTree.py Voici un exemple de navigation dans un projet. Il génère un affichage hiérarchique de tous les appareils du projet ouvert. Chargez un projet contenant des objets de périphérique et exécutez le script. Exemple: PrintDeviceTree.py # encoding:utf-8 # We enable the new pyt...", 
"body" : "Le scénario PrintDeviceTree.py Voici un exemple de navigation dans un projet. Il génère un affichage hiérarchique de tous les appareils du projet ouvert. Chargez un projet contenant des objets de périphérique et exécutez le script. Exemple: PrintDeviceTree.py # encoding:utf-8\n# We enable the new python 3 print syntax\nfrom __future__ import print_function\n\n# Prints out all devices in the currently open project.\n\nprint(\"--- Printing the devices of the project: ---\")\n\n# Define the printing function. This function starts with the\n# so called \"docstring\" which is the recommended way to document\n# functions in python.\ndef print_tree(treeobj, depth=0):\n \"\"\" Print a device and all its children\n\n Arguments:\n treeobj -- the object to print\n depth -- The current depth within the tree (default 0).\n\n The argument 'depth' is used by recursive call and\n should not be supplied by the user.\n \"\"\"\n\n # if the current object is a device, we print the name and device identification.\n if treeobj.is_device:\n name = treeobj.get_name(False)\n deviceid = treeobj.get_device_identification()\n print(\"{0}- {1} {2}\".format(\"--\"*depth, name, deviceid))\n\n # we recursively call the print_tree function for the child objects.\n for child in treeobj.get_children(False):\n print_tree(child, depth+1)\n\n# We iterate over all top level objects and call the print_tree function for them.\nfor obj in projects.primary.get_children():\n print_tree(obj)\n\nprint(\"--- Script finished. ---\") L'arborescence des périphériques (de la vue « Périphériques ») s'affiche dans la vue des messages et tous les objets non périphériques sont laissés de côté : " }, 
{ "title" : "Exemple : Lecture de variables ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-f04658fd-8f44-9612-db9e-0d0ba4adef9f", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemple : Lecture de variables ", 
"snippet" : "Le scénario ReadVariable.py se connecte à l'appareil et lance l'application si nécessaire. La valeur de la variable PLC_PRG.iVar1 est lu et généré. Pour tester le script, vous devez modifier le chemin du projet et les noms des variables. Exemple: ReadVariable.py # encoding:utf-8 from __future__ impo...", 
"body" : "Le scénario ReadVariable.py se connecte à l'appareil et lance l'application si nécessaire. La valeur de la variable PLC_PRG.iVar1 est lu et généré. Pour tester le script, vous devez modifier le chemin du projet et les noms des variables. Exemple: ReadVariable.py # encoding:utf-8\nfrom __future__ import print_function\n\n# close open project if necessary:\nif projects.primary:\n projects.primary.close()\n\n# opens project\nproj = projects.open(r\"D:\\data\\projects\\Ampel.project\")\n\n# set \"Ampel.project\" to active application\napp = proj.active_application\nonlineapp = online.create_online_application(app)\n\n# login to device\nonlineapp.login(OnlineChangeOption.Try, True)\n\n# set status of application to \"run\", if not in \"run\"\nif not onlineapp.application_state == ApplicationState.run:\n onlineapp.start()\n\n# wait 1 second\nsystem.delay(1000)\n\n# read value of iVar1\nvalue = onlineapp.read_value(\"PLC_PRG.iVar1\")\n\n# display value in message view or command line\nprint(value)\n\n# log out from device and close \"Ampel.project\"\nonlineapp.logout()\nproj.close() Dans le prolongement du script ReadVariable.py , le scénario MailVariables.py Charge les variables et expressions d'un fichier de recette et lit leurs valeurs actuelles depuis le contrôleur. Ces valeurs sont ensuite réécrites dans le même fichier. De plus, il utilise la bibliothèque SMTP Python pour envoyer un e-mail avec une pièce jointe contenant la liste de toutes les variables. Pour utiliser le script, vous devez modifier les chemins, l'adresse e-mail et le nom du serveur SMTP de votre environnement. Exemple: MailVariables.py # encoding:utf-8\nfrom __future__ import print_function\n\n# Close current project if necessary and open \"ScriptTest.project\"\nif not projects.primary == None:\n projects.primary.close()\nproject = projects.open(\"D:\\\\Data\\\\projects\\\\scriptTest.project\")\n\n# retrieve active application\napplication = project.active_application\n\n# create online application\nonline_application = online.create_online_application(application)\n\n# login to application.\nonline_application.login(OnlineChangeOption.Try, True)\n\n# start PLC if necessary\nif not online_application.application_state == ApplicationState.run:\n online_application.start()\n\n# wait 2 seconds\nsystem.delay(2000)\n\n# open recipe file to read values.\nrecipe_input_file = open(\"D:\\\\Data\\\\projects\\\\RecipeInput.txt\", \"r\")\n\nwatch_expressions = []\n\nfor watch_expression in recipe_input_file:\n watch_expressions.append(watch_expression.strip())\n\nprint watch_expressions\n\n# read values from the controllerd\nwatch_values = online_application.read_values(watch_expressions)\n\nprint watch_values\n\n# open output file to write values\nrecipe_output_file = open(\"D:\\\\Data\\\\projects\\\\RecipeOutput.txt\", \"w\")\nfor i in range(len(watch_expressions)):\n recipe_output_file.write(watch_expressions[i])\n recipe_output_file.write(\" = \")\n recipe_output_file.write(watch_values[i])\n recipe_output_file.write(\"\\n\")\n\n# Close files\nrecipe_input_file.close()\nrecipe_output_file.close()\n\n# send Email\n# import respective libraries\nimport smtplib\nfrom email.mime.text import MIMEText\n\n#open output file\nrecipe_output_file = open(\"D:\\\\Data\\\\projects\\\\RecipeOutput.txt\", \"r\")\nmail = MIMEText(recipe_output_file.read())\nrecipe_output_file.close()\n\n#email address sender and recipient\nfromm = \"info@example.com\"\nto = \"info@example.com\"\n\n# set sender and recipient\nmail[\"Subject\"] = \"Attention value has changed\"\nmail[\"From\"] = fromm\nmail[\"To\"] = to\n\n# send email\nsmtp = smtplib.SMTP(\"name of smtp server\")\nsmtp.sendmail(fromm, [to], mail.as_string())\nsmtp.quit()\n\n# logout and close application\nonline_application.logout()\nproject.close() " }, 
{ "title" : "Exemple : création et modification de POU ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-f84d1054-0503-e110-f60f-1bba49668bfc", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemple : création et modification de POU ", 
"snippet" : "Le scénario CreateDut.py crée les objets MyStruct , MyAlias , et MyUnion dans le CODESYS projet. Le dossier DataTypes doit déjà être présent. Exemple: CreateDut.py # encoding:utf-8 from __future__ import print_function STRUCT_CONTENT = \"\"\"\\ a : BOOL; b : BIT; c : BIT; \"\"\" UNION_WHOLE = \"\"\"\\ TYPE MyU...", 
"body" : "Le scénario CreateDut.py crée les objets MyStruct , MyAlias , et MyUnion dans le CODESYS projet. Le dossier DataTypes doit déjà être présent. Exemple: CreateDut.py # encoding:utf-8\nfrom __future__ import print_function\n\nSTRUCT_CONTENT = \"\"\"\\\n a : BOOL;\n b : BIT;\n c : BIT;\n\"\"\"\n\nUNION_WHOLE = \"\"\"\\\nTYPE MyUnion :\nUNION\n Zahl : INT;\n Prozent : MyAlias;\n Bits : MyStruct;\nEND_UNION\nEND_TYPE\n\"\"\"\n\nproj = projects.primary\n\nfolder = proj.find('DataTypes', recursive = True)[0]\n\n# Create a struct DUT and insert the list of variables just into the right\n# place in line two, row 0 (line numbering starts with line 0)\nstruktur = folder.create_dut('MyStruct') # DutType.Structure is the default\nstruktur.textual_declaration.insert(2, 0, STRUCT_CONTENT)\n\n# Alias types get their \"content\" via the base type, which will just end up\n# as one line in the declaration part:\n# TYPE MyAlias : INT (0..100); END_TYPE\nbereich = folder.create_dut('MyAlias', DutType.Alias, \"INT (0..100)\")\n\n# Instead of injecting the variables into the existing declaration,\n# one can also just replace the complete declaration part, including the\n# boilerplate code.\nunion = folder.create_dut('MyUnion', DutType.Union)\nunion.textual_declaration.replace(UNION_WHOLE) " }, 
{ "title" : "Exemple : Interface utilisateur \/ Interaction avec l'utilisateur ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-81a59971-ce41-8511-1635-9da2963bf86c", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemple : Interface utilisateur \/ Interaction avec l'utilisateur ", 
"snippet" : "Dans certains cas, les scripts doivent interagir avec l'utilisateur. Nous fournissons des API simples pour les interactions les plus courantes. Exemple de script. System_UI_Test.py montre toutes les fonctions possibles à cet égard. Exemple: System_UI_Test.py # encoding:utf-8 from __future__ import p...", 
"body" : "Dans certains cas, les scripts doivent interagir avec l'utilisateur. Nous fournissons des API simples pour les interactions les plus courantes. Exemple de script. System_UI_Test.py montre toutes les fonctions possibles à cet égard. Exemple: System_UI_Test.py # encoding:utf-8\nfrom __future__ import print_function\n\n\"\"\"Performs some tests on the messagestore and UI.\"\"\"\n\nprint(\"Some Error, Warning and Information popups:\")\nsystem.ui.error(\"Fatal error: Everything is OK. :-)\")\nsystem.ui.warning(\"Your bank account is surprisingly low\")\nsystem.ui.info(\"Just for your information: 42\")\n\nprint(\"Now, we ask the user something.\")\nres = system.ui.prompt(\"Do you like this?\", PromptChoice.YesNo, PromptResult.Yes);\nprint(\"The user selected '%s'\" % res)\n\nprint(\"Now, the user can choose between custom options:\")\nres = system.ui.choose(\"Please choose:\", (\"First\", 2, 7.5, \"Something else\"))\nprint(\"The user selected option '%s'\" % str(res)) # res is a tuple\n\nprint(\"Now, the user can choose several options:\")\nres = system.ui.select_many(\"Please select one or more options\", PromptChoice.OKCancel, PromptResult.OK, (\"La Premiere\", \"The Second\", \"Das Dritte\"))\nprint(\"The returned result is: '%s'\" % str(res)) # res is a tuple\n\nprint(\"Now, the user can select files and directories\")\nres = system.ui.open_file_dialog(\"Choose multiple files:\", filter=\"Text files (*.txt)|*.txt|Image Files(*.BMP;*.JPG;*.GIF)|*.BMP;*.JPG;*.GIF|All files (*.*)|*.*\", filter_index = 0, multiselect=True)\nprint(\"The user did choose: '%s'\" % str(res)) # res is a tuple as multiselect is true.\n\nres = system.ui.save_file_dialog(\"Choose a file to save:\", filter=\"Text files (*.txt)|*.txt|Image Files(*.BMP;*.JPG;*.GIF)|*.BMP;*.JPG;*.GIF|All files (*.*)|*.*\", filter_index = 0)\nprint(\"The user did choose: '%s'\" % res)\n\nres = system.ui.browse_directory_dialog(\"Choose a directory\", path=\"C:\\\\\")\nprint(\"The user did choose: '%s'\" % res)\n\nprint(\"Now we query a single line string\")\nres = system.ui.query_string(\"What's your name?\")\nprint(\"Nice to meet you, dear %s.\" % res)\n\nprint(\"Now we query a multi line string\")\nres = system.ui.query_string(\"Please tell me a nice story about your life!\", multi_line=True)\nif (res):\n print(\"Huh, that has been a long text, at least %s characters!\" % len(res))\nelse:\n print(\"Hey, don't be lazy!\")\n " }, 
{ "title" : "Exemple : manipulation de l'objet Informations sur le projet ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-4eec8bcb-93f3-8f78-fc08-e99f12b81f53", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemple : manipulation de l'objet Informations sur le projet ", 
"snippet" : "Dans le script ProjectInfoExample.py , nous avons mis quelques informations dans le Informations sur le projet objet. Les informations les plus importantes, telles que Titre et Version , possèdent des propriétés explicites. Cependant, vous pouvez lire et écrire tout autre champ d'information au moye...", 
"body" : "Dans le script ProjectInfoExample.py , nous avons mis quelques informations dans le Informations sur le projet objet. Les informations les plus importantes, telles que Titre et Version , possèdent des propriétés explicites. Cependant, vous pouvez lire et écrire tout autre champ d'information au moyen de dictionary syntaxe. Par exemple, celles recommandées pour les propriétés d'un projet de bibliothèque. L'exemple ci-dessous peut paraître irréaliste, mais un code similaire est utilisé dans les serveurs de build qui créent, testent et, éventuellement, publient des projets de bibliothèques automatiques et d'autres projets. Le ScriptEngine est un élément clé de la création de systèmes d'intégration continue (CI) et de livraison continue (CD). Exemple: ProjectInfoExample.py # encoding:utf-8\nfrom __future__ import print_function\n\nproj = projects.load(\"D:\\Some.library\")\n\ninfo = proj.get_project_info()\n\n# Set some values\ninfo.company = \"Test Library Ltd\"\ninfo.title = \"Script Test Project\"\ninfo.version = (0, 8, 15, 4711)\ninfo.default_namespace = \"testlibrary\"\ninfo.author = \"Python von Scriptinger\"\n\n# some values recommended in the library toolchain\ninfo.values[\"DefaultNamespace\"] = \"testlibrary\"\ninfo.values[\"Placeholder\"] = \"testlibrary\"\ninfo.values[\"DocFormat\"] = \"reStructuredText\"\n\n# now we set a custom \/ vendor specific value.\ninfo.values[\"SpecialDeviceId\"] = \"PLC0815_4711\"\n\n# Enable generation of Accessor functions, so the IEC\n# application can display the version in an info screen.\ninfo.change_accessor_generation(True)\n\n# And set the library to released\ninfo.released = True;\n\nproj.save() " }, 
{ "title" : "Exemple : appel de commandes externes et importation de fichiers PLCopenXML ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-8c75d2d2-82fd-9c02-b253-f1707f231222", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemple : appel de commandes externes et importation de fichiers PLCopenXML ", 
"snippet" : "L'exemple de script DeviceImportFromSVN.py obtient un fichier PLCopenXML à partir d'un programme externe (dans ce cas, un client SVN) et l'importe dans un nouveau fichier créé CODESYS projet. Pour utiliser le script, vous devez modifier les chemins d'accès à votre environnement. Exemple: DeviceImpor...", 
"body" : "L'exemple de script DeviceImportFromSVN.py obtient un fichier PLCopenXML à partir d'un programme externe (dans ce cas, un client SVN) et l'importe dans un nouveau fichier créé CODESYS projet. Pour utiliser le script, vous devez modifier les chemins d'accès à votre environnement. Exemple: DeviceImportFromSVN.py # encoding:utf-8\n# Imports a Device in PLCopenXML from Subversion via command line svn client.\n\n# We enable the new python 3 print syntax\nfrom __future__ import print_function\n\nimport sys, os\n\n# some variable definitions:\nSVNEXE = r\"C:\\Program Files\\Subversion\\bin\\svn.exe\"\nXMLURL = \"file:\/\/\/D:\/testrepo\/testfolder\/TestExport.xml\"\nPROJECT = r\"D:\\test.project\"\n\n# clean up any open project:\nif projects.primary:\n projects.primary.close()\n\n# Fetch the plcopenxml data from subversion.\n# We'll catch the output of the program into the xmldata variable.\n# The 'with' construct automatically closes the open pipe for us.\nwith os.popen('\"' + SVNEXE + '\" cat ' + XMLURL, 'r') as pipe:\n xmldata = pipe.read()\n\n# create a new project:\nproj = projects.create(PROJECT)\n\n# import the data into the project.\nproj.import_xml(xmldata, False)\n\n# and finally save. :-)\nproj.save()\n\nprint(\"--- Script finished. ---\") " }, 
{ "title" : "Exemples : Archivage de projets ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-e9f294e4-f90f-8738-d08a-2671dd2f7140", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples : Archivage de projets ", 
"snippet" : "Les fonctions open_archive() et save_archive() sont des fonctions de script permettant d'extraire une archive de projet ou de sauvegarder un projet en tant qu'archive. Pour ces deux fonctions, ArchiveCategories peut être spécifié. Pour ça, open_archive() accepte le paramètre categories_to_extract . ...", 
"body" : "Les fonctions open_archive() et save_archive() sont des fonctions de script permettant d'extraire une archive de projet ou de sauvegarder un projet en tant qu'archive. Pour ces deux fonctions, ArchiveCategories peut être spécifié. Pour ça, open_archive() accepte le paramètre categories_to_extract . save_archive() accepte le paramètre additional_categories . ArchiveCategories sont des catégories d'archives de projet qui sont extraites avec les archives de projet dans le cas de open_archive() ou archivé avec les archives du projet dans le cas de save_archive() . " }, 
{ "title" : "Exemples: open_archive() ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-e9f294e4-f90f-8738-d08a-2671dd2f7140_section-id235151955509895", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples : Archivage de projets \/ Exemples: open_archive() ", 
"snippet" : "Divers exemples de open_archive() avec le paramètre categories_to_extract sont présentés ci-dessous : Comportement par défaut : categories_to_extract=None Si categories_to_extract ne sont pas explicitement spécifiés, alors le paramètre est défini sur None . Toutes les catégories sont extraites des a...", 
"body" : "Divers exemples de open_archive() avec le paramètre categories_to_extract sont présentés ci-dessous : Comportement par défaut : categories_to_extract=None Si categories_to_extract ne sont pas explicitement spécifiés, alors le paramètre est défini sur None . Toutes les catégories sont extraites des archives du projet. Exemple # Default\nprojects.open_archive(stArchiveFile=r\"D:\\Tests\\Test.projectarchive\", stProjectPath=r\"D:\\Tests\", bOverwrite=True) Liste vide : categories_to_extract=[] Si le paramètre categories_to_extract est explicitement spécifié avec une liste vide, alors aucune catégorie n'est extraite de l'archive du projet. Exemple # Passing empty list\nprojects.open_archive(stArchiveFile=r\"D:\\Tests\\Test.projectarchive\", stProjectPath=r\"D:\\Tests\", bOverwrite=True, categories_to_extract=[]) Plusieurs catégories Plusieurs catégories peuvent être spécifiées dans le paramètre categories_to_extract Seules les catégories spécifiées sont également extraites. Exemple # Multiple categories\nprojects.open_archive(stArchiveFile=r\"D:\\Tests\\Test.projectarchive\", stProjectPath=r\"D:\\Tests\", bOverwrite=True, categories_to_extract=[ArchiveCategories.libraries, ArchiveCategories.devices]) Erreurs possibles Si les catégories sont spécifiées dans categories_to_extract qui n'existent pas dans le présent CODESYS Lors de l'installation, un message d'erreur s'affiche. L'archive du projet ne peut être extraite tant que la catégorie manquante n'est pas installée ou que la catégorie n'est pas supprimée du paramètre du script. " }, 
{ "title" : "Exemples: save_archive() ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-e9f294e4-f90f-8738-d08a-2671dd2f7140_section-id235151982136617", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples : Archivage de projets \/ Exemples: save_archive() ", 
"snippet" : "Divers exemples de save_archive() avec le paramètre additional_categories sont présentés ci-dessous : Comportement par défaut Si additional_categories ne sont pas explicitement définies, alors les catégories par défaut de la CODESYS Les interfaces sont également archivées. Aucune catégorie : additio...", 
"body" : "Divers exemples de save_archive() avec le paramètre additional_categories sont présentés ci-dessous : Comportement par défaut Si additional_categories ne sont pas explicitement définies, alors les catégories par défaut de la CODESYS Les interfaces sont également archivées. Aucune catégorie : additional_categories=None Si additional_categories est explicitement défini sur None dans le script, aucune catégorie ne sera archivée. Plusieurs catégories Plusieurs catégories peuvent être spécifiées dans le paramètre additional_categories Seules les catégories spécifiées seront incluses dans les archives. Exemple # Muliple categories\nprojects.save_archive(path=r\"D:\\Tests\", comment=\"A new project\", additional_files=[], additional_categories=[ArchiveCategories.libraries, ArchiveCategories.devices]) " }, 
{ "title" : "Exemple avancé : Appeler une bibliothèque depuis SVN et l'installer dans CODESYS ", 
"url" : "_cds_access_cds_func_in_python_scripts.html#UUID-f8dc791e-79b1-01d1-38ab-1ff26c838733", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemple avancé : Appeler une bibliothèque depuis SVN et l'installer dans CODESYS ", 
"snippet" : "L'exemple de script suivant permet d'appeler et d'installer une bibliothèque dans un environnement de test continu (CT) afin de la tester. Outre les tests standard, CODESYS , le CODESYS SVN le module complémentaire doit également être installé avec une licence valide. Exemple import tempfile if proj...", 
"body" : "L'exemple de script suivant permet d'appeler et d'installer une bibliothèque dans un environnement de test continu (CT) afin de la tester. Outre les tests standard, CODESYS , le CODESYS SVN le module complémentaire doit également être installé avec une licence valide. Exemple import tempfile\n\nif projects.primary:\n projects.primary.close()\n\ntempdir = tempfile.mkdtemp()\nURL = \"svn:\/\/localhost\/testrepo\/trunk\/SvnTestLibrary\/\"\n\nproj = svn.checkout(URL, tempdir, \"testlibrary\", as_library=True)\nproj.save()\n\nrepo = librarymanager.repositories[0]\nlibrarymanager.install_library(proj.path, repo, True)\n\nproj.close() " }, 
{ "title" : "Exemples et bonnes pratiques pour le CODESYS Trace API de script ", 
"url" : "_script_examples_for_scripting_api_of_trace.html", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script ", 
"snippet" : "CODESYS Scripting depuis CODESYS Trace Les exemples suivants sont destinés à compléter la documentation API générée automatiquement à partir de CODESYS Scripting à CODESYS Trace ....", 
"body" : "CODESYS Scripting depuis CODESYS Trace Les exemples suivants sont destinés à compléter la documentation API générée automatiquement à partir de CODESYS Scripting à CODESYS Trace . " }, 
{ "title" : "Créer une trace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-385ab78d-d675-9432-2788-f934a017beb2", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Créer une trace ", 
"snippet" : "Vous pouvez utiliser le CODESYS Trace API de script pour créer une nouvelle trace. myApplication = projects.primary.find(\"Device\", \"PLC Logic\", \"Application\")[0] traceObject = trace.create(myApplication, \"MyTraceName\") Une tâche nommée Task doit déjà exister ici. S'il n'existe pas, cette affectation...", 
"body" : "Vous pouvez utiliser le CODESYS Trace API de script pour créer une nouvelle trace. myApplication = projects.primary.find(\"Device\", \"PLC Logic\", \"Application\")[0]\ntraceObject = trace.create(myApplication, \"MyTraceName\")\n Une tâche nommée Task doit déjà exister ici. S'il n'existe pas, cette affectation génère une ValueError . traceObject.task_name = \"Task\" Dans le script, vous pouvez spécifier dans quelle tâche la trace nouvellement créée doit être exécutée. myApplication = projects.primary.find(\"Device\", \"PLC Logic\", \"Application\")[0]\ntraceObjectWithTaskSet = trace.create(myApplication, \"NameOfMySecondTrace\", \"MainTask\")\nassert traceObjectWithTaskSet.task_name == \"MainTask\" " }, 
{ "title" : "Recherche et vérification d'une trace existante ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-e069c436-9cb4-91cd-eb89-25d271ebfc04", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Recherche et vérification d'une trace existante ", 
"snippet" : "Pour retrouver une trace existante, vous pouvez utiliser le project.find méthode. Pour tous les autres objets du IScriptObject taper, .is_trace_object équivaut à FALSE . foundObjects = projects.primary.find(\"Device\", \"PLC Logic\", \"Application\", \"MyTraceObject\") expectedTraceObject = foundObjects[0] ...", 
"body" : "Pour retrouver une trace existante, vous pouvez utiliser le project.find méthode. Pour tous les autres objets du IScriptObject taper, .is_trace_object équivaut à FALSE . foundObjects = projects.primary.find(\"Device\", \"PLC Logic\", \"Application\", \"MyTraceObject\")\nexpectedTraceObject = foundObjects[0]\nassert expectedTraceObject.is_trace_object, \"Could not find trace object with the expected name\"\n " }, 
{ "title" : "Ajout et modification de variables de trace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-1eb4a7bf-03b6-63ce-4945-37dec8f18c74", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Ajout et modification de variables de trace ", 
"snippet" : "Le add_variable() est une méthode simple pour ajouter un nouveau ScriptTraceVariable et définissez ses propriétés lors de la création. myTrace = projects.primary.find(\"Device\", \"PLC Logic\", \"Application\", \"MyTraceObject\")[0] addedVariable = myTrace.add_trace_variable(variableName=\"PLC_PRG.a1\", graph...", 
"body" : "Le add_variable() est une méthode simple pour ajouter un nouveau ScriptTraceVariable et définissez ses propriétés lors de la création. myTrace = projects.primary.find(\"Device\", \"PLC Logic\", \"Application\", \"MyTraceObject\")[0]\n\naddedVariable = myTrace.add_trace_variable(variableName=\"PLC_PRG.a1\",\n graphColor= 0xff000000,\n graphType=GraphType.LINES,\n activateMaxWarning=True,\n maxWarningArea=9.0,\n maxColor= 0xffff0000)\naddedVariable.enabled = False\n\nfor i in range(2,11):\n newVariable = myTrace.variable_list.add()\n newVariable.variable_name = \"PLC_PRG.a\"+str(i)\n newVariable.graph_type = GraphType.LINES_CROSSES\n\nassert len(myTrace.variable_list) == 10 " }, 
{ "title" : "Modification de la liste des variables ScriptTrace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-27bea738-93cd-84ac-0396-64f739218a46", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Modification de la liste des variables ScriptTrace ", 
"snippet" : "...", 
"body" : "" }, 
{ "title" : "Suppression d'une variable ScriptTrace spécifique ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-27bea738-93cd-84ac-0396-64f739218a46_id_KopievonBeispieleSnippetsBestPractices-RemovingaspecificScriptTraceVariable", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Modification de la liste des variables ScriptTrace \/ Suppression d'une variable ScriptTrace spécifique ", 
"snippet" : "Dans l'extrait de code suivant, une variable portant le nom spécifié est d'abord trouvée, puis supprimée du ScriptTraceVariableList . def remove_variable_by_name(traceObject, variableName): index_to_remove = -1 for variable in traceObject.variable_list: if variable.variable_name == variableName: ind...", 
"body" : "Dans l'extrait de code suivant, une variable portant le nom spécifié est d'abord trouvée, puis supprimée du ScriptTraceVariableList . def remove_variable_by_name(traceObject, variableName):\n index_to_remove = -1\n for variable in traceObject.variable_list:\n if variable.variable_name == variableName:\n index_to_remove = traceObject.variable_list.index_of(variable)\n break\n if index_to_remove != -1:\n traceObject.variable_list.remove(index_to_remove) " }, 
{ "title" : "Modification des paramètres d'enregistrement ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-94cde555-71d6-476d-5232-f6ab24e51f0d", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Modification des paramètres d'enregistrement ", 
"snippet" : "...", 
"body" : "" }, 
{ "title" : "Réglage de la résolution (ms\/µs) de l'enregistrement de trace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-94cde555-71d6-476d-5232-f6ab24e51f0d_id_KopievonBeispieleSnippetsBestPractices-Settingtheresolutionmssofthetracerecording", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Modification des paramètres d'enregistrement \/ Réglage de la résolution (ms\/µs) de l'enregistrement de trace ", 
"snippet" : "L'extrait de code suivant est basé sur le \" Créer une trace\" extrait. traceObject.resolution = Resolution.MicroSeconds Utiliser Resolution.MilliSeconds si vous souhaitez un enregistrement basé sur des millisecondes....", 
"body" : "L'extrait de code suivant est basé sur le \" Créer une trace\" extrait. traceObject.resolution = Resolution.MicroSeconds\n Utiliser Resolution.MilliSeconds si vous souhaitez un enregistrement basé sur des millisecondes. " }, 
{ "title" : "Définition des conditions d'enregistrement ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-94cde555-71d6-476d-5232-f6ab24e51f0d_id_KopievonBeispieleSnippetsBestPractices-Settingtherecordcondition", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Modification des paramètres d'enregistrement \/ Définition des conditions d'enregistrement ", 
"snippet" : "L'extrait de code suivant est basé sur le \" Créer une trace\" extrait. traceObject.record_condition = \"PLC_PRG.bDoRecord\"...", 
"body" : "L'extrait de code suivant est basé sur le \" Créer une trace\" extrait. traceObject.record_condition = \"PLC_PRG.bDoRecord\"\n " }, 
{ "title" : "Définir un commentaire ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-94cde555-71d6-476d-5232-f6ab24e51f0d_id_KopievonBeispieleSnippetsBestPractices-Settingthecomment", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Modification des paramètres d'enregistrement \/ Définir un commentaire ", 
"snippet" : "L'extrait de code suivant est basé sur le \" Créer une trace\" extrait. traceObject.comment = \"This trace records the ...\"...", 
"body" : "L'extrait de code suivant est basé sur le \" Créer une trace\" extrait. traceObject.comment = \"This trace records the ...\"\n " }, 
{ "title" : "Définition de l'option de démarrage automatique ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-94cde555-71d6-476d-5232-f6ab24e51f0d_id_KopievonBeispieleSnippetsBestPractices-SettingtheAutoStartoption", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Modification des paramètres d'enregistrement \/ Définition de l'option de démarrage automatique ", 
"snippet" : "L'extrait de code suivant est basé sur le \" Créer une trace\" extrait. traceObject.auto_start = True...", 
"body" : "L'extrait de code suivant est basé sur le \" Créer une trace\" extrait. traceObject.auto_start = True\n " }, 
{ "title" : "Définition de l'option d'enregistrement uniquement tous les n-ièmes cycles ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-94cde555-71d6-476d-5232-f6ab24e51f0d_id_KopievonBeispieleSnippetsBestPractices-SettingtheoptiontorecordonlyeveryNthcycle", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Modification des paramètres d'enregistrement \/ Définition de l'option d'enregistrement uniquement tous les n-ièmes cycles ", 
"snippet" : "L'extrait de code suivant est basé sur le \" Créer une trace\" extrait. traceObject.every_n_cycles = 10...", 
"body" : "L'extrait de code suivant est basé sur le \" Créer une trace\" extrait. traceObject.every_n_cycles = 10\n " }, 
{ "title" : "Diagrammes et leurs variables ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-04c1b9a8-bb14-fbfd-3805-9711ebba973f", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Diagrammes et leurs variables ", 
"snippet" : "...", 
"body" : "" }, 
{ "title" : "Création d'un diagramme ScriptTrace avec toutes les variables ScriptTrace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-04c1b9a8-bb14-fbfd-3805-9711ebba973f_id_KopievonBeispieleSnippetsBestPractices-CreateoneScriptTraceDiagramwithallScriptTraceVariable", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Diagrammes et leurs variables \/ Création d'un diagramme ScriptTrace avec toutes les variables ScriptTrace ", 
"snippet" : "Le script suivant est un exemple de création d'un diagramme simple dans lequel toutes les variables sont utilisées. Tout d'abord, un objet ScriptTrace et certaines variables ScriptTrace sont créés. traceObject = projects.primary.find(\"Device\",\"PLC Logic\",\"Application\",\"Trace\")[0] assert traceObject....", 
"body" : "Le script suivant est un exemple de création d'un diagramme simple dans lequel toutes les variables sont utilisées. Tout d'abord, un objet ScriptTrace et certaines variables ScriptTrace sont créés. traceObject = projects.primary.find(\"Device\",\"PLC Logic\",\"Application\",\"Trace\")[0]\nassert traceObject.is_trace_object\nfor i in range(5):\n traceObject.add_trace_variable(variableName=\"PLC_PRG.a\"+str(i))\n Ensuite, un diagramme ScriptTrace est créé, puis toutes les variables ScriptTrace sont ajoutées. traceDiagram = traceObject.diagrams.add()\nfor traceVar in traceObject.variable_list:\n traceDiagram.add_diagram_variable(traceVar) " }, 
{ "title" : "Création d'un diagramme ScriptTrace par variable ScriptTrace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-04c1b9a8-bb14-fbfd-3805-9711ebba973f_id_KopievonBeispieleSnippetsBestPractices-CreateoneScriptTraceDiagramperScriptTraceVariable", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Diagrammes et leurs variables \/ Création d'un diagramme ScriptTrace par variable ScriptTrace ", 
"snippet" : "La méthode Python suivante prend un objet ScriptTrace et ajoute un diagramme par variable ScriptTrace. def one_diagram_per_variable(traceObject): assert traceObject.is_trace_object for traceVar in traceObject.variable_list: diagram = traceObject.diagrams.add(traceVar) diagram.name = traceVar.variabl...", 
"body" : "La méthode Python suivante prend un objet ScriptTrace et ajoute un diagramme par variable ScriptTrace. def one_diagram_per_variable(traceObject):\n assert traceObject.is_trace_object\n for traceVar in traceObject.variable_list:\n diagram = traceObject.diagrams.add(traceVar)\n diagram.name = traceVar.variable_name\n " }, 
{ "title" : "Copie des paramètres d'un diagramme ScriptTrace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-40f0cc7b-3dd9-5210-2c81-06f898579f41", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Copie des paramètres d'un diagramme ScriptTrace ", 
"snippet" : "Le script suivant montre comment modifier et copier les paramètres d'un diagramme ScriptTrace. traceObject = projects.primary.find(\"Device\",\"PLC Logic\",\"Application\",\"Trace\")[0] assert traceObject.is_trace_object # apply settings for the first diagram traceObject.diagrams[0].y_axis.mode = AxisScaleM...", 
"body" : "Le script suivant montre comment modifier et copier les paramètres d'un diagramme ScriptTrace. \ntraceObject = projects.primary.find(\"Device\",\"PLC Logic\",\"Application\",\"Trace\")[0]\nassert traceObject.is_trace_object\n\n# apply settings for the first diagram\ntraceObject.diagrams[0].y_axis.mode = AxisScaleMode.FixedLength\ntraceObject.diagrams[0].y_axis.range = 10.0\ntraceObject.diagrams[0].y_axis.color = 0xffee0000\ntraceObject.diagrams[0].y_axis.draw_grid = True\ntraceObject.diagrams[0].y_axis.grid_color = 0xffee0000\ntraceObject.diagrams[0].tickmark_fixed_spacing = True\ntraceObject.diagrams[0].tickmark_fixed_distance = 5.0\ntraceObject.diagrams[0].tickmark_fixed_subdivisions = 4\n\n# copy the settings from the first diagrams to all other diagrams\nfor i in range(1,len(traceObject.diagrams))\n traceObject.diagrams[i].y_axis.copy_from(traceObject.diagrams[0])\n " }, 
{ "title" : "Traitement en ligne de la trace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-7cdc3fea-17fb-1c0d-4407-f1812b4b2bd0", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Traitement en ligne de la trace ", 
"snippet" : "...", 
"body" : "" }, 
{ "title" : "Téléchargement et démarrage de Trace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-7cdc3fea-17fb-1c0d-4407-f1812b4b2bd0_id_KopievonBeispieleSnippetsBestPractices-Downloadandstarttrace", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Traitement en ligne de la trace \/ Téléchargement et démarrage de Trace ", 
"snippet" : "L'extrait de code suivant trouve le Trace trace de la Application l'application, la télécharge et la démarre. proj = projects.open(r\"<Path to the project file>\") app = proj.find(\"Device\", \"PLC Logic\", \"Application\")[0] with online.create_online_application(app) as onlineapp: traceObject = proj.find(...", 
"body" : "L'extrait de code suivant trouve le Trace trace de la Application l'application, la télécharge et la démarre. proj = projects.open(r\"<Path to the project file>\")\napp = proj.find(\"Device\", \"PLC Logic\", \"Application\")[0]\nwith online.create_online_application(app) as onlineapp:\n traceObject = proj.find(\"Device\", \"PLC Logic\", \"Application\", \"Trace\")[0]\n onlineapp.login(OnlineChangeOption.Never, True)\n onlineapp.start()\n editor = traceObject.open_editor()\n editor.download()\n editor.start() " }, 
{ "title" : "Enregistrer la trace dans un fichier ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-7cdc3fea-17fb-1c0d-4407-f1812b4b2bd0_id_KopievonBeispieleSnippetsBestPractices-Savingtracetoafile", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Traitement en ligne de la trace \/ Enregistrer la trace dans un fichier ", 
"snippet" : "L'extrait de code suivant est basé sur le \" Téléchargement et démarrage de Trace\" extrait. Une trace doit être arrêtée avant de pouvoir être enregistrée. Cela peut être fait soit en atteignant la condition de déclenchement, soit par un appel explicite de stop() . On suppose qu'une trace est déjà en ...", 
"body" : "L'extrait de code suivant est basé sur le \" Téléchargement et démarrage de Trace\" extrait. Une trace doit être arrêtée avant de pouvoir être enregistrée. Cela peut être fait soit en atteignant la condition de déclenchement, soit par un appel explicite de stop() . On suppose qu'une trace est déjà en cours d'exécution. editor.stop()\neditor.save(r\"<File path to csv file>\") " }, 
{ "title" : "Interrogation de diverses informations sur l'enregistrement de trace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-7cdc3fea-17fb-1c0d-4407-f1812b4b2bd0_id_KopievonBeispieleSnippetsBestPractices-Querymiscellaneousinformationabouttracerecording", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Traitement en ligne de la trace \/ Interrogation de diverses informations sur l'enregistrement de trace ", 
"snippet" : "L'extrait de code suivant est basé sur le \" Téléchargement et démarrage de Trace\" extrait. On suppose qu'une trace est déjà en cours d'exécution. print(\"Packet State: {}\".format(editor.get_packet_state())) print(\"Trace started at {} (absolute timestamp)\".format(editor.get_trace_start_timetamp()))...", 
"body" : "L'extrait de code suivant est basé sur le \" Téléchargement et démarrage de Trace\" extrait. On suppose qu'une trace est déjà en cours d'exécution. print(\"Packet State: {}\".format(editor.get_packet_state()))\nprint(\"Trace started at {} (absolute timestamp)\".format(editor.get_trace_start_timetamp())) " }, 
{ "title" : "Gestion des déclencheurs ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-c2b239af-af15-efed-b932-7a7dde57e5a0", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Gestion des déclencheurs ", 
"snippet" : "...", 
"body" : "" }, 
{ "title" : "Configurer un déclencheur booléen ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-c2b239af-af15-efed-b932-7a7dde57e5a0_id_KopievonBeispieleSnippetsBestPractices-ConfigureaBOOLtrigger", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Gestion des déclencheurs \/ Configurer un déclencheur booléen ", 
"snippet" : "traceObject = proj.find(\"Device\", \"PLC Logic\", \"Application\", \"Trace\")[0] traceObject.trigger_variable = \"PLC_PRG.bVar\" traceObject.trigger_edge = TriggerEdge.Positive traceObject.post_trigger_samples = 20 Le niveau de déclenchement est requis uniquement pour les variables de déclenchement numérique...", 
"body" : "traceObject = proj.find(\"Device\", \"PLC Logic\", \"Application\", \"Trace\")[0]\ntraceObject.trigger_variable = \"PLC_PRG.bVar\"\ntraceObject.trigger_edge = TriggerEdge.Positive\ntraceObject.post_trigger_samples = 20\n Le niveau de déclenchement est requis uniquement pour les variables de déclenchement numériques. Cependant, il est judicieux de définir explicitement le déclencheur sur None . traceObject.trigger_level = None " }, 
{ "title" : "Configurer un déclencheur numérique ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-c2b239af-af15-efed-b932-7a7dde57e5a0_id_KopievonBeispieleSnippetsBestPractices-Configureanumerictrigger", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Gestion des déclencheurs \/ Configurer un déclencheur numérique ", 
"snippet" : "traceObject = proj.find(\"Device\", \"PLC Logic\", \"Application\", \"Trace\")[0] traceObject.trigger_variable = \"PLC_PRG.iTemperature\" traceObject.trigger_edge = TriggerEdge.Positive traceObject.post_trigger_samples = 20 Si la variable de déclenchement est de type REAL ou LREAL , le niveau de déclenchement...", 
"body" : "traceObject = proj.find(\"Device\", \"PLC Logic\", \"Application\", \"Trace\")[0]\ntraceObject.trigger_variable = \"PLC_PRG.iTemperature\"\ntraceObject.trigger_edge = TriggerEdge.Positive\ntraceObject.post_trigger_samples = 20 Si la variable de déclenchement est de type REAL ou LREAL , le niveau de déclenchement peut également être spécifié sous la forme d'un nombre à virgule flottante (par exemple, 80.5 ). traceObject.trigger_level = 80 " }, 
{ "title" : "Attendre le déclencheur et sauvegarder les données enregistrées ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-c2b239af-af15-efed-b932-7a7dde57e5a0_id_KopievonBeispieleSnippetsBestPractices-Waitingfortriggerandsaverecordeddata", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Gestion des déclencheurs \/ Attendre le déclencheur et sauvegarder les données enregistrées ", 
"snippet" : "L'extrait de code suivant est basé sur le \" Téléchargement et démarrage de Trace\" extrait et \"Configuration d'un déclencheur *\". triggerstate = editor.get_trigger_state() while triggerstate != TriggerState.TriggerReached: system.delay(200) triggerstate = editor.get_trigger_state() editor.save(r\"<Fil...", 
"body" : "L'extrait de code suivant est basé sur le \" Téléchargement et démarrage de Trace\" extrait et \"Configuration d'un déclencheur *\". triggerstate = editor.get_trigger_state()\nwhile triggerstate != TriggerState.TriggerReached:\n system.delay(200)\n triggerstate = editor.get_trigger_state()\n\neditor.save(r\"<File path to csv file>\") " }, 
{ "title" : "Interroger les informations d'horodatage après avoir atteint le déclencheur ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-c2b239af-af15-efed-b932-7a7dde57e5a0_id_KopievonBeispieleSnippetsBestPractices-Querytimestampinformationaftertriggerhasbeenreached", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Gestion des déclencheurs \/ Interroger les informations d'horodatage après avoir atteint le déclencheur ", 
"snippet" : "L'extrait de code suivant est basé sur le \" Téléchargement et démarrage de Trace\" extrait et \"Configuration d'un déclencheur *\". print(\"Trigger reached at {} (absolute timestamp)\".format(editor.get_trigger_timetamp())) print(\"Trigger reached at {}\".format(editor.get_trigger_startdate())) print(\"Trac...", 
"body" : "L'extrait de code suivant est basé sur le \" Téléchargement et démarrage de Trace\" extrait et \"Configuration d'un déclencheur *\". print(\"Trigger reached at {} (absolute timestamp)\".format(editor.get_trigger_timetamp()))\nprint(\"Trigger reached at {}\".format(editor.get_trigger_startdate()))\nprint(\"Trace was running {}ms until trigger has been reached\".format(editor.get_trigger_timetamp() - editor.get_trace_start_timetamp())) " }, 
{ "title" : "Reprise de l'enregistrement de trace après avoir atteint le déclencheur ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-c2b239af-af15-efed-b932-7a7dde57e5a0_id_KopievonBeispieleSnippetsBestPractices-Resumetracerecordingaftertriggerhasbeenreached", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Gestion des déclencheurs \/ Reprise de l'enregistrement de trace après avoir atteint le déclencheur ", 
"snippet" : "L'extrait de code suivant est basé sur le \" Téléchargement et démarrage de Trace\" extrait et \"Configuration d'un déclencheur *\". editor.reset_trigger()...", 
"body" : "L'extrait de code suivant est basé sur le \" Téléchargement et démarrage de Trace\" extrait et \"Configuration d'un déclencheur *\". editor.reset_trigger() " }, 
{ "title" : "Suivi de l'appareil ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-a57fe435-d021-bbe6-c14a-db27f97a934d", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Suivi de l'appareil ", 
"snippet" : "...", 
"body" : "" }, 
{ "title" : "Création d'un DeviceTrace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-a57fe435-d021-bbe6-c14a-db27f97a934d_id_KopievonBeispieleSnippetsBestPractices-CreateaDeviceTrace", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Suivi de l'appareil \/ Création d'un DeviceTrace ", 
"snippet" : "myDevice = projects.primary.find(\"Device\")[0] devicetrace = trace.create(myDevice, \"DeviceTrace\")...", 
"body" : "myDevice = projects.primary.find(\"Device\")[0]\ndevicetrace = trace.create(myDevice, \"DeviceTrace\") " }, 
{ "title" : "Interroger les enregistrements de trace actuels sur l'appareil ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-a57fe435-d021-bbe6-c14a-db27f97a934d_id_KopievonBeispieleSnippetsBestPractices-Querycurrenttracerecordingsonthedevice", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Suivi de l'appareil \/ Interroger les enregistrements de trace actuels sur l'appareil ", 
"snippet" : "L'extrait de code suivant est basé sur le \" Création d'un DeviceTrace\" extrait. traceObject = projects.primary.find(\"Device\", \"DeviceTrace\")[0] Pour les traces d'application, le résultat de get_online_traces ne contient que des traces de l'application. # traceObject = projects.primary.find(\"Device\",...", 
"body" : "L'extrait de code suivant est basé sur le \" Création d'un DeviceTrace\" extrait. traceObject = projects.primary.find(\"Device\", \"DeviceTrace\")[0]\n Pour les traces d'application, le résultat de get_online_traces ne contient que des traces de l'application. # traceObject = projects.primary.find(\"Device\", \"PLC Logic\", \"Application\", \"Trace\")[0]\neditor = traceObject.open_editor()\nfor tracepacket in editor.get_online_traces():\n print(tracepacket) " }, 
{ "title" : "Téléchargement d'une trace existante en tant que DeviceTrace ", 
"url" : "_script_examples_for_scripting_api_of_trace.html#UUID-a57fe435-d021-bbe6-c14a-db27f97a934d_id_KopievonBeispieleSnippetsBestPractices-UploadexistingtracetoDeviceTrace", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Exemples et bonnes pratiques pour le CODESYS Trace API de script \/ Suivi de l'appareil \/ Téléchargement d'une trace existante en tant que DeviceTrace ", 
"snippet" : "L'extrait de code suivant est basé sur le \" Création d'un DeviceTrace\" extrait. traceObject = projects.primary.find(\"Device\", \"DeviceTrace\")[0] editor = traceObject.open_editor() editor.upload_to_device_trace(\"CpuCoreLoad\")...", 
"body" : "L'extrait de code suivant est basé sur le \" Création d'un DeviceTrace\" extrait. traceObject = projects.primary.find(\"Device\", \"DeviceTrace\")[0]\neditor = traceObject.open_editor()\neditor.upload_to_device_trace(\"CpuCoreLoad\") " }, 
{ "title" : "Gestion des messages avec CODESYS Scripting Script ", 
"url" : "_script_message_handling_with_scripting.html", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Gestion des messages avec CODESYS Scripting Script ", 
"snippet" : "Exigences : CODESYS V3.5 SP17 ou plus récent avec installé CODESYS Scripting Version 4.2.0.0 Préparations : Copiez l’exemple de code souhaité dans un fichier et enregistrez-le en tant que script Python sous n’importe quel nom. Pour exécuter le script Python enregistré, suivez ces étapes : Commencer ...", 
"body" : "Exigences : CODESYS V3.5 SP17 ou plus récent avec installé CODESYS Scripting Version 4.2.0.0 Préparations : Copiez l’exemple de code souhaité dans un fichier et enregistrez-le en tant que script Python sous n’importe quel nom. Pour exécuter le script Python enregistré, suivez ces étapes : Commencer CODESYS . Cliquez sur le Outils → Script → Exécuter le fichier de script commande de menu. Dans le Sélectionner le fichier de script boîte de dialogue, sélectionnez le script Python qui doit être exécuté. Toutes les sorties sont affichées dans le Messages vue dans le Script catégorie. Terminologie Message Service : Fonctionnalité de la plateforme d'automatisation pour afficher différentes invites qui peuvent ensuite être traitées automatiquement si nécessaire Message Key Identifiant unique d'une invite générée via le message service. Toutes les invites ne possèdent pas de message key. Ces clés sont généralement masquées, mais peuvent être affichées via la propriété system.log_prompt_details (voir ci-dessous: Propriété: ). " }, 
{ "title" : "Propriété: system.script_prompt_handling ", 
"url" : "_script_message_handling_with_scripting.html#UUID-87499b2f-e086-5a74-affa-0d9fb0b6a357_section-id235153315777883", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Gestion des messages avec CODESYS Scripting Script \/ Propriété: system.script_prompt_handling ", 
"snippet" : "Vous pouvez utiliser la propriété system.script_prompt_handling pour spécifier si et comment les invites du message service sont traitées automatiquement. Exemple 1 Les valeurs ScriptPromptHandling.LogPrompts et ScriptPromptHandling.ForwardUnknownPrompts sont assignés. La valeur ScriptPromptHandling...", 
"body" : "Vous pouvez utiliser la propriété system.script_prompt_handling pour spécifier si et comment les invites du message service sont traitées automatiquement. Exemple 1 Les valeurs ScriptPromptHandling.LogPrompts et ScriptPromptHandling.ForwardUnknownPrompts sont assignés. La valeur ScriptPromptHandling.ForwardUnknownPrompts spécifie que toutes les invites sans entrée correspondante dans system.prompt_answers sont transmis au message service sous-jacent. La valeur ScriptPromptHandling.LogPrompts spécifie que, pour toutes les invites avec une entrée dans system.prompt_answers est affiché dans la vue des messages, avec quelles valeurs l'invite a été confirmée. system.script_prompt_handling = ScriptPromptHandling.LogPrompts | ScriptPromptHandling.ForwardUnknownPrompts Exemple 2 Les valeurs ScriptPromptHandling.LogPrompts et ScriptPromptHandling.AlwaysForwardPrompts sont assignés. La valeur ScriptPromptHandling.AlwaysForwardPrompts précise que tous Les invites sont transmises au message service sous-jacent. Les entrées correspondantes dans « system.prompt_answers » sont ignorées. ScriptPromptHandling.LogPrompts n'a aucun effet dans ce cas car ScriptPromptHandling.AlwaysForwardPrompts a la priorité la plus élevée et remplace toutes les autres options. system.script_prompt_handling = ScriptPromptHandling.LogPrompts | ScriptPromptHandling.AlwaysForwardUnknown Les conditions supplémentaires suivantes s'appliquent à toutes les invites qui nécessitent une interaction utilisateur supplémentaire (par exemple, la sélection de cases à cocher) lorsque seules ScriptPromptHandling.SuppressPrompts ou ScriptPromptHandling.LogPrompt est défini : Toutes les invites sans message key sont transmises au message service sous-jacent. Toutes les invites avec une message key nécessitent une entrée dans system.prompt_answers . " }, 
{ "title" : "Propriété: system.process_script_prompts ", 
"url" : "_script_message_handling_with_scripting.html#UUID-87499b2f-e086-5a74-affa-0d9fb0b6a357_section-id235153379466094", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Gestion des messages avec CODESYS Scripting Script \/ Propriété: system.process_script_prompts ", 
"snippet" : "Avec le system.process_script_prompts propriété, vous pouvez spécifier si les invites générées via system.ui devraient également être traités par le message handling de CODESYS Scripting . Exemple 1 Dans l'exemple suivant, le traitement des invites, qui sont générées via CODESYS Scripting , est acti...", 
"body" : "Avec le system.process_script_prompts propriété, vous pouvez spécifier si les invites générées via system.ui devraient également être traités par le message handling de CODESYS Scripting . Exemple 1 Dans l'exemple suivant, le traitement des invites, qui sont générées via CODESYS Scripting , est activé. Lorsque ce script est exécuté, l'invite d'informations générée est traitée par le message handling de CODESYS Scripting et le résultat est affiché dans la vue des messages. system.process_script_prompts = True\nsystem.script_prompt_handling = ScriptPromptHandling.LogPrompts\nsystem.ui.info(\"my info message\", \"message_key\") Exemple 2 Dans l'exemple suivant, le traitement des invites, qui sont générées via CODESYS Scripting , est désactivé. Lorsque ce script est exécuté, une invite d'informations s'ouvre qui n'est pas traitée par la message handling de CODESYS Scripting . system.process_script_prompts = False\nsystem.script_prompt_handling = ScriptPromptHandling.LogPrompts\nsystem.ui.info(\"my info message\", \"message_key\") " }, 
{ "title" : "Propriété: system.log_prompt_details ", 
"url" : "_script_message_handling_with_scripting.html#UUID-87499b2f-e086-5a74-affa-0d9fb0b6a357_section-id235153395554342", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Gestion des messages avec CODESYS Scripting Script \/ Propriété: system.log_prompt_details ", 
"snippet" : "Avec le system.log_prompt_details Cette propriété permet de spécifier si tous les détails d'une invite doivent être affichés dans la vue des messages avant traitement. Ceci est particulièrement utile si la réponse à une invite plus complexe doit être stockée dans system.prompt_answers . Étant donné ...", 
"body" : "Avec le system.log_prompt_details Cette propriété permet de spécifier si tous les détails d'une invite doivent être affichés dans la vue des messages avant traitement. Ceci est particulièrement utile si la réponse à une invite plus complexe doit être stockée dans system.prompt_answers . Étant donné que la message key d'une invite est également affichée, la méthode peut être utilisée pour déterminer la message key correspondante à utiliser dans system.prompt_answers , Par exemple. Exemple 1 Dans l'exemple suivant, la journalisation des détails de l'invite est activé . Après cela, une invite avec des options supplémentaires est générée. Lorsque ce script est exécuté, l’invite apparaît et toutes les informations sur cette invite sont affichées dans la vue du message. system.log_prompt_details = True\nsystem.process_script_prompts = True\noptions = [\"Option 1\", \"Option 2\", \"Option 3\"]\nsystem.ui.select_many(\"my info message\", PromptChoice.OKCancel, PromptResult.Cancel, options, \"message_key\") Exemple 2 Dans l'exemple suivant, la journalisation des détails de l'invite est désactivé . Après cela, une invite avec des options supplémentaires est générée. Lors de l'exécution de ce script, l'invite s'affiche. Aucune information relative à l'invite n'est affichée dans la vue des messages. system.log_prompt_details = False\nsystem.process_script_prompts = True\noptions = [\"Option 1\", \"Option 2\", \"Option 3\"]\nsystem.ui.select_many(\"my info message\", PromptChoice.OKCancel, PromptResult.Cancel, options, \"message_key\") " }, 
{ "title" : "Propriété: system.prompt_answers ", 
"url" : "_script_message_handling_with_scripting.html#UUID-87499b2f-e086-5a74-affa-0d9fb0b6a357_section-id235153404768729", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Gestion des messages avec CODESYS Scripting Script \/ Propriété: system.prompt_answers ", 
"snippet" : "Avec le system.prompt_answers propriété, vous pouvez spécifier comment les réponses doivent être apportées à des invites spécifiques. C'est nécessaire Lorsque les invites ne doivent pas recevoir de réponse avec les valeurs par défaut définies Pour les invites qui nécessitent une interaction suppléme...", 
"body" : "Avec le system.prompt_answers propriété, vous pouvez spécifier comment les réponses doivent être apportées à des invites spécifiques. C'est nécessaire Lorsque les invites ne doivent pas recevoir de réponse avec les valeurs par défaut définies Pour les invites qui nécessitent une interaction supplémentaire de l'utilisateur (par exemple, la sélection de cases à cocher) Seules les réponses aux invites avec une message key peuvent être stockées. " }, 
{ "title" : "Invites sans options de sélection supplémentaires ", 
"url" : "_script_message_handling_with_scripting.html#UUID-87499b2f-e086-5a74-affa-0d9fb0b6a357_section-id235153408386325", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Gestion des messages avec CODESYS Scripting Script \/ Invites sans options de sélection supplémentaires ", 
"snippet" : "Dans l'exemple suivant, la manière dont la réponse aux invites avec le message_key_1 la message key doit être effectuée est stockée dans system.prompt_answers . Dans cet exemple, toutes les invites avec cette message key reçoivent une réponse avec OK répondu. Lorsque ce script est exécuté, deux invi...", 
"body" : "Dans l'exemple suivant, la manière dont la réponse aux invites avec le message_key_1 la message key doit être effectuée est stockée dans system.prompt_answers . Dans cet exemple, toutes les invites avec cette message key reçoivent une réponse avec OK répondu. Lorsque ce script est exécuté, deux invites sont générées l'une après l'autre. La première invite avec le message_key_1 la message key est traitée automatiquement et le résultat est affiché dans la vue du message. La deuxième invite avec le message_key_2 la message key s'affiche. system.process_script_prompts = True\nsystem.prompt_answers[\"message_key_1\"] = PromptResult.OK\nsystem.ui.prompt(\"automatically processed prompt\", PromptChoice.OKCancel, PromptResult.Cancel, message_key=\"message_key_1\")\nsystem.ui.prompt(\"shown prompt\", PromptChoice.OKCancel, PromptResult.Cancel, message_key=\"message_key_2\") " }, 
{ "title" : "Invites avec sélection unique supplémentaire ", 
"url" : "_script_message_handling_with_scripting.html#UUID-87499b2f-e086-5a74-affa-0d9fb0b6a357_section-id235153408756057", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Gestion des messages avec CODESYS Scripting Script \/ Invites avec sélection unique supplémentaire ", 
"snippet" : "Pour les invites qui attendent la sélection d'une option parmi une liste d'options possibles, l'option qui doit être sélectionnée doit être stockée dans system.prompt_answers pour la message key correspondante. Il y a deux options pour cela : Spécifiez l'index de base zéro de l'option souhaitée Stoc...", 
"body" : "Pour les invites qui attendent la sélection d'une option parmi une liste d'options possibles, l'option qui doit être sélectionnée doit être stockée dans system.prompt_answers pour la message key correspondante. Il y a deux options pour cela : Spécifiez l'index de base zéro de l'option souhaitée Stocker un délégué de type MultipleChoiceSelector Exemple 1 Dans l'exemple suivant, l'index est stocké dans system.prompt_answers , qui doit être utilisé pour toutes les invites avec le message_key_1 message key. system.process_script_prompts = True\noptions = [\"Option 1\", \"Option 2\", \"Option 3\"]\nsystem.prompt_answers[\"message_key_1\"] = 1\nsystem.ui.choose(\"single choice prompt\", options, message_key=\"message_key_1\") Exemple 2 Dans l'exemple suivant, un délégué de type MultipleChoiceSelector est stocké dans system.prompt_answers qui devrait être utilisé pour toutes les invites avec le message_key_1 message key. from System import Array\n\n# filter function\ndef my_filter(choices):\n    return Array.IndexOf(choices, \"Option 2\")\n\nsystem.process_script_prompts = True\noptions = [\"Option 1\", \"Option 2\", \"Option 3\"]\nsystem.prompt_answers[\"message_key_1\"] = MultipleChoiceSelector(my_filter)\nsystem.ui.choose(\"single choice prompt\", options, message_key=\"message_key_1\") " }, 
{ "title" : "Invites avec sélection multiple supplémentaire ", 
"url" : "_script_message_handling_with_scripting.html#UUID-87499b2f-e086-5a74-affa-0d9fb0b6a357_section-id23515340912015", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Gestion des messages avec CODESYS Scripting Script \/ Invites avec sélection multiple supplémentaire ", 
"snippet" : "Pour les invites qui attendent la sélection de plusieurs options à partir d'une liste d'options possibles, les options qui doivent être sélectionnées et le résultat avec lequel l'invite doit répondre doivent être enregistrés dans system.prompt_answers pour la message key correspondante. Il y a deux ...", 
"body" : "Pour les invites qui attendent la sélection de plusieurs options à partir d'une liste d'options possibles, les options qui doivent être sélectionnées et le résultat avec lequel l'invite doit répondre doivent être enregistrés dans system.prompt_answers pour la message key correspondante. Il y a deux options pour cela : Spécifiez l'index de base zéro de l'option souhaitée Stocker un délégué de type MultipleChoiceSelector Exemple Dans l'exemple suivant, un tuple est stocké dans system.prompt_answers qui contient tout d'abord le PromptResult à utiliser et contient deuxièmement un délégué de type PromptChoiceFilter . Lors de l'exécution du script, la réponse à l'invite est automatique et le résultat s'affiche dans la vue Message. Pour les options individuelles, Boolean est utilisé pour spécifier s'ils ont été sélectionnés. # filter function\ndef my_filter(choice):\n    return choice in (\"Option 1\", \"Option 3\")\n\nsystem.process_script_prompts = True\noptions = [\"Option 1\", \"Option 2\", \"Option 3\"]\nsystem.prompt_answers[\"message_key_1\"] = (PromptResult.OK, PromptChoiceFilter(my_filter))\nsystem.ui.select_many(\"select many prompt\", PromptChoice.OKCancel, PromptResult.OK, options, message_key=\"message_key_1\") " }, 
{ "title" : "Invites avec des options de sélection supplémentaires spécifiques à l'application ", 
"url" : "_script_message_handling_with_scripting.html#UUID-87499b2f-e086-5a74-affa-0d9fb0b6a357_section-id235153409608051", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Gestion des messages avec CODESYS Scripting Script \/ Invites avec des options de sélection supplémentaires spécifiques à l'application ", 
"snippet" : "Dans l'exemple suivant, un tuple est stocké dans system.prompt_answers qui contient tout d'abord le PromptResult à utiliser et contient deuxièmement un délégué de type PromptCustomControlValueProvider . Exemple L'exemple suivant montre comment un tel délégué est implémenté et stocké dans system.prom...", 
"body" : "Dans l'exemple suivant, un tuple est stocké dans system.prompt_answers qui contient tout d'abord le PromptResult à utiliser et contient deuxièmement un délégué de type PromptCustomControlValueProvider . Exemple L'exemple suivant montre comment un tel délégué est implémenté et stocké dans system.prompt_answers . Les identifiants des sous-contrôles individuels peuvent être lus via system.log_prompt_details . # filter function\ndef my_filter(control_id):\n    if control_id = id_1:\n        return \"value_for_id_1\"\n    if control_id = id_2:\n        return \"value_for_id_2\" \n   return None\n\nsystem.prompt_answers[\"message_key_1\"] = (PromptResult.OK, PromptCustomControlValueProvider(my_filter)) " }, 
{ "title" : "Restrictions ", 
"url" : "_script_restrictions-2000869.html", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Restrictions ", 
"snippet" : "...", 
"body" : "" }, 
{ "title" : "Exécutions de scripts réentrants ", 
"url" : "_script_restrictions-2000869.html#UUID-2796d574-fbea-140d-c18f-4700f86c503f_section-id235160169847221", 
"breadcrumbs" : "CODESYS Scripting \/ Utilisation de scripts pour accéder CODESYS Fonctionnalités \/ Restrictions \/ Exécutions de scripts réentrants ", 
"snippet" : "Dans CODESYS , il est possible que l'exécution d'un script IronPython implique l'exécution d'un autre script IronPython imbriqué. Par exemple, un script est exécuté via Exécuter le script commande et le system.commands L'interface permet d'appeler à nouveau la commande avec un script différent. De m...", 
"body" : "Dans CODESYS , il est possible que l'exécution d'un script IronPython implique l'exécution d'un autre script IronPython imbriqué. Par exemple, un script est exécuté via Exécuter le script commande et le system.commands L'interface permet d'appeler à nouveau la commande avec un script différent. De même, ce type de script pourrait appeler la commande pour créer un CODESYS Test Manager Un script contenant lui-même des actions de test de script. Ces scénarios sont appelés « exécution de script réentrante ». Bien que ces scénarios fonctionnent généralement, ils sont limités en termes de mémoire et d'affichage des messages. Chaque nouvelle exécution de script supprime tous les messages du Script catégorie de message. Autrement dit, seuls les messages de l'exécution du script imbriqué le plus profond sont affichés jusqu'à sa fin. Ceci s'applique également si le script est exécuté avec un enregistreur de messages de console ( noUI ). " }, 
{ "title" : "CODESYS Scripting API ", 
"url" : "_script_api_documentation.html", 
"breadcrumbs" : "CODESYS Scripting \/ CODESYS Scripting API ", 
"snippet" : "CODESYS API de script CODESYS Application Composer API de script CODESYS Communication API de script CODESYS Git API de script CODESYS Recipes API de script CODESYS SVN API de script CODESYS Trace API de script CODESYS Visualization API de script CODESYS Visualization Support API de script CODESYS A...", 
"body" : "CODESYS API de script CODESYS Application Composer API de script CODESYS Communication API de script CODESYS Git API de script CODESYS Recipes API de script CODESYS SVN API de script CODESYS Trace API de script CODESYS Visualization API de script CODESYS Visualization Support API de script CODESYS Automation Server Connector API de création de scripts " }, 
{ "title" : "Référence : Commandes de menu ", 
"url" : "_script_ref_menu_commands.html", 
"breadcrumbs" : "CODESYS Scripting \/ Référence : Commandes de menu ", 
"snippet" : "si CODESYS Scripting installé, vous trouverez les commandes de menu dans le menu Outils , sous-menu Script ....", 
"body" : "si CODESYS Scripting installé, vous trouverez les commandes de menu dans le menu Outils , sous-menu Script . " }, 
{ "title" : "Commande : Scripting - Exécuter le fichier de script ", 
"url" : "_cds_cmd_execute_script_file.html", 
"breadcrumbs" : "CODESYS Scripting \/ Référence : Commandes de menu \/ Commande : Scripting - Exécuter le fichier de script ", 
"snippet" : "Scripting - Exécuter le fichier de script Symbole: une fonction : La commande ouvre une boîte de dialogue pour sélectionner le fichier de script ( *.py) puis exécute le fichier de script sélectionné. appeler : Menu outils Pour plus d'informations, voir : Script dans...", 
"body" : "Scripting - Exécuter le fichier de script Symbole: une fonction : La commande ouvre une boîte de dialogue pour sélectionner le fichier de script ( *.py) puis exécute le fichier de script sélectionné. appeler : Menu outils Pour plus d'informations, voir : Script dans " }, 
{ "title" : "Commande : Scripting - Activer le suivi des scripts ", 
"url" : "_cds_cmd_activate_script_tracing.html", 
"breadcrumbs" : "CODESYS Scripting \/ Référence : Commandes de menu \/ Commande : Scripting - Activer le suivi des scripts ", 
"snippet" : "Scripting - Activer le traçage des scripts Symbole: une fonction : La commande fait ça CODESYS affiche toutes les commandes du fichier de script dans la fenêtre de message. Utilisez la commande pour surveiller et déboguer les scripts. Un cadre bleu autour de l'icône indique que l'option a été activé...", 
"body" : "Scripting - Activer le traçage des scripts Symbole: une fonction : La commande fait ça CODESYS affiche toutes les commandes du fichier de script dans la fenêtre de message. Utilisez la commande pour surveiller et déboguer les scripts. Un cadre bleu autour de l'icône indique que l'option a été activée. appeler : Menu outils Pour plus d'informations, voir : Script dans " }, 
{ "title" : "Commande : Scripting : Scripts ", 
"url" : "_cds_cmd_scripts.html", 
"breadcrumbs" : "CODESYS Scripting \/ Référence : Commandes de menu \/ Commande : Scripting : Scripts ", 
"snippet" : "Scripting : Scripts Fonction : La commande exécute un script qui est stocké dans le ScriptDir dossier. Appel : Outils menu Exigence : Sous C:\\Users\\<user name> \\AppData\\Local\\CODESYS , vous avez créé un sous-répertoire nommé ScriptDir . Les scripts Python sont stockés dans ce dossier avec le .py ext...", 
"body" : "Scripting : Scripts Fonction : La commande exécute un script qui est stocké dans le ScriptDir dossier. Appel : Outils menu Exigence : Sous C:\\Users\\<user name> \\AppData\\Local\\CODESYS , vous avez créé un sous-répertoire nommé ScriptDir . Les scripts Python sont stockés dans ce dossier avec le .py extension de fichier. Tous les scripts contenus dans le ScriptDir Les dossiers sont exécutables sous forme de commandes de menu et sont triés par ordre alphabétique par nom de fichier. La liste des scripts est actualisée toutes les 10 secondes. Pour plus d'informations, consultez les éléments suivants : Script dans " }
]
$(document).trigger('search.ready');
});